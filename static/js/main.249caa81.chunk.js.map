{"version":3,"sources":["analytics.tsx","constants.ts","utils.ts","api.ts","hooks/useResizeHook.tsx","components/ChangeLog.tsx","components/Charts.tsx","components/Collapsible.tsx","components/DepositsVsPortfolioValueTimeline.tsx","components/Events.tsx","components/CompositionGroup.tsx","components/StockDetails.tsx","components/StockTimeline.tsx","components/HoldingsCharts.tsx","components/VirtualTable.tsx","components/HoldingsTable.tsx","components/News.tsx","components/PnLStatistics.tsx","components/PortfolioVisualizer.tsx","components/ProfitLossPercentageTimeline.tsx","components/ProfitLossTimeline.tsx","components/RealizedPnL.tsx","components/StockPnLTimeline.tsx","components/TopGainersLosers.tsx","components/YoYPnLChart.tsx","mocks/currencies.ts","App.tsx","serviceWorker.js","index.tsx"],"names":["enabled","initTracking","userHash","window","analytics","page","trackEvent","identify","action","data","track","console","debug","DATE_FORMAT","TRANSACTIONS_FROM_DATE","TYPE_TO_COLOR","buy","sell","income","dividend","distribution","tax","fee","CHANGE_LOG_DATE_CACHE_KEY","getDate","date","moment","slice","getCurrencyInCAD","value","currencyCache","multiplier","format","latestDate","Object","keys","sort","a","b","localeCompare","formatMoney","amount","precision","undefined","toLocaleString","minimumFractionDigits","maximumFractionDigits","getSymbol","security","symbol","name","currency","type","getNasdaqTicker","getSymbolFromNasdaqTicker","ticker","startsWith","replace","min","field","reduce","p","max","formatCurrency","digits","i","si","length","Math","abs","formattedAmount","toFixed","buildCorsFreeUrl","target","getPreviousWeekday","referenceDate","day","diff","subtract","parseCurrencyReponse","response","from","hash","Number","add","parseInstitutionsResponse","groups","institutions","filter","institution","includes","id","accounts","instutition","concat","investments","account","group","ignored","map","_id","instutitionName","created_at","creation_date","split","trim","toUpperCase","toLocaleUpperCase","cash","currency_value","positions","position","parsePortfolioResponse","history","total","parseAccountTransactionsResponse","t","deleted","transaction","toLowerCase","currency_amount","investment","description","parsePositionsResponse","AutoReSizer","children","useState","width","innerWidth","height","innerHeight","size","setSize","onResize","LOGS","tab","title","images","link","Link","href","LogItem","index","style","preview","setPreview","log","py","Item","Title","level","pb","color","Text","my","flexWrap","src","mr","mb","onClick","cursor","fallback","maxWidth","top","closable","maskClosable","footer","visible","onCancel","justifyContent","ChangeLog","itemCount","itemSize","getNewChangeLogsCount","changeLogDate","localStorage","getItem","getLocalCache","isAfter","setChangeLogViewDate","setItem","setLocalCache","Charts","props","options","series","message","highcharts","Highcharts","constructorType","oneToOne","HC_DrillDown","React","memo","Collapsible","closed","defaultActiveKey","expandIconPosition","onChange","Panel","header","backgroundColor","DepositVsPortfolioValueTimeline","text","subtitle","rangeSelector","selected","process","inputEnabled","navigator","scrollbar","yAxis","crosshair","dashStyle","labels","isPrivateMode","opposite","plotOptions","tooltip","pointFormat","valueDecimals","responsive","rules","condition","chartOptions","chart","portfolios","portfolio","x","valueOf","y","displayValue","deposits","EventTypes","types","renderTag","isSelected","_type","Events","events","setEvents","loading","setLoading","startOf","setDate","range","useMemo","start","end","endOf","setTypes","useEffect","_symbols","join","url","clone","fetch","cache","method","headers","then","json","dividends","earnings","catch","error","info","finally","eventsByDate","result","earning","earningDate","push","company","forEach","dividendDate","textAlign","onSelect","newDate","startOfMonth","isSame","validRange","dateCellRender","_events","item","headerRender","alignItems","disabled","isSameOrBefore","icon","isSameOrAfter","headStyle","paddingLeft","fontSize","fontWeight","marginTop","marginBottom","bodyStyle","padding","columns","key","dataIndex","render","defaultSortOrder","sorter","align","dataSource","CompositionGroup","changeGroup","tracker","flexDirection","Group","optionType","buttonStyle","defaultValue","e","label","getGroupKey","LabelValue","valueProps","rest","borderBottom","strong","StockDetails","marketValue","sum","market_value","find","quantity","book_value","gain_amount","gain_percent","cost","last_price","pt","StockTimeline","_mounted","getFlags","onSeries","isBuySell","_","startCase","shape","transactions","array","lastTransaction","pop","shares","price","round","charAt","fillColor","state","this","fetchData","nextProps","prevPrice","crypto","to","closePrice","reverse","isoWeekday","timestamp","sortedData","setState","startDate","addon","request","query","endpoint","parseSecuritiesResponse","endDate","unix","minPrice","maxPrice","minTimestamp","maxTimestamp","_data","textDecoration","getSeries","legend","margin","getOptions","Component","POSITION_TOOLTIP","pointFormatter","point","percentage","pnlColor","gain","profit","buyPrice","lastPrice","accountsTable","headerFormat","HoldingsCharts","timelineSymbol","setTimelineSymbol","compositionGroup","setCompositionGroup","showHoldings","setShowHoldings","currencyCacheKeys","lastCurrencyDate","colors","getColor","getAccountsCompositionHoldingsDrilldown","drilldown","accountsByName","mergedAccount","existingPosition","gain_currency_amount","getDataForAccount","values","numPositions","idx","brightness","brighten","get","dataLabels","activeAxisLabelStyle","activeDataLabelStyle","innerSize","formatter","getCompositionGroupSeriesOptions","totalValue","gainAmount","_name","_account","cad","usd","accountsSeries","cashTable","gainRatio","distance","getAccountsCompositionSeries","yAxisTitle","outside","useHTML","xAxis","rotation","fontFamily","click","event","column","colorByPoint","showInLegend","pie","allowPointSelect","getPositionsSeries","columnChartOptions","pieChartOptions","compositionGroupOptions","pr","Option","showSearch","placeholder","showArrow","filterOption","inputValue","option","indexOf","renderStockSelector","renderStockTimeline","mt","alignContent","checked","px","VirtualTable","scroll","tableWidth","setTableWidth","mergedColumns","floor","gridRef","useRef","obj","defineProperty","set","scrollLeft","current","scrollTo","connectObject","resetVirtualGrid","resetAfterIndices","columnIndex","shouldForceUpdate","className","pagination","components","body","scrollbarSize","ref","onScroll","totalHeight","columnCount","columnWidth","rowCount","rowHeight","rowIndex","record","classNames","HoldingsTable","rel","Dot","NewsItem","news","paddingBottom","paddingRight","sentiment","source","News","setNews","symbols","setSymbols","setSymbol","setSentiment","validSymbols","Set","articleTimestamp","addedOn","companyName","siteName","Array","sidebarContainerRef","newsContainerRef","selectedNews","_news","Button","left","behavior","display","lineHeight","clientHeight","overflow","StatisticBox","PnLStatistics","privateMode","bookValue","noHoldings","unrealizePnLValue","unrealizedPnLRatio","borderRadius","borderColor","prefix","valueStyle","suffix","PortfolioVisualizer","remainingWeightage","params","weightage","getBacktestPortfolioAssetAllocationLink","factorRegression","ProfitLossPercentageTimeline","pnlValue","spline","zones","ProfitLossTimeline","pnlRatio","DATE_DISPLAY_FORMAT","RealizedPnLTable","closedPositions","pageSize","summary","totalPnL","pnl","Summary","Row","Cell","colSpan","filters","onFilter","twoToneColor","sellPrice","buyDate","sellDate","duration","humanize","ExpensesTable","accountById","interest","IncomeTable","RealizedPnL","accountTransactions","fromDate","timeline","setTimeline","expenseTransactions","totalExpense","expense","incomeTransactions","totalIncome","closePosition","closedShares","buyRecord","sellRecord","buyValue","closedPosition","securityType","openShares","openPosition","computeClosedPositions","book","splitRatio","handleSplit","getBarLabel","getData","pnlHuman","gains","pnls","expenses","incomes","individualSeries","getClosedPnLByAccountSeries","closedPnL","negative","realizedPnL","accountSeriesOptions","typesOptions","justifyItems","checkedValues","POINT_FORMAT","StockPnLTimeline","showValueChart","prices","setPrices","mounted","all","getNextWeekday","accountBook","isBuy","isSplit","tPrice","lastBuySell","newPositionShares","newPosition","allLastBuySell","allEntry","_entry","allBook","entry","d","stockPrice","gapSize","TopGainersLosers","sortByValue","setSortByValue","pnlSymbol","setPnlSymbol","getTopGainersLosers","gainers","setTimeout","gainDisplay","losers","mark","renderStockPnLTimeline","YoYPnLChart","portfoliosByDate","getNearestPortfolioDate","currentPortfolio","currentDate","utc","hour","weekday","lastDate","portfolioKeys","portfolioValues","has","startPortfolio","endPortfolio","year","month","startPnl","endPnl","startRatio","endRatio","changeValue","changeRatio","mouseOver","CURRENCIES_API_RESPONSE","high","low","first","last","difference","change","App","getAddon","Addon","on","load","authUser","isLoadingOnUpdate","warn","debounce","loadData","leading","computePortfolios","portfolioByDate","securityTransactions","origin_type","match","parseInt","fees","parseSecurityTransactionsResponse","securityTransactionsBySymbol","last_date","computeBookValue","transactionsByDate","dateKey","portfolioData","deposit","withdrawal","parseTransactionsResponse","portfolioPerDay","sortedDates","totalDeposits","allPortfolios","isLoaded","base","oldOptions","mergeOptions","Promise","loadPositions","loadPortfolioData","loadTransactions","loadInstitutionsData","loadCurrenciesCache","_currencyCache","toDate","assets","groupsFilter","institutionsFilter","investmentsFilter","institutionsData","positionsData","transactionsData","DATA","loadStaticPortfolioData","computeChangeLogCount","newChangeLogsCount","showIcon","alt","TabPane","destroyInactiveTabPane","forceRender","count","overflowCount","offset","Boolean","location","hostname","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"+bAAIA,GAAU,EAEP,SAASC,EAAaC,GACtBC,OAAOC,aAIZJ,GAAU,IAQRG,OAAOC,UAAUC,OANnBC,EAAW,QACXH,OAAOC,UAAUG,SAASL,IASrB,SAASI,EAAWE,EAAgBC,GACrCT,EACFG,OAAOC,UAAUM,MAAMF,EAAQC,GAAQ,IAEvCE,QAAQC,MAAM,0BAA2B,CAAEJ,SAAQC,S,YCvB1CI,EAAc,aACdC,EAAyB,aAEzBC,EAAgB,CAC3BC,IAAK,UACLC,KAAM,UACNC,OAAQ,QACRC,SAAU,QACVC,aAAc,QACdC,IAAK,QACLC,IAAK,SAGMC,EAA4B,0BCL5BC,EAAU,SAACC,GACtB,OAAOC,IAAOD,EAAKE,MAAM,EAAG,IAAKd,IAGtBe,EAAmB,SAACH,EAAuBI,EAAeC,GACrE,IAAMC,EAAaD,EAA8B,kBAATL,EAAoBA,EAAOA,EAAKO,OAAOnB,IAC/E,GAAIkB,EACF,OAAOF,EAAQE,EAEf,IAAME,EAAaC,OAAOC,KAAKL,GAAeM,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAEC,cAAcF,MAAI,GACjF,OAAOJ,EAAaJ,EAAQC,EAAcG,GAAcJ,GAI/CW,EAAc,SAACC,EAAiBC,GAE3C,OADAA,OAA0BC,IAAdD,GAAyC,OAAdA,EAAqB,EAAIA,OACjDC,IAAXF,GAAmC,OAAXA,EACnB,IAEFA,EAAOG,eAAe,QAAS,CACpCC,sBAAuBH,EACvBI,sBAAuBJ,KAuBpB,IAAMK,EAAY,SAACC,GACxB,MAAM,GAAN,OAAUA,EAASC,QAAUD,EAASE,MAAtC,OAAmE,QAAtBF,EAASG,UAAwC,WAAlBH,EAASI,KAAoB,GAAK,QAGnGC,EAAkB,SAACL,GAAD,MACP,QAAtBA,EAASG,SAAT,cAAqCH,EAASC,QAAWD,EAASC,QAEvDK,EAA4B,SAACC,GAAD,OACvCA,EAAOC,WAAW,QAAlB,UAA+BD,EAAOE,QAAQ,OAAQ,IAAtD,OAAiEF,GAEtDG,EAAM,SAACjD,EAAakD,GAC/B,OAAOlD,EAAKmD,QAAO,SAACF,EAAKG,GAAN,OAAaA,EAAEF,GAASD,EAAIC,GAASE,EAAIH,IAAMjD,EAAK,KAG5DqD,EAAM,SAACrD,EAAakD,GAC/B,OAAOlD,EAAKmD,QAAO,SAACE,EAAKD,GAAN,OAAaA,EAAEF,GAASG,EAAIH,GAASE,EAAIC,IAAMrD,EAAK,KAG5DsD,EAAiB,SAACtB,EAAgBuB,GAC7C,IAUIC,EAVAC,EAAK,CACP,CAAErC,MAAO,EAAGoB,OAAQ,IACpB,CAAEpB,MAAO,IAAKoB,OAAQ,KACtB,CAAEpB,MAAO,IAAKoB,OAAQ,KACtB,CAAEpB,MAAO,IAAKoB,OAAQ,KACtB,CAAEpB,MAAO,KAAMoB,OAAQ,KACvB,CAAEpB,MAAO,KAAMoB,OAAQ,KACvB,CAAEpB,MAAO,KAAMoB,OAAQ,MAIzB,IAAKgB,EAAIC,EAAGC,OAAS,EAAGF,EAAI,KACtBG,KAAKC,IAAI5B,IAAWyB,EAAGD,GAAGpC,OADDoC,KAK/B,IAAMK,GAAmBF,KAAKC,IAAI5B,GAAUyB,EAAGD,GAAGpC,OAAO0C,QAAQP,GAAQP,QAPhE,2BAO4E,MAAQS,EAAGD,GAAGhB,OACnG,OAAOR,EAAS,EAAT,WAAiB6B,GAAoBA,GAWvC,SAASE,EAAiBC,GAC/B,MAAM,2BAAN,OAAkCA,GAG7B,SAASC,EAAmBjD,GACjC,IAAMkD,EAAgBjD,IAAOD,GACzBmD,EAAMD,EAAcC,MACpBC,EAAO,EAKX,OAJY,IAARD,GAAqB,IAARA,IAEfC,EAAOD,EAAM,GAERD,EAAcG,SAASD,EAAM,QC3G/B,IAAME,EAAuB,SAACC,GACnC,IAAMvD,EAAOD,EAAQwD,EAASC,MAC9B,OAAOD,EAASvE,KAAKmD,QAAO,SAACsB,EAAMrD,GAMjC,OALMA,IACJqD,EAAKzD,EAAKO,OAAOnB,IAAgBsE,OAAOtD,IAG1CJ,EAAK2D,IAAI,EAAG,QACLF,IACN,KASQG,EAA4B,SAACL,EAAeM,EAAmBC,GAE1E,OAAOP,EACJQ,QAAO,SAACC,GAAD,OAAkBF,IAAiBA,EAAapB,QAAUoB,EAAaG,SAASD,EAAYE,OACnG/B,QAAO,SAACgC,EAAUC,GACjB,OAAOD,EAASE,OACdD,EAAYE,YACTP,QAAO,SAACQ,GAAD,QAAeV,IAAWA,EAAOnB,QAAUmB,EAAOI,SAASM,EAAQC,UAAYD,EAAQE,WAC9FC,KAAI,SAACH,GACJ,MAAO,CACLL,GAAIK,EAAQI,IACZX,YAAaI,EAAYF,GACzBU,gBAAiBR,EAAY3C,KAC7BA,KAAK,GAAD,OAAK2C,EAAY3C,KAAjB,YAAyB8C,EAAQ9C,MACrCoD,WAAY9E,EAAQqE,EAAYU,eAChCnD,MDyFuBA,ECxFrB4C,EAAQ5C,KACJ4C,EAAQ5C,KACR4C,EAAQ9C,MAAQ8C,EAAQ9C,KAAKwC,SAAS,KACtCM,EAAQ9C,KAAKsD,MAAM,KAAK,GAAGC,OAC3BT,EAAQ9C,MDqF1BE,EAAOA,EAAOA,EAAKsD,cAAgB,IAC1BhB,SAAS,SACT,QACEtC,EAAKsC,SAAS,SAAWtC,EAAKsC,SAAS,sCACzC,OACEtC,EAAKsC,SAAS,SAAWtC,EAAKsC,SAAS,yBACzC,OAC+B,SAA7BtC,EAAKuD,qBAA+D,WAA7BvD,EAAKuD,oBAC9C,SAEAvD,GC7FG6C,MAAOD,EAAQC,MACfW,KAAMZ,EAAQY,KACd/E,MAAOmE,EAAQnE,MACfgF,eAAgBb,EAAQa,eACxB1D,SAAU6C,EAAQ7C,SAClB2D,WAAYd,EAAQc,WAAa,IAAIX,KAAI,SAACY,GAAD,mBAAC,eACrCA,GADoC,IAEvC9D,OAAQF,EAAUgE,EAAS/D,gBD2EpC,IAA8BI,QCvGP,KAoCjB4D,EAAyB,SAAChC,GACrC,IAAMvE,EAAOuE,EAASiC,QAAQC,MACxBzF,EAAOD,EAAQf,EAAKwE,MAC1B,OAAOxE,EAAKA,KAAKmD,QAAO,SAACsB,EAAMrD,GAO7B,OANMA,IACJqD,EAAKzD,EAAKO,OAAOnB,IAAgBsE,OAAOtD,IAI1CJ,EAAK2D,IAAI,EAAG,QACLF,IACN,KA6GQiC,EAAmC,SAACnC,EAAelD,GAC9D,OAAOkD,EACJQ,QAAO,SAAC4B,GAAD,OAAQA,EAAEC,SAAWD,EAAEhE,QAC9BoC,QAAO,SAAC8B,GAAD,MACN,CAAC,WAAY,UAAW,aAAc,WAAY,OAAO5B,SAAS4B,EAAYlE,KAAKmE,kBAEpFpB,KAAI,SAACmB,GACJ,IAAM7F,EAAOD,EAAQ8F,EAAY7F,MAE7BgB,EAAS0C,OAAOmC,EAAYE,iBAMhC,OALA/E,EACE6E,EAAYG,YAAcH,EAAYG,WAAW/B,SAAS,QACtD9D,EAAiBH,EAAMgB,EAAQX,GAC/BW,EAEC,CACLhB,OACAuE,QAASsB,EAAYG,WACrBhF,OAAQ2B,KAAKC,IAAI5B,GACjBW,KAAMkE,EAAYlE,KAClBsE,YAAaJ,EAAYI,iBAKpBC,GAAyB,SAAC3C,GACrC,OAAOA,EAASmB,KAAI,SAACY,GACnB,OAAOA,M,6IC1MI,SAASa,GAAT,GAAsF,IAA/DC,EAA8D,EAA9DA,SAA8D,EAC1EC,mBAAe,CACrCC,MAAO5H,OAAO6H,WACdC,OAAQ9H,OAAO+H,cAHiF,mBAC3FC,EAD2F,KACrFC,EADqF,KAMlG,OAAO,eAAC,WAAD,CAAgBC,SAAU,gBAAGN,EAAH,EAAGA,MAAOE,EAAV,EAAUA,OAAV,OAAuBG,EAAQ,CAAEL,QAAOE,YAAlE,SAA8EJ,EAASM,KCKhG,IAAMG,GAOA,CACJ,CACE7G,KAAM,aACN8G,IAAK,eACLC,MAAO,gDACPd,YACE,oHACFe,OAAQ,CACN,8FACA,wFACA,gGACA,kGAGJ,CACEhH,KAAM,aACN8G,IAAK,eACLC,MAAO,+EACPd,YACE,4YACFe,OAAQ,CACN,kGACA,kGAGJ,CACEhH,KAAM,aACN8G,IAAK,SACLC,MAAO,uCACPd,YACE,wHACFe,OAAQ,CAAC,4FAEX,CACEhH,KAAM,aACN8G,IAAK,iBACLC,MAAO,qDACPd,YACE,oKACFe,OAAQ,CACN,oGACA,oGACA,sGAGJ,CACEhH,KAAM,aACN8G,IAAK,SACLC,MAAO,wDACPd,YACE,mHACFe,OAAQ,CAAC,oFAEX,CACEhH,KAAM,aACN8G,IAAK,OACLC,MAAO,+DACPd,YACE,mJACFe,OAAQ,CACN,oFACA,4FAGJ,CACEhH,KAAM,aACN8G,IAAK,oBACLC,MAAO,kCACPd,YACE,iYACFe,OAAQ,CACN,kGACA,kGACA,oGAGJ,CACEhH,KAAM,aACN8G,IAAK,oBACLC,MAAO,kCACPd,YACE,8XACFgB,KACE,eAAC,IAAWC,KAAZ,CAAiBC,KAAK,uCAAuCnE,OAAO,SAApE,kCAIFgE,OAAQ,CACN,kGACA,kGACA,oGAGJ,CACEhH,KAAM,aACN8G,IAAK,eACLC,MAAO,gFACPd,YACE,qVACFe,OAAQ,CACN,0FACA,0FACA,4FAGJ,CACEhH,KAAM,aACN8G,IAAK,iBACLC,MAAO,8CACPd,YACE,kJACFe,OAAQ,CACN,6FACA,+FAGJ,CACEhH,KAAM,aACN+G,MAAO,wCACPd,YACE,0NACFgB,KACE,eAAC,IAAWC,KAAZ,CAAiBC,KAAK,qDAAqDnE,OAAO,SAAlF,mDAIFgE,OAAQ,CACN,wFACA,0FAGJ,CACEhH,KAAM,aACN8G,IAAK,aACLC,MAAO,gDACPd,YACE,iOACFe,OAAQ,CAAC,2FAEX,CACEhH,KAAM,aACN8G,IAAK,oBACLC,MAAO,kDACPd,YACE,ucACFe,OAAQ,CACN,+FACA,+FACA,6FAKN,SAASI,GAAT,GAAoC,IAAjBC,EAAgB,EAAhBA,MAAOC,EAAS,EAATA,MAAS,EACHjB,qBADG,mBAC1BkB,EAD0B,KACjBC,EADiB,KAE3BC,EAAMZ,GAAKQ,GACjB,OACE,eAAC,IAAD,CAAKK,GAAI,EAAGJ,MAAOA,EAAnB,SACE,gBAAC,KAASK,KAAV,WACE,eAAC,IAAWC,MAAZ,CAAkBC,MAAO,EAAzB,SAA6BJ,EAAIV,QACjC,gBAAC,IAAD,CAAMe,GAAI,EAAV,UACE,eAAC,KAAD,CAAKC,MAAM,UAAX,SAAsB9H,IAAOwH,EAAIzH,MAAMO,OAAO,kBAC7CkH,EAAIX,KAAO,gBAAC,KAAD,CAAKiB,MAAM,SAAX,UAAqBN,EAAIX,IAAzB,aAEbW,EAAIxB,aAAe,eAAC,IAAW+B,KAAZ,UAAkBP,EAAIxB,cACzCwB,EAAIR,MAAQ,eAAC,IAAD,CAAKS,GAAI,EAAT,SAAaD,EAAIR,OAC9B,eAAC,IAAD,CAAMgB,GAAI,EAAGC,SAAS,OAAtB,SACGT,EAAIT,QACH,qCACGS,EAAIT,OAAOtC,KAAI,SAACyD,GAAD,OACd,eAAC,IAAD,CACEC,GAAI,EACJC,GAAI,EAEJC,QAAS,WACPd,EAAWW,GACXtJ,EAAW,2BAA4B,CAAEkI,MAAOU,EAAIV,SAEtDO,MAAO,CAAEiB,OAAQ,WARnB,SAUE,eAAC,KAAD,CACEJ,IAAG,UAAKA,EAAL,qBACH7B,MAAO,IACPiB,SAAS,EACTiB,SAAS,oqGAXNL,UAkBf,eAAC,KAAD,IACA,eAAC,KAAD,CACE7B,MAAM,cACNgB,MAAO,CAAEmB,SAAU,OAAQC,IAAK,IAChCC,UAAQ,EACRC,cAAY,EACZC,OAAQ,KACRC,UAAWvB,EACXwB,SAAU,kBAAMvB,OAAWtG,IAP7B,SASE,eAAC,IAAD,CAAMoF,MAAO,EAAG0C,eAAe,SAA/B,SACGzB,GAAW,eAAC,KAAD,CAAOY,IAAKZ,EAASA,SAAS,UA5C5BF,KAoDX,SAAS4B,KACtB,OACE,eAAC9C,GAAD,UACG,gBAAGG,EAAH,EAAGA,MAAH,OACC,eAAC,IAAD,CAAKoB,GAAI,EAAT,SACE,eAAC,KAAD,CACElB,OAAQ,IACR0C,UAAWrC,GAAKnE,OAChByG,SAAU,kBAAO7C,EAAQ,IAAO,IAAMA,EAAQ,IAAM,IAAM,KAC1DA,MAAM,OAJR,SAMG,gBAAGe,EAAH,EAAGA,MAAOC,EAAV,EAAUA,MAAV,OAAsB,eAACF,GAAD,CAASC,MAAOA,EAAOC,MAAOA,YAQ1D,SAAS8B,KACd,IAAMC,EHpID,SAAuB5H,GAC5B,IACE,OAAO/C,OAAO4K,aAAaC,QAAQ9H,GACnC,WGiIoB+H,CAAc1J,GACpC,GAAIuJ,EAAe,CACjB,IAAMrJ,EAAOC,IAAOoJ,GACpB,OAAOxC,GAAK9C,QAAO,SAAC0D,GAAD,OAASxH,IAAOwH,EAAIzH,MAAMyJ,QAAQzJ,MAAO0C,OAE9D,OAAOmE,GAAKnE,OAGP,SAASgH,MHlJT,SAAuBjI,EAAMrB,GAClC,IACE1B,OAAO4K,aAAaK,QAAQlI,EAAMrB,GAClC,WGgJFwJ,CAAc9J,EAA2B+G,GAAK,GAAG7G,M,kECpP5C,SAAS6J,GAAOC,GACrB,IAAMC,EAAUD,EAAMC,QACtB,OAASA,EAAQC,QAAYD,EAAQC,OAAOtH,OAC1C,eAAC,KAAD,CAAeuH,QAAQ,4BAAvB,SACE,eAAC,KAAD,CACEC,WAAYC,GACZC,gBAAiBN,EAAMM,gBACvBL,QAASA,EACTM,UAAU,MAId,+B,OAnBJC,GAAaH,IAuBEI,WAAMC,KAAKX,I,qBC5BX,SAASY,GAAT,GAQX,IAPF1D,EAOC,EAPDA,MACA2D,EAMC,EANDA,OACAtE,EAKC,EALDA,SAMA,OACE,eAAC,IAAD,CAAK6B,GAAI,EAAT,SACE,eAAC,KAAD,CACE0C,iBAAkBD,EAAS,GAAK,CAAC,KACjCE,mBAAmB,QACnBC,SAAU,kBAAMhM,EAAW,iBAAkB,CAAEkI,WAHjD,SAKE,eAAC,KAAS+D,MAAV,CAAgBC,OAAQhE,EAAeO,MAAO,CAAE0D,gBAAiB,WAAjE,SACG5E,GADgC,SCV3C,SAAS6E,GAAgCnB,GA4GvC,OACE,eAACW,GAAD,CAAa1D,MAAM,uCAAnB,SACE,eAAC,GAAD,CAAQqD,gBAAiB,aAAcL,QA7ElC,CACLhD,MAAO,CACLmE,KAAM,+BAERC,SAAU,CACRD,KACE,0IACF5D,MAAO,CACLS,MAAO,YAIXqD,cAAe,CACbC,SAAU,EACV9M,SAAU+M,EACVC,cAAc,GAEhBC,UAAW,CAAEjN,SAAS,GACtBkN,UAAW,CAAElN,SAAS,GAEtBmN,MAAO,CACL,CACEC,UAAW,CACTC,UAAW,QAEbC,OAAQ,CACNtN,SAAUuL,EAAMgC,eAElBC,UAAU,IAGdC,YAAa,GACbC,QAAS,CACPC,YAAa,4FACbC,cAAe,EACfpH,OAAO,GAGTqH,WAAY,CACVC,MAAO,CACL,CACEC,UAAW,CACT7D,SAAU,KAEZ8D,aAAc,CACZC,MAAO,CACLhG,OAAQ,KAGV2E,SAAU,CACRD,UAAMhK,GAERwK,MAAO,CACL,CACEG,OAAQ,CACNtN,SAAS,IAGb,CACEsN,OAAQ,CACNtN,SAAS,KAIfiN,UAAW,CACTjN,SAAS,OAMnByL,OAtGK,CACL,CACE9F,GAAI,YACJzC,KAAM,YACNzC,KAAM8K,EAAM2C,WAAW/H,KAAI,SAACgI,GAC1B,MAAO,CACLC,EAAG1M,IAAOyM,EAAU1M,MAAM4M,UAC1BC,EAAGH,EAAUtM,MACb0M,aAAchD,EAAMgC,cAAgB,IAAMpI,OAAOgJ,EAAUtM,MAAM0C,QAAQ,IAAI3B,qBAGjFQ,KAAM,SACNoG,MAAO,WAET,CACE7D,GAAI,WACJzC,KAAM,WACNzC,KAAM8K,EAAM2C,WAAW/H,KAAI,SAACgI,GAC1B,MAAO,CACLC,EAAG1M,IAAOyM,EAAU1M,MAAM4M,UAC1BC,EAAGH,EAAUK,SACbD,aAAchD,EAAMgC,cAAgB,IAAMpI,OAAOgJ,EAAUK,SAASjK,QAAQ,IAAI3B,qBAGpFQ,KAAM,SACNoG,MAAO,iBAwFAwC,WAAMC,KAAKS,I,sGCzF1B,SAAS+B,GAAT,GAA0G,IAApFC,EAAmF,EAAnFA,MAAOpC,EAA4E,EAA5EA,SAC3B,SAASqC,EAAUvL,EAAiBoG,EAAehB,GACjD,IAAMoG,EAAaF,EAAMhJ,SAAStC,GAClC,OACE,eAAC,KAAD,CACE2F,MAAO,CAAEiB,OAAQ,WACjBR,MAAOoF,EAAapF,OAAQ7G,EAC5BoH,QAAS,WACPuC,EAASsC,EAAaF,EAAMlJ,QAAO,SAACqJ,GAAD,OAAWA,IAAUzL,KAAQsL,EAAM5I,OAAO,CAAC1C,MAJlF,SAOGoF,IAIP,OACE,gBAAC,IAAD,WACGmG,EAAU,UAAW,UAAW,WAChCA,EAAU,cAAe,OAAQ,mBACjCA,EAAU,eAAgB,QAAS,oBACnCA,EAAU,eAAgB,WAAY,0BAKtC,SAASG,GAAT,GAA2D,IAAzChI,EAAwC,EAAxCA,UAAwC,EACnCgB,qBADmC,mBACxDiH,EADwD,KAChDC,EADgD,OAEjClH,oBAAS,GAFwB,mBAExDmH,EAFwD,KAE/CC,EAF+C,OAGvCpH,mBAAiBpG,MAASyN,QAAQ,UAHK,mBAGxD1N,EAHwD,KAGlD2N,EAHkD,KAIzDC,EAAQC,mBAAQ,WACpB,MAAO,CAAEC,MAAO7N,MAASyN,QAAQ,SAASrK,SAAS,EAAG,SAAU0K,IAAK9N,MAAS+N,MAAM,SAASrK,IAAI,EAAG,WACnG,IAN4D,EAOrC0C,mBAAsB,CAAC,UAAW,cAAe,eAAgB,iBAP5B,mBAOxD4G,EAPwD,KAOjDgB,EAPiD,KAS/DC,qBAAU,WACR,IAAMC,EAAW9I,EACdtB,QAAO,SAACuB,GAEP,SADeA,EAAS/D,SAASC,QAAU8D,EAAS/D,SAASE,MAC7CwC,SAAS,MAAmC,WAA3BqB,EAAS/D,SAASI,SAEpD+C,KAAI,SAACY,GAAD,OAAc1D,EAAgB0D,EAAS/D,aAC3C6M,KAAK,KACR,GAAKD,EAASzL,OAAd,CAIA,IAAM2L,EAAMtL,EAAiB,2EAAD,OACiD/C,EACxEsO,QACAjL,SAAS,GAAI,QACb9C,OAAO,cAJgB,mBAIQP,EAC/BsO,QACAN,MAAM,SACNrK,IAAI,GAAI,QACRpD,OAAO,cARgB,oBAQS4N,IAErCV,GAAW,GAEXc,MAAMF,EAAK,CACTG,MAAO,cACPC,OAAQ,MACRC,QAAS,CACP,eAAgB,sBAGjBC,MAAK,SAACpL,GAAD,OAAcA,EAASqL,UAC5BD,MAAK,SAACpL,GACDA,GACFgK,EAAU,CACRsB,UAAWtL,EAASsL,UACpBC,SAAUvL,EAASuL,cAIxBC,OAAM,SAACC,GAAD,OAAW9P,QAAQ+P,KAAK,yBAA0BD,MACxDE,SAAQ,kBAAMzB,GAAW,SAC3B,CAACpI,EAAWrF,IAyEf,IAAMmP,EAAetB,mBAAQ,WAC3B,IAAKP,EACH,MAAO,GAGT,IAAI8B,EAMA,GA2CJ,OA1CInC,EAAMhJ,SAAS,aACjBmL,EAAS9B,EAAOwB,SAAS3M,QAAO,SAACsB,EAAM4L,GACrC,IAAMC,EAAcrP,IAAOoP,EAAQrP,MAAMO,OAAO,cAC5CuO,EAAWrL,EAAK6L,GAUpB,OATKR,IACHA,EAAW,GACXrL,EAAK6L,GAAeR,GAEtBA,EAASS,KAAK,CACZzN,OAAQD,EAA0BwN,EAAQvN,QAC1CL,KAAM4N,EAAQG,QACd7N,KAAM,YAED8B,IACN2L,IAGLA,EAAS9B,EAAOuB,UAAU1M,QAAO,SAACsB,EAAM/D,GAsBtC,MArBA,CAAC,SAAU,UAAW,WAAW+P,SAAQ,SAACvN,GACxC,GAAKxC,EAASwC,GAAd,CAGA,IAAMP,EAAiB,WAAVO,EAAqB,cAA0B,YAAVA,EAAsB,eAAiB,eACzF,GAAK+K,EAAMhJ,SAAStC,GAApB,CAIA,IAAM+N,EAAezP,IAAOP,EAASwC,IAAQ3B,OAAO,cAChDsO,EAAYpL,EAAKiM,GAChBb,IACHA,EAAY,GACZpL,EAAKiM,GAAgBb,GAEvBA,EAAUU,KAAK,CACbzN,OAAQD,EAA0BnC,EAASoC,QAC3CL,KAAM/B,EAAS8P,QACf7N,cAGG8B,IACN2L,KAGF,CAAC9B,EAAQL,IAEZ,OACE,uCACE,eAAC,IAAWrF,MAAZ,CAAkBC,MAAO,EAAGP,MAAO,CAAEqI,UAAW,UAAhD,kCAGA,eAAC,KAAD,CACEvP,MAAOJ,EACP4P,SAAU,SAACC,GACT,IAAMC,EAAeD,EAAQnC,QAAQ,SAChC1N,EAAK+P,OAAOD,IACfnC,EAAQmC,IAGZE,WAAY,CAAC/P,MAASyN,QAAQ,SAAUzN,MAAS+N,MAAM,SAASrK,IAAI,EAAG,SACvEsM,eA9IN,SAAwBjQ,GACtB,IAAMkQ,EAAUf,EAAanP,EAAKO,OAAO,eAEzC,OAAO2P,GAAWA,EAAQxN,OACxB,eAAC,IAAD,CAAMwF,SAAS,OAAf,SACGgI,EAAQxL,KAAI,SAACyL,GAAD,OACX,eAAC,IAAD,CAAK/H,GAAI,EAAGC,GAAI,EAAhB,SACE,gBAAC,KAAD,CACEN,MACgB,YAAdoI,EAAKxO,KACD,UACc,gBAAdwO,EAAKxO,KACL,OACc,iBAAdwO,EAAKxO,KACL,QACA,WARR,UAWiB,YAAdwO,EAAKxO,KACF,GACc,gBAAdwO,EAAKxO,KACL,OACc,iBAAdwO,EAAKxO,KACL,OACA,OACHwO,EAAKrO,WAnBcqO,EAAKrO,aAyBjC,gCAgHEsO,aAAc,kBACZ,gBAAC,IAAD,WACE,gBAAC,IAAD,CAAMpH,eAAe,gBAAgBqH,WAAW,SAASnI,SAAS,OAAlE,UACE,eAAC,KAAD,CACEsF,QAASA,EACT8C,SAAUtQ,EAAKuQ,eAAe3C,EAAME,OACpCnM,KAAK,UACL6O,KAAM,eAAC,KAAD,IACNlI,QAAS,WACPqF,EAAQ3N,EAAKqD,SAAS,EAAG,SAASiL,SAClCzP,EAAW,wBAAyB,CAAEE,OAAQ,cAPlD,wBAYA,gBAAC,IAAW6I,MAAZ,CAAkBC,MAAO,EAAzB,UACG7H,EAAKO,OAAO,aADf,IAC8BiN,GAAW,eAAC,IAAD,OAEzC,gBAAC,KAAD,CACEA,QAASA,EACT8C,SAAUtQ,EAAKsO,QAAQN,MAAM,SAASyC,cAAc7C,EAAMG,KAC1DpM,KAAK,UACL2G,QAAS,WACPzJ,EAAW,wBAAyB,CAAEE,OAAQ,SAC9C4O,EAAQ3N,EAAK2D,IAAI,EAAG,SAAS2K,UANjC,wBASa,eAAC,KAAD,UAIf,eAAC,IAAD,CAAMrG,GAAI,EAAGe,eAAe,SAASd,SAAS,OAA9C,SACE,eAAC8E,GAAD,CAAYC,MAAOA,EAAOpC,SAAUoD,aAmBrC,OAANX,QAAM,IAANA,OAAA,EAAAA,EAAQwB,cAAa,OAACxB,QAAD,IAACA,OAAD,EAACA,EAAQwB,SAASpM,SACtC,eAAC,KAAD,CACEqE,MAAO,sEAA+B/G,EAAKO,OAAO,gBAA3C,OACPmQ,UAAW,CAAEC,YAAa,GAAIC,SAAU,GAAIC,WAAY,QACxDvJ,MAAO,CAAEwJ,UAAW,GAAIC,aAAc,IACtCC,UAAW,CAAEC,QAAS,GAJxB,SAME,eAAC,KAAD,CACEC,QAtKD,CACL,CACEC,IAAK,OACLpK,MAAO,OACPqK,UAAW,OACXC,OAAQ,SAACnG,GAAD,OAAUjL,IAAOiL,GAAM3K,OAAO,iBACtC+Q,iBAAkB,SAClBC,OAAQ,SAAC3Q,EAAGC,GAAJ,OAAUZ,IAAOW,EAAEZ,MAAM4M,UAAY3M,IAAOY,EAAEb,MAAM4M,YAE9D,CACEuE,IAAK,UACLpK,MAAO,SACPqK,UAAW,SACXC,OAAQ,SAACvP,GAAD,OAAYD,EAA0BC,KAEhD,CACEqP,IAAK,eACLpK,MAAO,gBACPqK,UAAW,gBAEb,CACED,IAAK,UACLpK,MAAO,WACPqK,UAAW,UACXI,MAAO,SAET,CACEL,IAAK,MACLpK,MAAO,MACPqK,UAAW,MACXI,MAAO,UAyIHC,WAAYnE,EAAOwB,SAAS/K,QAAO,SAACsL,GAAD,OAAapP,IAAOoP,EAAQrP,MAAMyQ,cAAczQ,a,2EC/ShF,SAAS0R,GAAT,GAAgF,IAAD,IAAnDlN,aAAmD,MAA3C,WAA2C,EAA/BmN,EAA+B,EAA/BA,YAAaC,EAAkB,EAAlBA,QAC1E,OACE,gBAAC,IAAD,CAAMtL,MAAO,EAAGuL,cAAc,SAASxB,WAAW,SAAS3I,GAAI,EAAGW,GAAI,EAAtE,UACE,eAAC,IAAWT,MAAZ,CAAkBC,MAAO,EAAzB,sBACA,eAAC,KAAMiK,MAAP,CACEC,WAAW,SACXC,YAAY,QACZC,aAAczN,EACdqG,SAAU,SAACqH,GACTP,EAAYO,EAAElP,OAAO5C,OACrBvB,EAAW+S,EAAS,CAAEpN,MAAO0N,EAAElP,OAAO5C,SAExC2J,QAAS,CACP,CAAEoI,MAAO,aAAc/R,MAAO,YAC9B,CAAE+R,MAAO,eAAgB/R,MAAO,QAChC,CAAE+R,MAAO,cAAe/R,MAAO,eAC/B,CAAE+R,MAAO,UAAW/R,MAAO,kBAO9B,SAASgS,GAAY5N,EAAkBD,GAC5C,IAAKA,EACH,MAAO,MAGT,OAAQC,GACN,IAAK,WACH,OAAOD,EAAQ7C,SAASuD,cAC1B,IAAK,OACH,OAAOV,EAAQ5C,KACjB,IAAK,cACH,OAAO4C,EAAQK,gBACjB,QACE,OAAOL,EAAQ9C,M,cCrCrB,SAAS4Q,GAAT,GAK0E,IAJxEF,EAIuE,EAJvEA,MACA/R,EAGuE,EAHvEA,MACAkS,EAEuE,EAFvEA,WACGC,EACoE,+CACvE,OACE,gBAAC,IAAD,yBAAMvJ,eAAe,gBAAgBtB,GAAI,EAAGJ,MAAO,CAAEkL,aAAa,sBAA4BD,GAA9F,cACE,eAAC,IAAWvK,KAAZ,CAAiByK,QAAM,EAAvB,SAAyBN,IACzB,eAAC,IAAWnK,KAAZ,2BAAqBsK,GAArB,aAAkClS,SAKzB,SAASsS,GAAa5I,GACnC,IAAM6I,EAAc7I,EAAMzE,UAAUlD,QAAO,SAACyQ,EAAKtN,GAC/C,OAAOsN,EAAMtN,EAASuN,eACrB,GAEGvN,EAAWwE,EAAMzE,UAAUyN,MAAK,SAACxN,GAAD,OAAchE,EAAUgE,EAAS/D,YAAcuI,EAAMtI,UAC3F,IAAK8D,EACH,OAAO,+BAGT,IAAMnB,GAAY2F,EAAM3F,UAAY,IACjCO,KAAI,SAACH,GACJ,IAAMe,EAAWf,EAAQc,UAAUtB,QAAO,SAACuB,GAAD,OAAcA,EAAS9D,SAAWsI,EAAMtI,UAAQ,GAC1F,OAAO8D,EAAW,CAAE7D,KAAM8C,EAAQ9C,KAAMsR,SAAUzN,EAASyN,eAAa7R,KAEzE6C,QAAO,SAAC3D,GAAD,OAAWA,KAClBO,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAGkS,SAAWnS,EAAGmS,YAE7BrR,EAAW4D,EAAS/D,SAASG,SAAW4D,EAAS/D,SAASG,SAASuD,cAAgBK,EAAS/D,SAASG,SAC3G,OACE,gBAAC,IAAD,CAAMmQ,cAAc,SAASzP,EAAG,EAAhC,UACE,eAACiQ,GAAD,CAAYF,MAAM,SAAS/R,MAAOkB,EAAUgE,EAAS/D,YAErD,eAAC8Q,GAAD,CAAYF,MAAM,aAAa/R,MAAK,cAAS0J,EAAMgC,cAAgB,IAAM/K,EAAYuE,EAAS0N,eAE9F,eAACX,GAAD,CACEF,MAAM,eACN/R,MAAK,cAAS0J,EAAMgC,cAAgB,IAAM/K,EAAYuE,EAASuN,cAA1D,cAA6EvN,EAASuN,aACtFvN,EAASuN,aAAeF,EAAe,IACxC,GACF7P,QAAQ,GAHL,QAMP,eAACuP,GAAD,CACEF,MAAM,aACN/R,MAAK,cAAS0J,EAAMgC,cAAgB,IAAM/K,EAAYuE,EAAS2N,aAA1D,cAA4E3N,EAAS4N,aAC9D,IAAxB5N,EAAS4N,aACT5N,EAAS4N,cAAgB,GAC3BpQ,QAAQ,GAHL,MAILwP,WAAY,CAAE3Q,KAAM2D,EAAS4N,aAAe,EAAI,UAAY,SAAUT,QAAQ,KAEhF,eAACJ,GAAD,CAAYF,MAAM,SAAS/R,MAAK,UAAKkF,EAASyN,YAE9C,eAACV,GAAD,CAAYF,MAAM,WAAW/R,MAAOsB,IACpC,eAAC2Q,GAAD,CACEF,MAAM,YACN/R,MAAOW,EACLuE,EAAShB,YAAYnC,QAAO,SAACgR,EAAMnN,GACjC,OAAOmN,EAAOnN,EAAWgN,aACxB,GAAK1N,EAASyN,YAGrB,eAACV,GAAD,CAAYF,MAAM,aAAa/R,MAAOW,EAAYuE,EAAS/D,SAAS6R,cACpE,eAACf,GAAD,CACEF,MAAM,UACN/R,MAAM,SACNkS,WAAY,CAAEG,QAAQ,GACtBY,GAAI,EACJ/L,MAAO,CAAEkL,aAAa,uBAEvBrO,EAASO,KACR,SAACH,GAAD,OAAaA,GAAW,eAAC8N,GAAD,CAA+BF,MAAO5N,EAAQ9C,KAAMrB,MAAK,UAAKmE,EAAQwO,WAArDxO,EAAQ9C,Y,IC4T1C6R,G,kDAvXb,WAAYxJ,GAAe,IAAD,8BACxB,cAAMA,IAMRyJ,cAP0B,IAgO1BC,SAAW,SAAC7R,EAAc8R,GACxB,IAAMC,EAAY,CAAC,MAAO,QAAQzP,SAAStC,GAE3C,MAAO,CACLF,KAAMkS,IAAEC,UAAUjS,GAClBkS,MAAO,YACPlS,KAAM,QACN8R,SAAUA,OAAWvS,EAAY,aACjCoF,MAAO,GAEP2F,QAAS,CACPC,YAAa,sBACbC,cAAe,EACfpH,OAAO,GAGT/F,KAAM,EAAK8K,MAAMxE,SAASwO,aACvB/P,QAAO,SAAC4B,GAAD,OAAOA,EAAEhE,OAASA,KACzBhB,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEZ,KAAK4M,UAAY/L,EAAEb,KAAK4M,aACzCzK,QAAO,SAAC4R,EAAOlO,GACd,IAAMmO,EAAkBD,EAAME,MAoB9B,OAnBID,GAAmBA,EAAgBhU,KAAK4M,YAAc/G,EAAY7F,KAAK4M,UACzEmH,EAAMxE,KAAN,2BACKyE,GADL,IAEEE,OACErO,EAAYqO,QAAUF,EAAgBE,OAClCF,EAAgBE,OAASrO,EAAYqO,OACrCF,EAAgBE,OACtBlT,OAAQ6E,EAAY7E,OAASgT,EAAgBhT,OAC7CmT,MACEtO,EAAYsO,OAASH,EAAgBG,OAChCzQ,OAAOmC,EAAYsO,OAASzQ,OAAOsQ,EAAgBG,QAAU,EAC9DH,EAAgBG,UAGpBH,GACFD,EAAMxE,KAAKyE,GAEbD,EAAMxE,KAAK1J,IAENkO,IACN,IACFrP,KAAI,SAACmB,GACJ,MAAO,CACLA,cACA8G,EAAG9G,EAAY7F,KAAK4M,UACpB7F,MAAO2M,EAAY/Q,KAAKyR,MAAMvO,EAAYqO,QAAWvS,EAAK0S,OAAO,GAAGpP,cACpEiG,KAAMwI,EAAS,UACRC,IAAEC,UAAUjS,GADJ,aACckE,EAAYqO,OAD1B,YACoCrO,EAAYsO,OADhD,UAERR,IAAEC,UAAUjS,GAFJ,cAEeW,EAAeuD,EAAY7E,OAAQ,QAGvE+G,MAAOzI,EAAcqC,GACrB2S,UAAWhV,EAAcqC,GACzB2F,MAAO,CACLS,MAAO,WArRX,EAAKwM,MAAQ,CACX/G,SAAS,GAEX,EAAK+F,UAAW,EALQ,E,qDAS1B,WACEiB,KAAKjB,UAAW,EAChBiB,KAAKC,c,gCAGP,SAAmBC,GACbF,KAAK1K,MAAMtI,SAAWkT,EAAUlT,QAClCgT,KAAKC,c,kCAGT,WACED,KAAKjB,UAAW,I,qCAGlB,SAAwBhQ,GAAW,IAAD,OAChC,GAAIiR,KAAKjB,SAAU,CACjB,IAGIoB,EAHEC,EAA+C,WAAtCJ,KAAK1K,MAAMxE,SAAS/D,SAASI,KACtCkT,EAAK9U,EAAQwD,EAASsR,IACtB7V,EAAkC,GAExCuE,EAASvE,KACN+E,QAAO,SAAC+Q,GAAD,OAAgBA,KACvBC,UACAtF,SAAQ,SAACqF,GACHH,IACHA,EAAYG,GAE6D,IAAlDnS,KAAKC,KAAKkS,EAAaH,GAAaG,GACtC,MACrBA,EAAaH,IAGXE,EAAGG,cAAgB,GAAKJ,IAC1B5V,EAAKuQ,KAAK,CACR0F,UAAWJ,EAAGvG,QACdwG,WAAYF,EAASzU,EAAiB0U,EAAIC,EAAY,EAAKhL,MAAMzJ,eAAiByU,IAKtFD,EAAGxR,SAAS,EAAG,QACfsR,EAAYG,KAGhB,IAAMI,EAAalW,EAAK2B,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEqU,UAAUrI,UAAY/L,EAAEoU,UAAUrI,aAG3E4H,KAAKW,SAAS,CAAE3H,SAAS,EAAOxO,KAAMkW,O,uBAI1C,WAAa,IAAD,OACV,GAAKV,KAAKjB,SAAV,CAGAiB,KAAKW,SAAS,CAAE3H,SAAS,IACzB3O,EAAW,kBAEX,IAAMuW,EAAYnV,IAAOgC,KACtBuS,KAAK1K,MAAMxE,SAASwO,cAAgBU,KAAK1K,MAAMxE,SAASwO,aAAapR,OAClE8R,KAAK1K,MAAMxE,SAASwO,aAAa,GAAG9T,KACpCC,OAEDqO,QACAjL,SAAS,EAAG,UACfpD,MAASoD,SAAS,EAAG,WAGvB,GAAImR,KAAK1K,MAAMuL,MACbb,KAAK1K,MAAMuL,MACRC,QAAQ,CACPC,MAAO,GACP9G,OAAQ,MACR+G,SAAS,cAAD,OAAgBhB,KAAK1K,MAAMxE,SAAS/D,SAAS2C,GAA7C,yBAAgEkR,EAAU7U,OAAO,iBAE1FoO,MAAK,SAACpL,GACL,EAAKkS,wBAAwBlS,MAE9BwL,OAAM,SAACC,GAAD,OAAW9P,QAAQuI,IAAIuH,UAC3B,CACL,IAAMX,EAAG,mDACPmG,KAAK1K,MAAMxE,SAAS/D,SAAS2C,GADtB,yBAEQkR,EAAU7U,OAAO,eAClCrB,QAAQC,MAAM,wBAAyBkP,GAEvCE,MAAMxL,EAAiBsL,GAAM,CAC3BG,MAAO,cACPE,QAAS,CACP,eAAgB,sBAGjBC,MAAK,SAACpL,GAAD,OAAcA,EAASqL,UAC5BD,MAAK,SAACpL,GACL,EAAKkS,wBAAwBlS,MAE9BwL,OAAM,SAACC,GAAD,OAAW9P,QAAQuI,IAAIuH,U,iCAIpC,WAAuB,IAAD,OACpB,GAAKwF,KAAKjB,SAAV,CAIAiB,KAAKW,SAAS,CAAE3H,SAAS,IACzB,IAAM4H,GACJZ,KAAK1K,MAAMxE,SAASwO,cAAgBU,KAAK1K,MAAMxE,SAASwO,aAAapR,OACjE8R,KAAK1K,MAAMxE,SAASwO,aAAa,GAAG9T,KACpCC,OAEHqO,QACAjL,SAAS,EAAG,UACTqS,EAAUzV,MAAS0V,OAEnBtH,EAAG,4DACPmG,KAAK1K,MAAMtI,OADJ,oBAEG4T,EAAUO,OAFb,oBAE+BD,EAF/B,+BAITxW,QAAQC,MAAM,wBAAyBkP,GAEvCE,MAAMxL,EAAiBsL,GAAM,CAC3BG,MAAO,cACPE,QAAS,CACP,eAAgB,sBAGjBC,MAAK,SAACpL,GAAD,OAAcA,EAASqL,UAC5BD,MAAK,SAACpL,GACD,EAAKgQ,UAIP,EAAK4B,SAAS,CAAE3H,SAAS,EAAOxO,KAAMuE,OAGzCwL,OAAM,SAACC,GAAD,OAAW9P,QAAQuI,IAAIuH,S,uBAGlC,WACE,IAAKwF,KAAKD,MAAMvV,KACd,MAAO,CAAC,IAGV,IACI4W,EAAUC,EAAUC,EAAcC,EADhC/W,EAAmC,GAsBzC,OApBAwV,KAAKD,MAAMvV,KAAKyQ,SAAQ,SAACuG,EAAO3O,GAC9B,IAAM4N,EAAYe,EAAMf,UAAUrI,UAC5BkI,EAAakB,EAAMlB,WAEzB9V,EAAKuQ,KAAK,CAAE5C,EAAGsI,EAAWpI,EAAGiI,IAEf,IAAVzN,IACFwO,EAAWD,EAAWd,EACtBgB,EAAeC,EAAed,GAE5BH,EAAac,IACfA,EAAWd,EACXgB,EAAeb,GAEbH,EAAae,IACfA,EAAWf,EACXiB,EAAed,MAIZ,CACL,CACE/Q,GAAI,aACJzC,KAAM+S,KAAK1K,MAAMtI,OACjBxC,OACA2C,KAAM,OAENsK,QAAS,CACPE,cAAe,IAGnB,CACE1K,KAAM,WACNoS,MAAO,YACPlS,KAAM,QAENsK,QAAS,CACPC,YAAa,sBACbC,cAAe,EACfpH,OAAO,GAGT/F,KAAM,CACJ,CACE2N,EAAGmJ,EACH/O,MAAO,IACPmE,KAAK,eAAD,OAAiB5I,EAAesT,EAAU,KAEhD,CACEjJ,EAAGoJ,EACHhP,MAAO,IACPmE,KAAK,gBAAD,OAAkB5I,EAAeuT,EAAU,MAEjDlV,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE+L,EAAI9L,EAAE8L,KACzB5E,MAAO,UACPuM,UAAW,UACXhN,MAAO,CACLS,MAAO,UAGXyM,KAAKhB,SAAS,OACdgB,KAAKhB,SAAS,QACdgB,KAAKhB,SAAS,UAAU,GACxBgB,KAAKhB,SAAS,YAAY,GAC1BgB,KAAKhB,SAAS,gBAAgB,GAC9BgB,KAAKhB,SAAS,OAAO,GACrBgB,KAAKhB,SAAS,OAAO,M,wBAgEzB,WACE,IAAM3E,EAAY2F,KAAK1K,MAAMxE,SAASwO,aACnC/P,QAAO,SAAC8B,GAAD,MAAsC,aAArBA,EAAYlE,QACpCQ,QAAO,SAACzC,EAAUmG,GAAX,OAA2BnG,EAAWmG,EAAY7E,SAAQ,GAEpE,MAAO,CACL+F,MAAO,CACLmE,KAAK,GAAD,OAAKsJ,KAAK1K,MAAMtI,QACpB8F,MAAO,CACLS,MAAO,UACPkO,eAAgB,YAChBpF,WAAY,SAGhB1F,SAAU,CACRD,KAAMsJ,KAAK1K,MAAMgC,cACb,wCADE,kBAES0I,KAAK1K,MAAMxE,SAASyN,SAF7B,YAEyChS,EACzCyT,KAAK1K,MAAMxE,SAAShB,YAAYnC,QAAO,SAACgR,EAAMnN,GAC5C,OAAOmN,EAAOnN,EAAWgN,aACxB,GAAKwB,KAAK1K,MAAMxE,SAASyN,UAL5B,+BAMsBzQ,EAAekS,KAAK1K,MAAMxE,SAASuN,aAAc,GANvE,mBAMoF9R,EACjD,IAAnCyT,KAAK1K,MAAMxE,SAAS4N,aACpB,GARA,mBASU5Q,EAAekS,KAAK1K,MAAMxE,SAAS2N,YAAa,IAT1D,OAUApE,EAAS,2BAAuBvM,EAAeuM,EAAW,IAAO,IAEvEvH,MAAO,CACLS,MAAO,UACP8I,WAAY,SAIhBzF,cAAe,CAAEC,SAAU,EAAG9M,SAAS,EAAagN,cAAc,GAClEC,UAAW,CAAEjN,SAAS,GACtBkN,UAAW,CAAElN,SAAS,GAEtBmN,MAAO,CACL,CACEC,UAAW,CACTC,UAAW,QAEb7E,MAAO,CACLmE,KAAM,aAERa,UAAU,IAGdE,QAAS,CACPC,YAAa,+BACbC,cAAe,EACfpH,OAAO,GAETqH,WAAY,CACVC,MAAO,CACL,CACEC,UAAW,CACT7D,SAAU,KAEZ8D,aAAc,CACZC,MAAO,CACLhG,OAAQ,KAEV2E,SAAU,CACRD,UAAMhK,GAERsK,UAAW,CACTjN,SAAS,OAMnByL,OAAQwK,KAAK0B,YACbC,OAAQ,CACN5X,SAAS,M,oBAKf,WACE,OAAOiW,KAAKD,MAAM/G,QAChB,sBAAKlG,MAAO,CAAEqI,UAAW,SAAUyG,OAAQ,QAA3C,SACE,eAAC,IAAD,CAAM1P,KAAK,YAGb,eAAC,GAAD,CAAQ0D,gBAAiB,aAAcL,QAASyK,KAAK6B,mB,GAnX/BC,aCJtBC,GAA8C,CAClDC,eADkD,WAEhD,IAAMC,EAAQjC,KAAKzK,QACnB,MAAsB,SAAf0M,EAAMhV,KAAN,+FAEuD+S,KAAakC,WAAW5T,QAAQ,GAFvF,uFAGsD2T,EAAMrW,MAH5D,2GAI2EqW,EAAME,SAJjF,cAKDF,EAAMG,KAAOH,EAAMG,KAAK9T,QAAQ,GAAK,MALpC,4GAO2E2T,EAAME,SAPjF,kBAQDF,EAAMI,OARL,+EAU+CJ,EAAMvC,OAVrD,iFAWiDuC,EAAM/U,SAXvD,kFAYkD+U,EAAMK,SAZxD,mFAamDL,EAAMM,UAbzD,6KAgBHN,EAAMO,cAhBH,2HAoByDxC,KAAakC,WAAW5T,QAAQ,GApBzF,yFAqBwD2T,EAAMrW,MArB9D,iLAwBDqW,EAAMO,cAxBL,qBA2BTC,aAAc,4BAGD,SAASC,GAAepN,GAAe,IAAD,EACPzD,qBADO,mBAC5C8Q,EAD4C,KAC5BC,EAD4B,OAEH/Q,mBAAoB,YAFjB,mBAE5CgR,EAF4C,KAE1BC,EAF0B,OAGXjR,oBAAS,GAHE,mBAG5CkR,EAH4C,KAG9BC,EAH8B,KAI7CC,EAAoBhX,OAAOC,KAAKoJ,EAAMzJ,eACtCqX,EAAmBD,EAAkBA,EAAkB/U,OAAS,GAChEiV,EAASxN,gBAAwBwN,OAEvC,SAASC,EAASvQ,GAChB,OAAOsQ,EAASA,EAAOtQ,GAAK,OAAGsQ,QAAH,IAAGA,OAAH,EAAGA,EAAQjV,cAAUxB,EAGnD,IAoFM2W,EAA0C,SAC9CrT,EACAsT,GAEA,IAAMC,EAAiBjO,EAAM3F,SAAShC,QACpC,SAACsB,EAAMc,GACL,IAAM9C,EAAO2Q,GAAY5N,EAAOD,GAC5ByT,EAAgBvU,EAAKhC,GA8BzB,OA7BKuW,IACHA,EAAgB,CAAEvW,OAAMrB,MAAO,EAAGiF,UAAW,GAAIlB,SAAU,IAC3DV,EAAKhC,GAAQuW,GAEfA,EAAc5X,OAASmE,EAAQc,UAAUlD,QAAO,SAACyQ,EAAKtN,GAAN,OAAmBsN,EAAMtN,EAASlF,QAAO,GAEzFmE,EAAQc,UAAUoK,SAAQ,SAACnK,GACzB,IAAM9D,EAASF,EAAUgE,EAAS/D,UAC5B0W,EAAmBD,EAAc3S,UAAU7D,GACjD,GAAKyW,EAEE,CACL,IAAM7X,EAAQ6X,EAAiB7X,MAAQkF,EAASlF,MAC1C6S,EAAcgF,EAAiBhF,YAAc3N,EAAS2N,YAC5D+E,EAAc3S,UAAU7D,GAAxB,2BACKyW,GADL,IAEE7X,QACA4S,WAAYiF,EAAiBjF,WAAa1N,EAAS0N,WACnDH,aAAcoF,EAAiBpF,aAAevN,EAASuN,aACvDE,SAAUkF,EAAiBlF,SAAWzN,EAASyN,SAC/CmF,qBAAsBD,EAAiBC,qBAAuB5S,EAAS4S,qBACvEjF,cACAC,aAAcD,GAAe7S,EAAQ6S,UAZvC+E,EAAc3S,UAAU7D,GAAU8D,KAiBtC0S,EAAc7T,SAASoL,KAAKhL,GAErBd,IAET,IAUI0U,EAAoB,SAAC1W,EAAc4F,GACvC,IAAM9C,EAAUwT,EAAetW,GACzB4D,EAAY5E,OAAO2X,OAAO7T,EAAQc,WAClCgT,EAAehT,EAAU3C,OAEzB1D,EAAOqG,EACV1E,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAET,MAAQQ,EAAER,SAC3BsE,KAAI,SAACY,EAAUgT,GACd,IAAM9W,EAASF,EAAUgE,EAAS/D,UAC5ByV,EAAgBzS,EAAQJ,SAC3BO,KAAI,SAACH,GACJ,IAAMe,EAAWf,EAAQc,UAAUtB,QAAO,SAACuB,GAAD,OAAcA,EAAS9D,SAAWA,KAAQ,GACpF,OAAO8D,EAAW,CAAE7D,KAAM8C,EAAQ9C,KAAMsR,SAAUzN,EAASyN,eAAa7R,KAEzE6C,QAAO,SAAC3D,GAAD,OAAWA,KAClBO,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAGkS,SAAWnS,EAAGmS,YAChCrO,KAAI,SAACtE,GAAD,wBAAsBA,EAAOqB,KAA7B,+CAAwErB,EAAO2S,SAA/E,iBACJ3E,KAAK,IAEFmK,EAAa,GAAMD,EAAMD,EAAe,EACxCtQ,EAAQ6P,EAASvQ,GAEvB,MAAO,CACLU,MAAOA,GAASwP,EAAepN,SAAiBpC,GAAOyQ,SAASD,GAAYE,WAAQvX,EACpFO,KAAMD,EACNqL,EAAGvH,EAASlF,MACZ0M,aAAchD,EAAMgC,cAAgB,IAAMxJ,EAAegD,EAASlF,MAAO,GACzEA,MAAO0J,EAAMgC,cAAgB,IAAM/K,EAAYuE,EAASlF,OACxDwW,KAAMtR,EAAS4N,aAAuC,IAAxB5N,EAAS4N,aAAqB5N,EAAS4N,aACrE2D,OAAQ/M,EAAMgC,cAAgB,IAAM/K,EAAYuE,EAAS2N,aACzD6D,SAAU/V,EAAYuE,EAAS0N,WAAa1N,EAASyN,UACrDmB,OAAQ5O,EAASyN,SACjBgE,UAAWhW,EAAYuE,EAAS/D,SAAS6R,YACzC1R,SAAU4D,EAAS/D,SAASG,SACxB4D,EAAS/D,SAASG,SAASuD,cAC3BK,EAAS/D,SAASG,SACtBiV,SAAUrR,EAAS2N,aAAe,EAAI,QAAU,MAChD+D,oBAIN,OAAOc,EACH,CACEnW,KAAM,MACNuC,GAAIzC,EACJA,OACAzC,OACAiN,QAASsK,GACTmC,WAAY,CACVna,SAAS,EACTgC,OAAQ,gDACR+G,MAAO,CACLS,MAAO,WAIb/I,GAGN,OAAO8Y,EACH,CACEa,qBAAsB,CACpB1C,eAAgB,QAElB2C,qBAAsB,CACpB3C,eAAgB,QAGlBjM,OAAQvJ,OAAOC,KAAKqX,GAAgBrT,KAClC,SAACjD,EAAM4F,GAAP,OAAiB8Q,EAAkB1W,EAAM4F,OAG7C,CACE1F,KAAM,MACNuC,GAAI,WACJzC,KAAM,WACNiF,KAAM,MACNmS,UAAW,MACXH,WAAY,CACVI,UADU,WAER,IAAMrC,EAAQjC,KAAKiC,MACnB,OAAOjC,KAAKkC,YAAclC,KAAKkC,WAAa,IAArC,UAA8CD,EAAMhV,KAApD,aAA6D+S,KAAKkC,WAAW5T,QAAQ,GAArF,KAA6F,OAGxG9D,KAAMyB,OAAOC,KAAKqX,GACfpX,MAAK,SAACC,EAAGC,GAAJ,OAAUkX,EAAelX,GAAGT,MAAQ2X,EAAenX,GAAGR,SAC3D+B,QAAO,SAAC4R,EAAOtS,EAAM4F,GAEpB,OADA0M,EAAMxE,KAAN,MAAAwE,EAAK,aAAUoE,EAAkB1W,EAAM4F,KAChC0M,IACN,IACL9H,QAASsK,KAkKjB,SAASwC,EAAiCvU,GAKxC,IAAMwF,EAnK6B,SAACxF,GACpC,IAAMwU,EAAalP,EAAM3F,SAAShC,QAAO,SAAC/B,EAAOmE,GAAR,OAAoBnE,EAAQmE,EAAQnE,QAAO,GAC9EpB,EAAOyB,OAAO2X,OAClBtO,EAAM3F,SAAShC,QACb,SAACsB,EAAMc,GACL,IAAM9C,EAAO2Q,GAAY5N,EAAOD,GAC5ByT,EAAgBvU,EAAKhC,GACpBuW,IACHA,EAAgB,CAAEvW,OAAMrB,MAAO,EAAG6Y,WAAY,EAAG9U,SAAU,IAC3DV,EAAKhC,GAAQuW,GAEfA,EAAc5X,OAASmE,EAAQc,UAAUlD,QAAO,SAAC/B,EAAOkF,GAAR,OAAqBlF,EAAQkF,EAASlF,OAAS,IAAG,GAClG4X,EAAciB,YAAc1U,EAAQc,UAAUlD,QAAO,SAAC/B,EAAOkF,GAAR,OAAqBlF,EAAQkF,EAAS2N,cAAa,GAExG,IAAMiG,EAAQ3U,EAAQ9C,KAClB0X,EAAWnB,EAAc7T,SAAS+U,GACjCC,IACHA,EAAW,CAAE1X,KAAMyX,EAAOE,IAAK,EAAGC,IAAK,EAAGjZ,MAAO,GACjD4X,EAAc7T,SAAS+U,GAASC,GAElC,IAAMhU,EAAOZ,EAAQY,KAAOzB,OAAOa,EAAQY,KAAKrC,QAAQ,IAAM,EAI9D,OAHAqW,EAASC,IAAMD,EAASC,KAA4B,QAArB7U,EAAQ7C,SAAqByD,EAAO,GACnEgU,EAASE,IAAMF,EAASE,KAA4B,QAArB9U,EAAQ7C,SAAqByD,EAAO,GAE5D1B,IAET,KAWE6V,EAA8C,CAClD3X,KAAM,MACNuC,GAAI,WACJzC,KAAM,WACNiF,KAAM6Q,EAAe,MAAQ,OAC7BvY,KAAMA,EACH+E,QAAO,SAACQ,GAAD,OAAaA,EAAQnE,SAC5BO,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAET,MAAQQ,EAAER,SAC3BsE,KAAI,SAACH,EAAS8C,GACb,IAAMlD,EAAW1D,OAAO2X,OAAO7T,EAAQJ,UACjCiV,EAAMjV,EAAShC,QAAO,SAACyQ,EAAKrO,GAAN,OAAkBqO,EAAMrO,EAAQ6U,MAAK,GAC3DC,EAAMlV,EAAShC,QAAO,SAACyQ,EAAKrO,GAAN,OAAkBqO,EAAMrO,EAAQ8U,MAAK,GAC3DE,EAAYpV,EACfJ,QAAO,SAACQ,GAAD,QAAeA,EAAQ6U,OAAS7U,EAAQ8U,OAC/C1Y,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAEwY,IAAMxY,EAAEuY,KAAOxY,EAAEyY,IAAMzY,EAAEwY,QAC1C1U,KACC,SAACH,GAAD,sEAEoCA,EAAQ9C,KAF5C,mFAKM8C,EAAQ6U,IAAV,4BACyB7U,EAAQ6U,IAAM,EAAI,MAAQ,GADnD,gBAC6DrY,EAAYwD,EAAQ6U,KADjF,UAEI,GAPR,6BAUM7U,EAAQ8U,IAAV,6BAC0B9U,EAAQ8U,IAAM,EAAI,MAAQ,GADpD,gBAC8DtY,EAAYwD,EAAQ8U,KADlF,WAEI,GAZR,mDAiBDjL,KAAK,IAER,MAAO,CACLrG,MAAO6P,EAASvQ,GAChB5F,KAAM8C,EAAQ9C,KACdqW,UAAWP,OAAerW,EAAYqD,EAAQ9C,KAC9CoL,EAAGtI,EAAQnE,MACX0M,aAAchD,EAAMgC,cAAgB,IAAMvH,EAAQnE,MAAQW,EAAYwD,EAAQnE,OAASmE,EAAQnE,MAC/F4Y,WAAYlP,EAAMgC,cAAgB,IAAM/K,EAAYiY,GACpDpC,KAAM9M,EAAMgC,cAAgB,IAAtB,cAAmC/K,EAAYwD,EAAQ0U,aAC7DO,UAAU,GAAD,QAAOjV,EAAQ0U,YAAc1U,EAAQnE,MAAQmE,EAAQ0U,YAAe,KAAKnW,QAAQ,GAAjF,KACT6T,SAAUpS,EAAQ0U,YAAc,EAAI,QAAU,MAC9C9T,KAAMiU,GAAOC,EAAMlZ,EAAiBuX,EAAkB2B,EAAKvP,EAAMzJ,eAAiB,GAClF+Y,MACAC,MACAE,gBAGNb,WAAY,CACVI,UADU,WAER,OAAOtE,KAAKkC,YAAclC,KAAKkC,YAAca,EAAe,EAAI,GAAzD,UACA/C,KAAKiC,MAAMhV,KADX,aACoB+S,KAAKkC,WAAW5T,QAAQ,GAD5C,KAEH,MAENwE,MAAOiQ,EACH,CACExP,MAAO,SACP6I,SAAU,OACVC,WAAY,OAEd,GACJ4I,SAAUlC,EAAe,IAAM,IAEjCtL,QAAS,CACPgL,aAAa,wDACbT,eAFO,WAGL,IAAMC,EAAQjC,KAAKzK,QACnB,MAAM,0GAAN,OAEE0M,EAAM3J,aAFR,2HAKE2J,EAAMuC,WALR,6GAQEvC,EAAME,SARR,6CASqCF,EAAMG,KAT3C,4GAWEH,EAAME,SAXR,6CAYqCF,EAAM+C,UAZ3C,iCAcE/C,EAAM8C,UAAN,iLAEuH9C,EAAM8C,WACzH,GAjBN,uEAqBI9C,EAAMtR,OAAS2E,EAAMgC,cAAvB,2GAEM2K,EAAMtR,KAAO,EAAI,MAAQ,GAF/B,kBAGcpE,EAAY0V,EAAMtR,MAHhC,cAII,GAzBN,uBA4BIsR,EAAM2C,MAAQtP,EAAMgC,cAAtB,yGAEM2K,EAAM2C,IAAM,EAAI,MAAQ,GAF9B,kBAGcrY,EAAY0V,EAAM2C,KAHhC,cAII,GAhCN,uBAmCI3C,EAAM4C,MAAQvP,EAAMgC,cAAtB,yGAEM2K,EAAM4C,IAAM,EAAI,MAAQ,GAF9B,kBAGctY,EAAY0V,EAAM4C,KAHhC,cAII,GAvCN,yBA8CN,OAAO9B,EACH,CAAC+B,EAAgBzB,EAAwCrT,GAAO,IAChE,CAAC8U,GAQUI,CAA6BlV,GACtCsT,EAAYP,OAAerW,EAAY2W,EAAwCrT,GAAO,GACtFuC,EAAkB,aAAVvC,EAAuB,aAAyB,SAAVA,EAAmB,eAAnB,UAAuCmP,IAAEC,UAAUpP,IAEvG,MAAO,CAAEwF,SAAQ8N,YAAW/Q,MAAM,GAAD,OAAKA,EAAL,iBAGnC,IAAMsP,EAAa,SAAC,GAYO,IAXzBtP,EAWwB,EAXxBA,MACA4S,EAUwB,EAVxBA,WACAxO,EASwB,EATxBA,SACAnB,EAQwB,EARxBA,OACA8N,EAOwB,EAPxBA,UAQA,MAAO,CACL9N,SACA8N,UAAWA,GAAwB,GAEnC7L,QAAS,CACP2N,SAAS,EAETC,SAAS,EACT7O,gBAAiB,OACjB1D,MAAO,CACLS,MAAO,YAIXhB,MAAO,CACLmE,KAAMnE,GAERoE,SAAU,CACRD,KAAMC,EACN7D,MAAO,CACLS,MAAO,YAGX+R,MAAO,CACLnY,KAAM,WACNkK,OAAQ,CACNkO,UAAW,GACXzS,MAAO,CACLsJ,SAAU,OACVoJ,WAAY,yBAKlBtO,MAAO,CACLG,OAAQ,CACNtN,SAAUuL,EAAMgC,eAElB/E,MAAO,CACLmE,KAAMyO,MA7cqC,EAihB3B9L,mBAAQ,WAC9B,OAtgByB,WAIzB,IAAMmL,EAAalP,EAAMzE,UAAUlD,QAAO,SAACyQ,EAAKtN,GAAN,OAAmBsN,EAAMtN,EAASuN,eAAc,GACpF7T,EAAO8K,EAAMzE,UAChB1E,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAET,MAAQQ,EAAER,SAC3BsE,KAAI,SAACY,GACJ,IAAM9D,EAASF,EAAUgE,EAAS/D,UAE5ByV,GAAiBlN,EAAM3F,UAAY,IACtCO,KAAI,SAACH,GACJ,IAAMe,EAAWf,EAAQc,UAAUtB,QAAO,SAACuB,GAAD,OAAcA,EAAS9D,SAAWA,KAAQ,GACpF,OAAO8D,EAAW,CAAE7D,KAAM8C,EAAQ9C,KAAMsR,SAAUzN,EAASyN,eAAa7R,KAEzE6C,QAAO,SAAC3D,GAAD,OAAWA,KAClBO,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAGkS,SAAWnS,EAAGmS,YAChCrO,KAAI,SAACtE,GAAD,wBAAsBA,EAAOqB,KAA7B,+CAAwErB,EAAO2S,SAA/E,iBACJ3E,KAAK,IAER,MAAO,CACL3M,KAAMH,EAAUgE,EAAS/D,UACzBsL,EAAGvH,EAASlF,MACZ0M,aAAchD,EAAMgC,cAAgB,IAAMxJ,EAAegD,EAASlF,MAAO,GACzEA,MAAO0J,EAAMgC,cAAgB,IAAM/K,EAAYuE,EAASlF,OACxDwW,KAAMtR,EAAS4N,aAAuC,IAAxB5N,EAAS4N,aAAqB5N,EAAS4N,aACrE2D,OAAQ/M,EAAMgC,cAAgB,IAAM/K,EAAYuE,EAAS2N,aACzDyD,WAAapR,EAASuN,aAAemG,EAAc,IACnDlC,SAAU/V,EACRuE,EAAShB,YAAYnC,QAAO,SAACgR,EAAMnN,GAAP,OAAsBmN,EAAOnN,EAAWgN,aAAY,GAAK1N,EAASyN,UAEhGmB,OAAQ5O,EAASyN,SACjBgE,UAAWhW,EAAYuE,EAAS/D,SAAS6R,YACzC1R,SAAU4D,EAAS/D,SAASG,SAAW4D,EAAS/D,SAASG,SAASuD,cAAgBK,EAAS/D,SAASG,SACpGsV,gBACAL,SAAUrR,EAAS2N,YAAc,EAAI,QAAU,UAI/C3F,EAAS,CACb2M,MAAO,SAACC,GACFA,EAAMzD,MAAMhV,MAAQ0V,IAAmB+C,EAAMzD,MAAMhV,MACrD2V,EAAkB8C,EAAMzD,MAAMhV,QAKpC,MAAO,CACL0Y,OAAQ,CACNxY,KAAM,SACNF,KAAM,WACN2Y,cAAc,EACdpb,KAAMA,EACNsO,SAEArB,QAASsK,GACTmC,WAAY,CACVna,SAAUuL,EAAMgC,cAChBvL,OAAQ,wBAEV8Z,cAAc,GAEhBC,IAAK,CACH3Y,KAAM,MACNF,KAAM,WAENzC,KAAMA,EAAK0F,KAAI,SAACY,GAAD,mBAAC,eAAmBA,GAApB,IAA8BwS,eAAW5W,OACxDoM,SAEAiN,kBAAkB,EAClBhS,OAAQ,UACRmQ,WAAY,CACVna,SAAS,EACTgC,OAAQ,gDACR+G,MAAO,CACLS,MAAO,UAIXkE,QAASsK,KAubNiE,KACN,CAAC1Q,EAAM3F,SAAU2F,EAAMzE,UAAWyE,EAAMgC,gBAFnCqO,EAjhB2C,EAihB3CA,OAAQG,EAjhBmC,EAihBnCA,IAIVG,EAAqB5M,mBACzB,kBACEwI,EAAW,CACTtP,MAAO,gBACP4S,WAAY,mBACZxO,SAAU,0CACVnB,OAAQ,CAACmQ,OAEb,CAACA,IAEGO,EAAkB7M,mBACtB,kBACEwI,EAAW,CACTlL,SAAU,uDACVnB,OAAQ,CAACsQ,OAEb,CAACA,IAGGK,EAA0B9M,mBAAQ,WAAO,IAAD,EACPkL,EAAiC1B,GAA9DrN,EADoC,EACpCA,OAAQ8N,EAD4B,EAC5BA,UAAW/Q,EADiB,EACjBA,MAC3B,OAAOsP,EAAW,CAChBtP,QACAoE,SAAUoM,OAAerW,EAAY,2DACrC8I,SACA8N,gBAED,CAAChO,EAAMgC,cAAehC,EAAM3F,SAAU2F,EAAMzE,UAAWiV,EAAKjD,EAAkBE,IAEjF,OACE,uCACE,eAAC,GAAD,CAAQxN,QAAS0Q,IAEjB,gBAAC,IAAD,CAAMnU,MAAO,EAAG4B,SAAS,OAAOmI,WAAW,UAA3C,UACE,eAAC,IAAD,CAAM/J,MAAO,CAAC,EAAG,EAAG,EAAI,GAAIE,OAAO,OAAOwC,eAAe,SAAzD,SACE,eAAC,GAAD,CAAQe,QAAS2Q,MAGnB,eAAC,IAAD,CAAMpU,MAAO,CAAC,EAAG,EAAG,EAAI,GAAIsU,GAAI,EAAGpU,OAAO,OAAOwC,eAAe,SAAhE,SAnFsB,WAC1B,IAAMe,EAAUD,EAAMzE,UACnBX,KAAI,SAACY,GAAD,OAAchE,EAAUgE,EAAS/D,aACrCZ,OACA+D,KAAI,SAAClD,EAAQ6F,GAAT,OACH,eAAC,KAAOwT,OAAR,CAA2Bza,MAAOoB,EAAlC,SACGA,GADiB6F,MAKxB,OACE,gBAAC,IAAD,CAAMjF,EAAG,EAAGiR,GAAI,EAAG/M,MAAO,EAAGuL,cAAc,SAA3C,UACE,eAAC,IAAWjK,MAAZ,CAAkBN,MAAO,CAAEqI,UAAW,UAAY9H,MAAO,EAAzD,oDAGA,eAAC,KAAD,CACEiT,YAAU,EACV1a,MAAO+W,EACP4D,YAAY,kCACZC,WAAS,EACT1T,MAAO,CAAEhB,MAAO,QAChBuE,SAAU,SAACrJ,GAAD,OAAY4V,EAAkB5V,IACxCyZ,aAAc,SAACC,EAAYC,GAAb,OAC2E,IAAtFA,EAAQrR,MAAO1J,MAAkB6E,cAAcmW,QAAQF,EAAWjW,gBARvE,SAWG8E,IAGFoN,GACC,eAACzE,GAAD,CACElR,OAAQ2V,EACR9R,UAAWyE,EAAMzE,UACjBlB,SAAU2F,EAAM3F,SAChB2H,cAAehC,EAAMgC,mBAkDtBuP,QAzGmB,WAC1B,IAAKlE,EACH,OAAO,+BAET,IAAM7R,EAAWwE,EAAMzE,UAAUtB,QAAO,SAACuB,GAAD,OAAchE,EAAUgE,EAAS/D,YAAc4V,KAAgB,GAEvG,OAAK7R,EAKH,eAAC,GAAD,CACEwG,cAAehC,EAAMgC,cACrBtK,OAAQ2V,EACR7R,SAAUA,EACV+P,MAAOvL,EAAMuL,MACbhV,cAAeyJ,EAAMzJ,gBAThB,+BAsGNib,GAED,gBAAC7Q,GAAD,CAAa1D,MAAM,uBAAnB,UACE,eAAC,GAAD,CAA+BgD,QAAS4Q,GAA3BtD,GACb,eAAC3F,GAAD,CACEC,YAAa2F,EACb9S,MAAO6S,EACPzF,QAAQ,+BAGV,gBAAC,IAAD,CAAM2J,GAAI,EAAGlT,GAAI,EAAG/B,MAAO,EAAG0C,eAAe,SAASqH,WAAW,SAASmL,aAAa,SAAvF,UACE,eAAC,KAAD,CACEC,QAASlE,EACT1M,SAAU,SAAC4Q,GACTjE,EAAgBiE,GAChB5c,EAAW,kCAAmC,CAAE4c,eAGpD,eAAC,IAAD,CAAKC,GAAI,IACT,eAAC,IAAW1T,KAAZ,CAAiByK,QAAM,EAACnL,MAAO,CAAEsJ,SAAU,IAA3C,kD,uBCvoBK,SAAS+K,GAAa7R,GAAqC,IAAD,EACtCA,EAAzBoH,eAD+D,MACrD,GADqD,EACjD0K,EAAW9R,EAAX8R,OADiD,EAEnCvV,mBAAS,GAF0B,mBAEhEwV,EAFgE,KAEpDC,EAFoD,KAIjEC,EAAgB7K,EAAQxM,KAAI,SAACyV,GACjC,OAAIA,EAAO7T,MACF6T,EAGF,2BACFA,GADL,IAEE7T,MAAO3D,KAAKqZ,MAAMH,EAAa3K,EAAQxO,aAIrCuZ,EAAUC,mBAfuD,EAgB/C7V,oBAAc,WACpC,IAAM8V,EAAM,GAUZ,OATA1b,OAAO2b,eAAeD,EAAK,aAAc,CACvC1D,IAAK,kBAAM,MACX4D,IAAK,SAACC,GACAL,EAAQM,SACVN,EAAQM,QAAQC,SAAS,CAAEF,kBAK1BH,KAXFM,EAhBgE,oBA8BjEC,EAAmB,WACnBT,GAAWA,EAAQM,SACrBN,EAAQM,QAAQI,kBAAkB,CAChCC,YAAa,EACbC,mBAAmB,KAKzB3O,qBAAU,kBAAMwO,IAAkB,CAACb,IA4CnC,OACE,eAAC,WAAD,CAAgBjV,SAAU,gBAAGN,EAAH,EAAGA,MAAH,OAAewV,EAAcxV,IAAvD,SACE,eAAC,KAAD,2BACMwD,GADN,IAEEgT,UAAU,gBACV5L,QAAS6K,EACTgB,YAAY,EACZC,WAAY,CACVC,KAlDkB,SAACje,EAAD,GAAqE,IAAzCke,EAAwC,EAAxCA,cAAeC,EAAyB,EAAzBA,IAAKC,EAAoB,EAApBA,SACxED,EAAIZ,QAAUE,EACd,IAAMY,EAA4B,GAAdre,EAAK0D,OAEzB,OACE,eAAC,KAAD,CACEya,IAAKlB,EACLa,UAAU,eACVQ,YAAapM,EAAQxO,OACrB6a,YAAa,SAAClW,GAAmB,IACvBf,EAAUyV,EAAc1U,GAAxBf,MACR,OAAO+W,EAAczB,EAAQ/O,GAAMxF,IAAU6J,EAAQxO,OAAS,EACzD4D,EAAmB4W,EAAgB,EACnC5W,GAEPE,OAAQoV,EAAQ/O,EAChB2Q,SAAUxe,EAAK0D,OACf+a,UAAW,kBAAM,IACjBnX,MAAOuV,EACPuB,SAAU,YAA6C,IAA1Cd,EAAyC,EAAzCA,WACXc,EAAS,CAAEd,gBAff,SAkBG,YAA8G,IAA3GM,EAA0G,EAA1GA,YAAac,EAA6F,EAA7FA,SAAUpW,EAAmF,EAAnFA,MACnBqW,EAAS3e,EAAK0e,GACdvD,EAASjJ,EAAQ0L,GACjB1R,EAAOiP,EAAO/I,UAAYuM,EAAOxD,EAAO/I,gBAAalQ,EAC3D,OACE,sBACE4b,UAAWc,KAAW,oCAAqC,CACzD,0BAA2BhB,IAAgB1L,EAAQxO,OAAS,IAE9D4E,MAAK,2BAAOA,GAAP,IAAcqI,UAAWwK,EAAO3I,QAJvC,SAMG2I,EAAO9I,OAAS8I,EAAO9I,OAAOnG,EAAMyS,GAAUzS,cClE7D,SAAS2S,GAAc/T,GACrB,IAAM6I,EAAc7I,EAAMzE,UAAUlD,QAAO,SAACyQ,EAAKtN,GAC/C,OAAOsN,EAAMtN,EAASuN,eACrB,GA4GH,OACE,sBAAKiK,UAAU,eAAf,SACE,eAACrS,GAAD,CAAa1D,MAAM,iBAAnB,SACE,eAAC4U,GAAD,CAAcC,OAAQ,CAAE/O,EAAG,KAAO4E,WAAY3H,EAAMzE,UAAW6L,QA7G5D,CACL,CACEC,IAAK,SACLpK,MAAO,SACPqK,UAAW,gBACXC,OAAQ,SAACnG,EAAM5F,GAAP,OACN,eAAC,IAAW4B,KAAZ,CACE4W,IAAI,sBACJ3W,KAAI,0CAAqC7F,EAAUgE,EAAS/D,WAC5DyB,OAAO,SAHT,SAKG1B,EAAUgE,EAAS/D,aAGxB+E,MAAO,IACPiL,OAAQ,SAAC3Q,EAAGC,GAAJ,OAAUS,EAAUV,EAAEW,UAAUT,cAAcQ,EAAUT,EAAEU,aAEpE,CACE4P,IAAK,UACLpK,MAAO,UACPqK,UAAW,oBACXC,OAAQ,SAACnG,EAAM5F,GAAP,MAAoD,QAA/BA,EAAS/D,SAASG,SAAqB,KAAO,MAC3E6P,OAAQ,SAAC3Q,EAAGC,GAAJ,OAAUD,EAAEW,SAASG,SAASZ,cAAcD,EAAEU,SAASG,WAC/D4E,MAAO,KAET,CACE6K,IAAK,YACLpK,MAAO,aACPyK,MAAO,QACPJ,UAAW,sBACXC,OAAQ,SAACnG,EAAM5F,GAAP,OACN,uCACGvE,EAAYuE,EAAS/D,SAAS6R,YAC/B,sBAAK9L,MAAO,CAAEsJ,SAAU,IAAxB,SAA+BtL,EAAS/D,SAASG,SAASuD,oBAG9DsM,OAAQ,SAAC3Q,EAAGC,GAAJ,OAAUD,EAAEW,SAAS6R,WAAavS,EAAEU,SAAS6R,aAEvD,CACEjC,IAAK,SACLpK,MAAO,SACPqK,UAAW,WACXC,OAAQ,SAACnG,GAAD,OAAU,eAAC,IAAWlD,KAAZ,CAAiByK,QAAM,EAAvB,SAAyB1R,EAAYmK,EAAM,MAC7DsG,MAAO,QACPD,OAAQ,SAAC3Q,EAAGC,GAAJ,OAAUD,EAAEmS,SAAWlS,EAAEkS,WAEnC,CACE5B,IAAK,WACLpK,MAAO,mBACPqK,UAAW,WACXC,OAAQ,SAACnG,EAAM5F,GAAP,OACN,uCACE,gBAAC,IAAW0C,KAAZ,CAAiByK,QAAM,EAAvB,UACG1R,EACCuE,EAAShB,YAAYnC,QAAO,SAACgR,EAAMnN,GACjC,OAAOmN,EAAOnN,EAAWgN,aACxB,GAAK1N,EAASyN,UAChB,OAEL,sBAAKzL,MAAO,CAAEsJ,SAAU,IAAxB,SAA+BtL,EAAS/D,SAASG,SAASuD,oBAG9DuM,MAAO,SAET,CACEL,IAAK,cACLpK,MACE,yDACiB,sBAAKO,MAAO,CAAEsJ,SAAU,IAAxB,oBAGnBQ,UAAW,eACXC,OAAQ,SAACnG,EAAM5F,GAAP,OACN,gBAAC,IAAD,CAAKgC,MAAO,CAAES,MAAOzC,EAAS4N,aAAe,EAAI,MAAQ,SAAzD,UACE,gBAAC,IAAWlL,KAAZ,CAAiByK,QAAM,EAACnL,MAAO,CAAES,MAAO,UAAW6I,SAAU,IAA7D,UACG7P,EAAoC,IAAxBuE,EAAS4N,cADxB,OAGA,eAAC,IAAD,IACA,eAAC,IAAWlL,KAAZ,CAAiBV,MAAO,CAAES,MAAO,UAAW6I,SAAU,IAAtD,SACG7P,EAAYuE,EAAS2N,mBAI5BzB,MAAO,QACPD,OAAQ,SAAC3Q,EAAGC,GAAJ,OAAUD,EAAEsS,aAAerS,EAAEqS,eAEvC,CACE/B,IAAK,cACLpK,MACE,sDACc,sBAAKO,MAAO,CAAEsJ,SAAU,IAAxB,oBAGhBQ,UAAW,eACXC,OAAQ,SAACnG,GAAD,OACN,uCACE,eAAC,IAAWlD,KAAZ,CAAiByK,QAAM,EAAvB,SAAyB3I,EAAMgC,cAAgB,IAAM/K,EAAYmK,KACjE,uBAAK5D,MAAO,CAAEsJ,SAAU,IAAxB,UAA+B1F,EAAOnK,EAAamK,EAAOyH,EAAe,IAAK,GAAK,EAAnF,WAGJnB,MAAO,QACPD,OAAQ,SAAC3Q,EAAGC,GAAJ,OAAUD,EAAEiS,aAAehS,EAAEgS,sBAc9BtI,WAAMC,KAAKqT,I,mDChH1B,SAASE,KACP,OAAO,uBAAMzW,MAAO,CAAEsJ,SAAU,IAAzB,sBAGT,SAASoN,GAAT,GAAmD,IAA/BC,EAA8B,EAA9BA,KAClB,OACE,gBAAC,IAAD,CAAKnW,GAAI,EAAT,UACE,gBAAC,IAAD,CAAMuI,WAAW,SAAjB,UACE,sBAAK/I,MAAO,CAAEsJ,SAAU,GAAIC,WAAY,IAAKqN,cAAe,EAAGC,aAAc,GAA7E,SACE,eAAC,IAAWjX,KAAZ,CAAiBC,KAAM8W,EAAK5P,IAAKrL,OAAO,SAAS8a,IAAI,sBAArD,SACGG,EAAKlX,UAIU,aAAnBkX,EAAKG,UACJ,eAAC,KAAD,CAAiB9W,MAAO,CAAES,MAAO,QAAS6I,SAAU,MAC/B,YAAnBqN,EAAKG,UACP,eAAC,KAAD,CAAmB9W,MAAO,CAAES,MAAO,MAAO6I,SAAU,WAClD1P,KAGN,uBAAKoG,MAAO,CAAEsJ,SAAU,GAAI7I,MAAO,WAAnC,UACGkW,EAAKI,OACN,eAACN,GAAD,IACC9d,IAAOge,EAAKhJ,WAAW1U,OAAO,wBAHjC,OAIE,eAACwd,GAAD,IACCE,EAAKxc,KALR,IAKc,eAACsc,GAAD,IACXE,EAAKzc,UAGR,0BAxBeyc,EAAKlX,OA6B1B,SAASuX,GAAT,GAAyD,IAAzCjZ,EAAwC,EAAxCA,UAAwC,EAC9BgB,mBAAuB,IADO,mBAC/C4X,EAD+C,KACzCM,EADyC,OAExBlY,oBAAS,GAFe,mBAE/CmH,EAF+C,KAEtCC,EAFsC,OAGxBpH,mBAAmB,IAHK,mBAG/CmY,EAH+C,KAGtCC,EAHsC,OAI1BpY,mBAAiB,OAJS,mBAI/C7E,EAJ+C,KAIvCkd,EAJuC,OAKpBrY,mBAA0C,OALtB,mBAK/C+X,EAL+C,KAKpCO,EALoC,KAOtDzQ,qBAAU,WACR,IAAMC,EAAW9I,EACdtB,QAAO,SAACuB,GAEP,SADeA,EAAS/D,SAASC,QAAU8D,EAAS/D,SAASE,MAC7CwC,SAAS,MAAmC,WAA3BqB,EAAS/D,SAASI,SAEpD+C,KAAI,SAACY,GAAD,OAAc1D,EAAgB0D,EAAS/D,aAC3C6M,KAAK,KACR,GAAKD,EAASzL,OAAd,CAIA,IAAM2L,EAAMtL,EAAiB,wEAAD,OAAyEoL,IACrGV,GAAW,GAEXc,MAAMF,EAAK,CACTG,MAAO,cACPC,OAAQ,MACRC,QAAS,CACP,eAAgB,sBAGjBC,MAAK,SAACpL,GAAD,OAAcA,EAASqL,UAC5BD,MAAK,SAACpL,GACL,GAAIA,EAAU,CACZ,IAAMqb,EAAe,IAAIC,IACzBN,EAaEhb,EAASmB,KAAI,SAACuZ,GACZ,IAAMzc,EAASK,EAA0Boc,EAAKnc,QAE9C,OADA8c,EAAajb,IAAInC,GACV,CACLyT,UAAWhV,IAAOge,EAAKa,kBAAoBb,EAAKc,SAChDtd,KAAMwc,EAAKe,YACXxd,SACA4c,UAAWH,EAAKG,UAChBrX,MAAOkX,EAAKlX,MACZsH,IAAK4P,EAAK5P,IACVgQ,OAAQJ,EAAKgB,cAKnBR,EAAWS,MAAM1b,KAAKob,GAAcje,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEE,cAAcD,WAGtEkO,OAAM,SAACC,GAAD,OAAW9P,QAAQ+P,KAAK,gCAAiCD,MAC/DE,SAAQ,kBAAMzB,GAAW,SAC3B,CAACpI,IAEJ,IAAM8Z,EAAsBjD,mBACtBkD,EAAmBlD,mBAEnBmD,EAAepB,EAAKla,QACxB,SAACub,GAAD,OAA0B,QAAdlB,GAAuBkB,EAAMlB,YAAcA,KAA0B,QAAX5c,GAAoB8d,EAAM9d,SAAWA,MAE7G,OACE,gBAAC,IAAD,CAAMqQ,cAAc,SAASxJ,GAAI,EAAGgI,WAAW,SAA/C,UACE,eAAC,IAAD,CAAM/J,MAAO,EAAG0C,eAAe,SAASX,GAAI,EAA5C,SACE,gBAAC,KAAMyJ,MAAP,CACEpL,KAAK,QACLuL,aAAcmM,EACdvT,SAAU,SAACqH,GACTyM,EAAazM,EAAElP,OAAO5C,OACtBvB,EAAW,wBAAyB,CAAEuf,UAAWlM,EAAElP,OAAO5C,SAE5D4R,YAAY,QAPd,UASE,eAAC,KAAMuN,OAAP,CAAwBnf,MAAM,MAA9B,gBAAkB,OAGlB,gBAAC,KAAMmf,OAAP,CAA6Bnf,MAAM,WAAnC,UACE,eAAC,KAAD,CAAiBkH,MAAO,CAAES,MAAO,WADnC,aAAkB,YAGlB,gBAAC,KAAMwX,OAAP,CAA6Bnf,MAAM,WAAnC,UACE,eAAC,KAAD,CAAmBkH,MAAO,CAAES,MAAO,SADrC,aAAkB,iBAKnBkW,EAAKvb,OACN,gBAAC,IAAD,CAAM4D,MAAO,EAAb,UACE,eAAC,IAAD,CAAMuL,cAAc,SAASxB,WAAW,WAAWqL,GAAI,EAAGpV,MAAO,EAAI,EAArE,SACE,eAAC,IAAD,CAAKA,MAAO,EAAG6W,IAAKgC,EAApB,SACE,eAAC,KAAMrN,MAAP,CACExK,MAAO,CAAEhB,MAAO,QAChBuE,SAAU,SAACqH,GACTwM,EAAUxM,EAAElP,OAAO5C,OACnB1B,OAAOkd,OAAO,CAAElT,IAAK,EAAG8W,KAAM,EAAGC,SAAU,YAC3C,OAAIL,QAAJ,IAAIA,OAAJ,EAAIA,EAAkB7C,UACpB6C,EAAiB7C,QAAQC,SAAS,CAAE9T,IAAK,EAAG8W,KAAM,EAAGC,SAAU,YAGnErf,MAAOoB,EACPwQ,YAAY,QACZD,WAAW,SAXb,SAaG,CAAC,OAAD,oBAAWyM,IAAS9Z,KAAI,SAAClD,GAAD,OACvB,eAAC,KAAM+d,OAAP,CACEjY,MAAO,CACLhB,MAAO,OACPoZ,QAAS,OACTlZ,OAAQ,OACRwC,eAAgB,SAChBqH,WAAY,SACZsP,WAAY,QAEdvf,MAAOoB,EATT,SAWGA,aAOR6d,EAAa3c,OACd,eAAC,IAAD,CACEya,IAAKiC,EACL9Y,MAAO,EAAI,EACXoV,GAAI,EACJlV,QAA2B,OAAnB2Y,QAAmB,IAAnBA,OAAA,EAAAA,EAAqB5C,UAAW4C,EAAoB5C,QAAQqD,aACpEtY,MAAO,CAAEuY,SAAU,UALrB,SAOGR,EAAa3a,KAAI,SAAC4a,EAAOjY,GAAR,OAChB,eAAC2W,GAAD,CAAqCC,KAAMqB,GAA3C,UAAkB9d,EAAlB,YAA4B6F,SAIhC,eAAC,IAAD,CAAM2B,eAAe,SAAS1C,MAAO,EAAI,EAAGoB,GAAI,EAAhD,SACE,eAAC,KAAD,CAAOzB,YAAY,iCAIvBuH,EACF,eAAC,IAAD,CAAM9G,KAAK,UAEX,eAAC,KAAD,CAAOT,YAAY,+BAMZsE,WAAMC,KAAK8T,I,oFClN1B,SAASwB,GAAahW,GACpB,OACE,eAAC,IAAD,CAAK1H,EAAG,EAAR,SACE,eAAC,KAAD,eAAe0H,MAKrB,SAASiW,GAAT,GAQI,IAPFtT,EAOC,EAPDA,WACAuT,EAMC,EANDA,YACA3a,EAKC,EALDA,UAMMqH,EAAYD,EAAWA,EAAW/J,OAAS,GAC3CiQ,EAActN,EAAUlD,QAAO,SAAC/B,EAAOkF,GAAR,OAAqBlF,EAAQkF,EAASuN,eAAc,GACnFoN,EAAY5a,EAAUlD,QAAO,SAAC/B,EAAOkF,GAAR,OAAqBlF,EAAQkF,EAAS0N,aAAY,GAC/EkN,EAAkC,IAArB7a,EAAU3C,OACvByd,EAAoBxN,EAAcsN,EAClCG,EAAqBD,EAAqBA,EAAoBF,EAAa,IAAM,EAEvF,OACE,eAAC,KAAD,CAAMjP,UAAW,CAAEhG,gBAAiB,WAAa1D,MAAO,CAAE+Y,aAAc,EAAGC,YAAa,WAAxF,SACE,gBAAC,IAAD,CAAMha,MAAO,EAAG0C,eAAe,gBAAgBd,SAAS,OAAxD,UACE,eAAC4X,GAAD,CAAc/Y,MAAM,kBAAkB3G,MAAO4f,EAAc,KAAOtT,EAAUtM,MAAOa,UAAW,EAAGsf,OAAO,MACxG,eAACT,GAAD,CAAc/Y,MAAM,WAAW3G,MAAO4f,EAAc,KAAOtT,EAAUK,SAAU9L,UAAW,EAAGsf,OAAO,MACpG,eAACT,GAAD,CACE/Y,MAAM,gBACNyZ,WAAY,CAAEzY,MAAO2E,EAAUtM,OAASsM,EAAUK,SAAW,QAAU,OACvE3M,OAASsM,EAAUtM,MAAQsM,EAAUK,UAAYL,EAAUK,SAAY,IACvE9L,UAAW,EACXwf,OAAO,IACPF,OAAQ7T,EAAUtM,OAASsM,EAAUK,SAAW,eAAC,KAAD,IAAsB,eAAC,KAAD,MAExE,eAAC+S,GAAD,CACE/Y,MAAM,oBACNyZ,WAAY,CAAEzY,MAAO2E,EAAUtM,OAASsM,EAAUK,SAAW,QAAU,OACvE3M,MAAO4f,EAAc,KAAOtT,EAAUtM,MAAQsM,EAAUK,SACxD9L,UAAW+e,OAAc9e,EAAY,EACrCqf,OAAO,MAET,eAACT,GAAD,CACE/Y,MAAM,uBACNyZ,WAAY,CAAEzY,MAAOmY,EAAa,OAASC,GAAqB,EAAI,QAAU,OAC9E/f,MAAO4f,EAAc,KAAOE,EAAa,MAAQC,EACjDlf,UAAW+e,OAAc9e,EAAY,EACrCqf,OAAQL,OAAahf,EAAY,MAEnC,eAAC4e,GAAD,CACE/Y,MAAM,mBACNyZ,WAAY,CAAEzY,MAAOmY,EAAa,OAASE,GAAsB,EAAI,QAAU,OAC/EhgB,MAAO4f,EAAc,KAAOE,EAAa,MAAQE,EACjDnf,UAAW+e,OAAc9e,EAAY,EACrCuf,OAAQP,OAAahf,EAAY,IACjCqf,OAAQL,OAAahf,EAAYkf,GAAsB,EAAI,eAAC,KAAD,IAAsB,eAAC,KAAD,WAO5E7V,WAAMC,KAAKuV,IChEpB7Y,GAAO,SAAC,GAAsD,IAApDC,EAAmD,EAAnDA,KAAMJ,EAA6C,EAA7CA,MACpB,OACE,eAAC,IAAD,CAAKT,MAAO,IAAZ,SACE,eAAC,IAAWY,KAAZ,CACEC,KAAMA,EACNnE,OAAO,SACP8a,IAAI,sBACJxV,QAAS,kBAAMzJ,EAAW,4BAA6B,CAAEkI,WAJ3D,SAMGA,OAMT,SAAS2Z,GAAT,GAAwE,IAAzCrb,EAAwC,EAAxCA,UA4C7B,OACE,eAACoF,GAAD,CAAa1D,MAAM,6BAAnB,SACE,gBAAC,IAAD,CAAMT,MAAO,EAAb,UACE,eAAC,GAAD,CAAMa,KA9CZ,WACE,IhBkEyBiR,EgBlEnBzF,EAActN,EAAUlD,QAAO,SAACyQ,EAAKtN,GACzC,OAAOsN,EAAMtN,EAASuN,eACrB,GAEC8N,EAAqB,IACnBC,GhB6DmBxI,EgB5DvB/S,EAAUlD,QAAO,SAACsB,EAAM6B,EAAU+B,GAGhC,IAAIwZ,EAAYnd,QAAS4B,EAASuN,aAAeF,EAAe,KAAK7P,QAAQ,IAQ7E,OAPA6d,GAAsBE,EACtBF,EAAqBjd,OAAOid,EAAmB7d,QAAQ,IACnDuE,EAAQ,IAAMhC,EAAU3C,SAC1Bme,GAAaF,GAEfld,EAAK,SAAD,OAAU4D,EAAQ,IAAO/F,EAAUgE,EAAS/D,UAChDkC,EAAK,aAAD,OAAc4D,EAAQ,EAAtB,OAA+BwZ,EAC5Bpd,IACN,IhBiDAhD,OAAOC,KAAK0X,GAChB1T,KAAI,SAAUyM,GACb,OAAOA,EAAM,IAAMiH,EAAOjH,MAE3B/C,KAAK,MgBnDN,MAAM,mPAAN,OAA0PwS,EAA1P,oBAyBgBE,GAA2C/Z,MAAM,wCAC7D,eAAC,GAAD,CAAMI,KAvBZ,WACE,IAEMqX,EAAUnZ,EACbtB,QAAO,SAACuB,GACP,IAAM9D,EAAS8D,EAAS/D,SAASC,QAAU8D,EAAS/D,SAASE,KAC7D,QAASD,EAAOyC,SAAS,MAAQzC,EAAOyC,SAAS,SAElDtD,MAAK,SAACC,EAAGC,GAAJ,MACoB,QAAxBD,EAAEW,SAASG,UAA8C,QAAxBb,EAAEU,SAASG,UAAyBb,EAAEgS,aAAejS,EAAEiS,aAAvB,GAA2C,KAE7G3S,MAAM,EAAG,IACTwE,KAAI,SAACY,GAAD,OAAchE,EAAUgE,EAAS/D,aACrCZ,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEE,cAAcD,MAC/BuN,KAAK,KAER,MAAM,GAAN,OAdE,06BAcF,OAAiBoQ,GAODuC,GAAoBha,MAAM,uCAM/BwD,WAAMC,KAAKkW,IChE1B,SAASM,GAA6BlX,GACpC,SAASoM,IACP,IAAMlX,EAAO8K,EAAM2C,WAAW/H,KAAI,SAACgI,GACjC,MAAO,CACLC,EAAG1M,IAAOyM,EAAU1M,MAAM4M,UAC1BC,GAAKH,EAAUtM,MAAQsM,EAAUK,UAAYL,EAAUK,SAAY,IACnEkU,SAAUnX,EAAMgC,cAAgB,IAAMxJ,EAAeoK,EAAUtM,MAAQsM,EAAUK,SAAU,GAAG5L,qBAGlG,MAAO,CACL,CACE+C,GAAI,aACJzC,KAAM,QACNzC,KAAMA,EACNiN,QAAS,CACPE,cAAe,GAEjBxK,KAAM,UAER,CACEA,KAAM,QACNF,KAAM,gBACNzC,KAAM,CAAC,2BAEAiD,EAAIjD,EAAM,MAFX,IAGF+H,MAAO,IACPmE,KAAM,aAJJ,2BAOC7I,EAAIrD,EAAM,MAPX,IAQF+H,MAAO,IACPmE,KAAM,cAERvK,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE+L,EAAI9L,EAAE8L,KACzB8G,SAAU,aACVI,MAAO,YACPvN,MAAO,KA4Fb,OACE,eAACmE,GAAD,CAAa1D,MAAM,qBAAnB,SACE,eAAC,GAAD,CAAQqD,gBAAiB,aAAcL,QAxFlC,CACLhD,MAAO,CACLmE,KAAM,mBAERC,SAAU,CACRD,KAAM,kBACN5D,MAAO,CACLS,MAAO,YAIXqD,cAAe,CACbC,SAAU,EACV9M,SAAU+M,EACVC,cAAc,GAEhBC,UAAW,CAAEjN,SAAS,GACtBkN,UAAW,CAAElN,SAAS,GAEtByN,YAAa,CACXkV,OAAQ,CACNC,MAAO,CACL,CACE/gB,OAAQ,KACR2H,MAAO,WAET,CACEA,MAAO,cAMf2D,MAAO,CACL,CACEC,UAAW,CACTC,UAAW,QAEbC,OAAQ,CACNtL,OAAQ,YAEVwL,UAAU,IAGdE,QAAS,CACPC,YACE,sGACFC,cAAe,EACfpH,OAAO,GAETqH,WAAY,CACVC,MAAO,CACL,CACEC,UAAW,CACT7D,SAAU,KAEZ8D,aAAc,CACZC,MAAO,CACLhG,OAAQ,KAEVkF,MAAO,CACL,CACEG,OAAQ,CACNtN,SAAS,IAGb,CACEsN,OAAQ,CACNtN,SAAS,KAIf4M,SAAU,CACRD,UAAMhK,GAERsK,UAAW,CACTjN,SAAS,OAMnByL,OAAQkM,SAWC3L,WAAMC,KAAKwW,ICzI1B,SAASI,GAAmBtX,GA2G1B,OACE,eAACW,GAAD,CAAa1D,MAAM,qBAAnB,SACE,eAAC,GAAD,CAAQqD,gBAAiB,aAAcL,QAxFlC,CACLhD,MAAO,CACLmE,KAAM,mBAERC,SAAU,CACRD,KAAM,uBACN5D,MAAO,CACLS,MAAO,YAIXqD,cAAe,CACbC,SAAU,EACV9M,SAAU+M,EACVC,cAAc,GAEhBC,UAAW,CAAEjN,SAAS,GACtBkN,UAAW,CAAElN,SAAS,GAEtByN,YAAa,CACXmO,OAAQ,CACNgH,MAAO,CACL,CACE/gB,OAAQ,KACR2H,MAAO,WAET,CACEA,MAAO,cAMf2D,MAAO,CACL,CACEC,UAAW,CACTC,UAAW,QAEbC,OAAQ,CACNtN,SAAUuL,EAAMgC,eAElBC,UAAU,IAGdE,QAAS,CACPC,YACE,oHACFC,cAAe,EACfpH,OAAO,GAETqH,WAAY,CACVC,MAAO,CACL,CACEC,UAAW,CACT7D,SAAU,KAEZ8D,aAAc,CACZC,MAAO,CACLhG,OAAQ,KAEVkF,MAAO,CACL,CACEG,OAAQ,CACNtN,SAAS,IAGb,CACEsN,OAAQ,CACNtN,SAAS,KAIf4M,SAAU,CACRD,UAAMhK,GAERsK,UAAW,CACTjN,SAAS,OAMnByL,OArGK,CACL,CACEvI,KAAM,MACNzC,KAAM8K,EAAM2C,WAAW/H,KAAI,SAACgI,GAC1B,MAAO,CACLC,EAAG1M,IAAOyM,EAAU1M,MAAM4M,UAC1BC,EAAGH,EAAUtM,MAAQsM,EAAUK,SAC/BsU,UAAY3U,EAAUtM,MAAQsM,EAAUK,UAAYL,EAAUK,SAAY,IAC1ED,aAAchD,EAAMgC,cAChB,IACApI,QAAQgJ,EAAUtM,MAAQsM,EAAUK,UAAUjK,QAAQ,IAAI3B,qBAGlEQ,KAAM,gBAmGC4I,WAAMC,KAAK4W,I,oDCrEpBE,I,OAAsB,gBAEtBC,GAAmBhX,IAAMC,MAC7B,YAAwG,IAArGgX,EAAoG,EAApGA,gBAAiB1V,EAAmF,EAAnFA,cAoHlB,OACE,sBAAKgR,UAAU,eAAf,SACE,eAACrS,GAAD,CAAa1D,MAAM,uBAAuB2D,QAAM,EAAhD,SACE,eAAC,KAAD,CACEqS,WAAY,CAAE0E,SAAU,GACxBhQ,WAAY+P,EACZE,QAAS,SAACrc,GACR,IAAMsc,EAAWtc,EAAUlD,QAAO,SAACyf,EAAKtc,GAAN,OAAmBsc,EAAMtc,EAASsc,MAAK,GAEzE,OACE,qCACE,gBAAC,KAAMC,QAAQC,IAAf,WACE,eAAC,KAAMD,QAAQE,KAAf,CAAoBC,QAAS,EAAGxQ,MAAM,QAAQnK,MAAO,EAArD,SACE,eAAC,IAAWW,KAAZ,CAAiByK,QAAM,EAAvB,qBAEF,eAAC,KAAMoP,QAAQE,KAAf,CAAoB1a,MAAO,EAAG2a,QAAS,EAAvC,SACE,gBAAC,IAAWha,KAAZ,CAAiByK,QAAM,EAACnL,MAAO,CAAES,MAAO4Z,EAAW,EAAI,QAAU,OAAjE,UACG5gB,EAAY4gB,GADf,kBAQVzQ,QA1IC,CACL,CACEC,IAAK,OACLpK,MAAO,OACPqK,UAAW,OACXC,OAAQ,SAACnG,GAAD,OAAUA,EAAK3K,OAAO,eAC9BgR,OAAQ,SAAC3Q,EAAGC,GAAJ,OAAUD,EAAEZ,KAAK4M,UAAY/L,EAAEb,KAAK4M,WAC5CtG,MAAO,KAET,CACE6K,IAAK,UACLpK,MAAO,UACPqK,UAAW,UACX9K,MAAO,IACP+K,OAAQ,SAAC9M,GAAD,OAAuBA,EAAUA,EAAQ9C,KAAO,OACxDwgB,QAAS/C,MAAM1b,KACb,IAAIqb,IAAI2C,EAAgB9c,KAAI,SAACY,GAAD,OAAeA,EAASf,QAAUe,EAASf,QAAQ9C,KAAO,WAErFiD,KAAI,SAACtE,GAAD,MAAY,CACf8K,KAAM9K,EACNA,YAEDO,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAER,MAAMU,cAAcD,EAAET,UAC1C8hB,SAAU,SAAC9hB,EAAOkF,GAAR,aAAiF,MAA3D,UAAAA,EAASf,eAAT,eAAkB9C,OAAQ,OAAO2Z,QAAQhb,KAE3E,CACE+Q,IAAK,SACLpK,MAAO,SACPqK,UAAW,SACXC,OAAQ,SAACnG,EAAM5F,GAAP,OACN,uCACE,eAAC,IAAW4B,KAAZ,CACE4W,IAAI,sBACJ3W,KAAI,0CAAqC+D,GACzClI,OAAO,SAHT,SAKGkI,IAEH,sBAAK5D,MAAO,CAAEsJ,SAAU,IAAxB,SAAqD,QAAtBtL,EAAS5D,SAAqB,MAAQ,YAGzE4E,MAAO,IACP2b,QAAS/C,MAAM1b,KAAK,IAAIqb,IAAI2C,EAAgB9c,KAAI,SAACY,GAAD,OAAcA,EAAS9D,YACpEkD,KAAI,SAACtE,GAAD,MAAY,CACf8K,KAAM9K,EACNA,YAEDO,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAER,MAAMU,cAAcD,EAAET,UAC1C8hB,SAAU,SAAC9hB,EAAOkF,GAAR,OAA+D,IAA1CA,EAAS9D,OAAO4Z,QAAQhb,IACvDmR,OAAQ,SAAC3Q,EAAGC,GAAJ,OAAUD,EAAEY,OAAOV,cAAcD,EAAEW,UAE7C,CACE2P,IAAK,SACLpK,MAAO,SACPqK,UAAW,SACXI,MAAO,QACPH,OAAQ,SAACnG,GAAD,OAAWY,EAAgB,IAAMZ,EAAK/J,eAAe,UAC7DmF,MAAO,IAET,CACE6K,IAAK,QACLpK,MACE,gEACyB,IACvB,eAAC,KAAD,CAASA,MAAM,qFAAf,SACE,eAAC,KAAD,CAAuBob,aAAa,iBAI1C3Q,MAAO,QACPH,OAAQ,SAACnG,EAAM5F,GAAP,OACN,uCACGvE,EAAYuE,EAASwR,UADxB,MACsC/V,EAAYuE,EAAS8c,gBAI/D,CACEjR,IAAK,OACLpK,MACE,gDACQ,sBAAKO,MAAO,CAAEsJ,SAAU,IAAxB,sBAGVS,OAAQ,SAACnG,EAAM5F,GAAP,OACN,gBAAC,IAAD,CAAKgC,MAAO,CAAES,MAAOzC,EAASsc,IAAM,EAAI,MAAQ,SAAhD,UACE,eAAC,IAAW5Z,KAAZ,CAAiByK,QAAM,EAACnL,MAAO,CAAES,MAAO,UAAW6I,SAAU,IAA7D,SACG9E,EAAgB,IAAM/K,EAAYuE,EAASsc,OAE9C,eAAC,IAAD,IACA,gBAAC,IAAW5Z,KAAZ,CAAiBV,MAAO,CAAES,MAAO,UAAW6I,SAAU,IAAtD,UACG7P,EAAYuE,EAAS+b,UADxB,WAKJ7P,MAAO,QACPD,OAAQ,SAAC3Q,EAAGC,GAAJ,OAAUD,EAAEygB,SAAWxgB,EAAEwgB,WAEnC,CACElQ,IAAK,WACLpK,MAAO,YACPsK,OAAQ,SAACnG,EAAM5F,GAAP,OACLA,EAAS+c,QAAQ5Y,QAAQnE,EAASgd,UAAYhd,EAASgd,SAAWhd,EAAS+c,SAAS9hB,OAAO,gBAEhG,CACE4Q,IAAK,iBACLpK,MAAO,iBACPsK,OAAQ,SAACnG,EAAM5F,GAAP,OACNA,EAAS+c,QAAQjf,KAAKkC,EAASgd,UAC3BriB,IAAOsiB,SAASjd,EAAS+c,QAAQjf,KAAKkC,EAASgd,WAAWE,WAC1D,uBAqCVC,GAAgBlY,IAAMC,MAC1B,YAQO,IAPLkY,EAOI,EAPJA,YACA5O,EAMI,EANJA,aACAhI,EAKI,EALJA,cAyCA,OACE,sBAAKgR,UAAU,eAAf,SACE,eAACrS,GAAD,CAAa1D,MAAM,mBAAmB2D,QAAM,EAA5C,SACE,eAAC,KAAD,CACEqS,WAAY,CAAE0E,SAAU,GACxBhQ,WAAYqC,EAAaiB,UACzB7D,QAxCC,CACL,CACEC,IAAK,OACLpK,MAAO,OACPqK,UAAW,OACXC,OAAQ,SAACnG,GAAD,OAAUA,EAAK3K,OAAO,eAC9BgR,OAAQ,SAAC3Q,EAAGC,GAAJ,OAAUD,EAAEZ,KAAK4M,UAAY/L,EAAEb,KAAK4M,WAC5CtG,MAAO,KAET,CACE6K,IAAK,UACLpK,MAAO,UACPqK,UAAW,UACXC,OAAQ,SAAC9M,GAAD,OAAcme,EAAYne,GAAWme,EAAYne,GAAS9C,KAAO,OACzE6E,MAAO,KAET,CACE6K,IAAK,WACLpK,MAAO,iBACPqK,UAAW,SACXC,OAAQ,SAACsR,GAAD,OACN7W,EAAgB,KAAO,gBAAC,IAAW9D,KAAZ,CAAiByK,QAAM,EAAvB,cAA0B1R,EAAY4hB,OAC/DnR,MAAO,QACPD,OAAQ,SAAC3Q,EAAGC,GAAJ,OAAUD,EAAEI,OAASH,EAAEG,QAC/BsF,MAAO,KAET,CACE6K,IAAK,cACLpK,MAAO,cACPqK,UAAW,yBAmBfwR,GAAcrY,IAAMC,MACxB,YAQO,IAPLkY,EAOI,EAPJA,YACA5O,EAMI,EANJA,aACAhI,EAKI,EALJA,cAuEA,OACE,sBAAKgR,UAAU,eAAf,SACE,eAACrS,GAAD,CAAa1D,MAAM,iBAAiB2D,QAAM,EAA1C,SACE,eAAC,KAAD,CAAoBqS,WAAY,CAAE0E,SAAU,GAAKhQ,WAAYqC,EAAaiB,UAAW7D,QAnElF,CACL,CACEC,IAAK,OACLpK,MAAO,OACPqK,UAAW,OACXC,OAAQ,SAACnG,GAAD,OAAUA,EAAK3K,OAAO,eAC9BgR,OAAQ,SAAC3Q,EAAGC,GAAJ,OAAUD,EAAEZ,KAAK4M,UAAY/L,EAAEb,KAAK4M,WAC5CtG,MAAO,KAET,CACE6K,IAAK,UACLpK,MAAO,UACPqK,UAAW,UACXC,OAAQ,SAAC9M,GAAD,OAAcme,EAAYne,GAAWme,EAAYne,GAAS9C,KAAO,OACzE6E,MAAO,KAET,CACE6K,IAAK,SACLpK,MAAO,SACPqK,UAAW,SACXC,OAAQ,SAACnG,EAAMrF,GAAP,OACN,uCACE,eAAC,IAAWqB,KAAZ,CACE4W,IAAI,sBACJ3W,KAAI,0CAAqC+D,GACzClI,OAAO,SAHT,SAKGkI,IAEH,sBAAK5D,MAAO,CAAEsJ,SAAU,IAAxB,SAAwD,QAAzB/K,EAAYnE,SAAqB,MAAQ,YAG5E4E,MAAO,IACP2b,QAAS/C,MAAM1b,KAAK,IAAIqb,IAAI/K,EAAapP,KAAI,SAACiB,GAAD,OAAOA,EAAEnE,YACnDkD,KAAI,SAACtE,GAAD,MAAY,CACf8K,KAAM9K,EACNA,YAEDO,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAER,MAAMU,cAAcD,EAAET,UAC1C8hB,SAAU,SAAC9hB,EAAOyF,GAAR,OAAqE,IAA7CA,EAAYrE,OAAO4Z,QAAQhb,IAC7DmR,OAAQ,SAAC3Q,EAAGC,GAAJ,OAAUD,EAAEY,OAAOV,cAAcD,EAAEW,UAE7C,CACE2P,IAAK,OACLpK,MAAO,OACPqK,UAAW,OACXC,OAAQ,SAAC1P,GAAD,OAAU,eAAC,IAAWqG,KAAZ,CAAiByK,QAAM,EAAvB,SAAyBkB,IAAEC,UAAUjS,GAAQ,SAEjE,CACEwP,IAAK,SACLpK,MAAO,eACPqK,UAAW,SACXC,OAAQ,SAACrQ,GAAD,OAAa8K,EAAgB,KAAO,gBAAC,IAAW9D,KAAZ,CAAiByK,QAAM,EAAvB,cAA0B1R,EAAYC,OAClFwQ,MAAO,QACPD,OAAQ,SAAC3Q,EAAGC,GAAJ,OAAUD,EAAEI,OAASH,EAAEG,SAEjC,CACEmQ,IAAK,cACLpK,MAAO,cACPqK,UAAW,yBAiBN,SAASyR,GAAT,GAOJ,IANTxiB,EAMQ,EANRA,cACAyiB,EAKQ,EALRA,oBACAhP,EAIQ,EAJRA,aACA3P,EAGQ,EAHRA,SACA2H,EAEQ,EAFRA,cACAiX,EACQ,EADRA,SACQ,EACwB1c,mBAA4C,SADpE,mBACD2c,EADC,KACSC,EADT,OAEsCpV,mBAAQ,WACpD,IAAMqV,EAAsBJ,EAAoB/e,QAC9C,SAAC8B,GAAD,MAAiB,CAAC,WAAY,OAAO5B,SAAS4B,EAAYlE,OAASkE,EAAY7F,KAAKyQ,cAAcsS,MAEpG,MAAO,CACLG,sBACAC,aAAcD,EAAoB/gB,QAAO,SAACihB,EAASzd,GAAV,OAAgByd,EAAUzd,EAAE3E,SAAQ,MAE9E,CAAC8S,EAAciP,IARVG,EAFA,EAEAA,oBAAqBC,EAFrB,EAEqBA,aAFrB,EAYoCtV,mBAAQ,WAClD,IAAMwV,EAAqBvP,EAAa/P,QACtC,SAAC8B,GAAD,MACE,CAAC,SAAU,WAAY,gBAAgB5B,SAAS4B,EAAYlE,OAASkE,EAAY7F,KAAKyQ,cAAcsS,MAExG,MAAO,CACLM,qBACAC,YAAaD,EAAmBlhB,QAAO,SAACihB,EAASzd,GAAV,OAAgByd,EAAUzd,EAAE3E,SAAQ,MAE5E,CAAC8S,EAAciP,IATVM,EAZA,EAYAA,mBAAoBC,EAZpB,EAYoBA,YAZpB,EAsBwCjd,mBAAoB,QAtB5D,mBAsBDgR,EAtBC,KAsBiBC,EAtBjB,KAwBFoL,EAAc7U,mBAAQ,WAC1B,OAAO1J,EAAShC,QAAO,SAACsB,EAAMc,GAE5B,OADAd,EAAKc,EAAQL,IAAMK,EACZd,IACN,MACF,CAACU,IAEJ,SAASof,EAAcje,EAA2BO,GAChD,IAAM2d,EAAe7gB,KAAKV,IAAIU,KAAKC,IAAI0C,EAAS4O,QAASvR,KAAKC,IAAIiD,EAAYqO,SACxEuP,EAAiC,QAArB5d,EAAYlE,KAAiBkE,EAAcP,EACvDoe,EAAkC,SAArB7d,EAAYlE,KAAkBkE,EAAcP,EAEzDqe,EAAWH,EAAeC,EAAUtP,MAGpCyN,EAFY4B,EAAeE,EAAWvP,MAEpBwP,EAClBtC,EAAYO,EAAM+B,EAAY,IAE9BC,EAAiB,CACrB5jB,KAAM6F,EAAY7F,KAClBuE,QAASme,EAAY7c,EAAYtB,SACjC/C,OAAQqE,EAAYrE,OACpBE,SAAUmE,EAAYnE,SACtBwS,OAAQsP,EAERnB,QAASoB,EAAUzjB,KACnB8W,SAAU2M,EAAUtP,MAEpBmO,SAAUoB,EAAW1jB,KACrBoiB,UAAWsB,EAAWvP,MAEtByN,IAC2B,QAAzB/b,EAAYnE,UAAmD,WAA7BmE,EAAYge,aAC1C1jB,EAAiB0F,EAAY7F,KAAM4hB,EAAKvhB,GACxCuhB,EACNP,YAGIyC,EAAaxe,EAAS4O,OAASrO,EAAYqO,OAYjD,OAXA5O,EAAS4O,OAAS4P,EACdA,EAAa,GACfxe,EAAS6O,MAAQsP,EAAUtP,MAC3B7O,EAAStF,KAAOyjB,EAAUzjB,MACjB8jB,EAAa,GACtBxe,EAAS6O,MAAQuP,EAAWvP,MAC5B7O,EAAStF,KAAO0jB,EAAW1jB,MAE3BsF,EAAS6O,MAAQ,EAGZyP,EAGT,SAASG,EAAaze,EAA2BO,GAC/C,IAAMqO,EAAS5O,EAAS4O,OAASrO,EAAYqO,OACrB,IAApB5O,EAAS4O,SACX5O,EAAStF,KAAO6F,EAAY7F,MAE9BsF,EAAS6O,OAAS7O,EAAS6O,MAAQ7O,EAAS4O,OAASrO,EAAYsO,MAAQtO,EAAYqO,QAAUA,EAC/F5O,EAAS4O,OAASA,EAepB,SAAS8P,IACP,IAAMxC,EAAoC,GACpCyC,EAAyC,GAC/CnQ,EAAarE,SAAQ,SAAC5J,GACpB,IAAMsL,EAAG,UAAMtL,EAAYtB,QAAlB,YAA6BsB,EAAYrE,QAC9C8D,EAAW2e,EAAK9S,GACf7L,IACHA,EAAW,CAAE4O,OAAQ,EAAGC,MAAO,EAAGnU,KAAM6F,EAAY7F,MACpDikB,EAAK9S,GAAO7L,GAGW,QAArBO,EAAYlE,KACV2D,EAAS4O,OAAS,EACpBsN,EAAgBjS,KAAKgU,EAAcje,EAAUO,IAE7Cke,EAAaze,EAAUO,GAEK,SAArBA,EAAYlE,KACjB2D,EAAS4O,OAAS,EACpBsN,EAAgBjS,KAAKgU,EAAcje,EAAUO,IAE7Cke,EAAaze,EAAUO,GAEK,UAArBA,EAAYlE,KAnC3B,SAAqB2D,EAA2BO,GAG9C,KAAIA,EAAYqO,OAAS,GAAzB,CAGA,IAAMgQ,EAAare,EAAYqe,YAAc,EACvChQ,EAASvR,KAAKqZ,MAAM1W,EAAS4O,OAASgQ,GAC5C5e,EAAS4O,OAASA,EAClB5O,EAAS6O,MAAQ7O,EAAS6O,MAAQ+P,GA2B9BC,CAAY7e,EAAUO,GACQ,aAArBA,EAAYlE,MAErBoiB,EAAaze,EAAD,YAAC,eAAeO,GAAhB,IAA6BsO,MAAO,QAIpD,IAAMiB,EAAYnV,IAAO8iB,GACzB,OAAOvB,EAAgBzd,QAAO,SAACuB,GAAD,OAAcA,EAAStF,KAAKyQ,cAAc2E,MAAYL,UAGtF,IAAMsB,EAAa,SAAC,GAKlB,MAAO,CACLrM,OAFsB,EAHxBA,OAMEmM,OAAQ,CACN5X,SAAS,GAGX0N,QAAS,CACP2N,SAAS,EAETC,SAAS,EACT7O,gBAAiB,OACjB1D,MAAO,CACLS,MAAO,YAIXhB,MAAO,CACLmE,UAAMhK,GAER4Y,MAAO,CACLnY,KAAM,WACNkK,OAAQ,CACNvE,MAAO,CACLsJ,SAAU,OACVoJ,WAAY,yBAKlBtO,MAAO,CACLG,OAAQ,CACNtN,SAAUuN,GAEZ/E,MAAO,CACLmE,KAAM,cAMRkZ,EAAc,SAACpkB,GACnB,IAAMoV,EAAYnV,IAAOD,GAEzB,OAAQgjB,GACN,IAAK,QACH,OAAO5N,EAAU7U,OAAO,UAC1B,IAAK,OACH,MAAM,GAAN,OAAU6U,EAAU7U,OAAO,UAA3B,cAA0CN,IAAOD,GAAMgO,MAAMgV,GAAUziB,OAAO,UAA9E,aAA4F6U,EAAU7U,OACpG,OAEJ,IAAK,OACH,OAAO6U,EAAU7U,OAAO,QAC1B,IAAK,MACH,OAAO6U,EAAU7U,OAAO,kBAIxB8jB,EAAU,SAAC7C,GACf,SAAStL,EAAUvU,EAA+ByW,GAChD,IAAMpZ,EAAOyB,OAAOC,KAAK0X,GACtB1T,KAAI,SAAC1E,GAAD,MAAW,CAAEA,OAAMmS,MAAOiS,EAAYpkB,GAAO4hB,IAAKxJ,EAAOpY,OAC7D+D,QAAO,SAAC3D,GAAD,OAAWA,EAAMwhB,OACxBjhB,MAAK,SAACC,EAAGC,GAAJ,OAAUZ,IAAOW,EAAEZ,MAAM4M,UAAY3M,IAAOY,EAAEb,MAAM4M,aACzDlI,KAAI,SAACtE,GACJ,MAAO,CACLJ,KAAMI,EAAMJ,KACZmS,MAAO/R,EAAM+R,MACbyP,IAAKxhB,EAAMwhB,IACXxM,UAAWnV,IAAOG,EAAMJ,MAAM0N,QAAQsV,GAAUziB,OAAO+gB,IACvD5L,QAASzV,IAAOG,EAAMJ,MAAMgO,MAAMgV,GAAUziB,OAAO+gB,QAInD7f,EACK,QAATE,EACI,eACS,YAATA,EACA,2BACS,WAATA,EACA,qBADA,UAEGsL,EAAMhJ,SAAS,OAAf,eAAgCgJ,EAAMhJ,SAAS,UAAY,IAAM,GAAjE,KAAyE,IAF5E,OAGEgJ,EAAMhJ,SAAS,UAAY,SAAW,IAHxC,OAIGgJ,EAAMhJ,SAAS,WAAa,cAAgB,IA0BrD,MAvBgD,CAC9CxC,OACAE,KAAM,SACNoG,MAJS,QAATpG,EAAiB,UAAqB,YAATA,EAAqB,UAAqB,WAATA,EAAoB,UAAY,UAK9F3C,KAAMA,EAAK0F,KAAI,SAACtE,GAAD,MAAY,CACzB+Q,IAAK/Q,EAAM+R,MACX1Q,KAAMrB,EAAM+R,MACZA,MAAO/R,EAAM+R,MACbtF,EAAGzM,EAAMwhB,IACTA,IAAM9V,EAAyC,IAAzB/K,EAAYX,EAAMwhB,KACxC0C,SAAWxY,EAA+C,IAA/BxJ,EAAelC,EAAMwhB,IAAK,GACrDxM,UAAWhV,EAAMgV,UACjBM,QAAStV,EAAMsV,YAEjBzJ,QAAS,CACPgL,aAAa,oDAAD,OAAsDxV,EAAtD,WACZyK,YAAY,wMAIdwM,WAAY,CAAEna,SAAS,EAAMgC,OAAQ,oBACrC8Z,cAAc,GAKlB,IAAMkK,EAAQ,GACRC,EAAO,GACPC,EAAW,GACXC,EAAU,GAEZzX,EAAMhJ,SAAS,QACjBud,EAAgB/R,SAAQ,SAACrP,GACvB,IAAM+Q,EAAM/Q,EAAMJ,KAAKsO,QAAQZ,QAAQsV,GAAUziB,OAAOnB,GACxDolB,EAAKrT,GAAOqT,EAAKrT,GAAOqT,EAAKrT,GAAO/Q,EAAMwhB,IAAMxhB,EAAMwhB,OAItD3U,EAAMhJ,SAAS,YACjBif,EAAoBzT,SAAQ,SAACrP,GAC3B,IAAM+Q,EAAM/Q,EAAMJ,KAAKsO,QAAQZ,QAAQsV,GAAUziB,OAAOnB,GACxDqlB,EAAStT,GAAOsT,EAAStT,GAAOsT,EAAStT,GAAO/Q,EAAMY,OAASZ,EAAMY,UAIrEiM,EAAMhJ,SAAS,WACjBof,EAAmB5T,SAAQ,SAACrP,GAC1B,IAAM+Q,EAAM/Q,EAAMJ,KAAKsO,QAAQZ,QAAQsV,GAAUziB,OAAOnB,GACxDslB,EAAQvT,GAAOuT,EAAQvT,GAAOuT,EAAQvT,GAAO/Q,EAAMY,OAASZ,EAAMY,UAIrD,IAAI6d,IAAIpe,OAAOC,KAAK+jB,GAAUpgB,OAAO5D,OAAOC,KAAK8jB,IAAOngB,OAAO5D,OAAOC,KAAKgkB,KACnFjV,SAAQ,SAAC0B,GAChBoT,EAAMpT,IAAQqT,EAAKrT,IAAQ,IAAMsT,EAAStT,IAAQ,IAAMuT,EAAQvT,IAAQ,MAG1E,IAAMwT,EAAqD,GAQ3D,OAPA1X,EAAMwC,SAAQ,SAAC9N,GACb,IAAMyW,EAAkB,QAATzW,EAAiB6iB,EAAgB,WAAT7iB,EAAoB+iB,EAAUD,EACjEhkB,OAAOC,KAAK0X,GAAQ1V,QACtBiiB,EAAiBpV,KAAK2G,EAAUvU,EAAMyW,OAIP,IAA5BuM,EAAiBjiB,OAAeiiB,EAAmB,CAACzO,EAAU,MAAOqO,IAAQlgB,OAAOsgB,IAGvFC,EAA8B,SAClCpD,EACAqD,EACArgB,GAEA,IAAMggB,EAAO,GA4Eb,OA3EIvX,EAAMhJ,SAAS,QACjBud,EAAgB/R,SAAQ,SAACnK,GACvB,IAAM7D,EAAO2Q,GAAY5N,EAAOc,EAASf,SACrCyT,EAAgBwM,EAAK/iB,GACpBuW,IACHA,EAAgB,CAAEvW,OAAMmgB,IAAK,GAC7B4C,EAAK/iB,GAAQuW,GAEfA,EAAc4J,KAAOtc,EAASsc,OAI9B3U,EAAMhJ,SAAS,YACjBif,EAAoBzT,SAAQ,SAAC9J,GAC3B,IAAMlE,EAAO2Q,GAAY5N,EAAOke,EAAY/c,EAAEpB,UAC1CyT,EAAgBwM,EAAK/iB,GACpBuW,IACHA,EAAgB,CAAEvW,OAAMmgB,IAAK,GAC7B4C,EAAK/iB,GAAQuW,GAEfA,EAAc4J,KAAOjc,EAAE3E,UAIvBiM,EAAMhJ,SAAS,WACjBof,EAAmB5T,SAAQ,SAAC9J,GAC1B,IAAMlE,EAAO2Q,GAAY5N,EAAOke,EAAY/c,EAAEpB,UAC1CyT,EAAgBwM,EAAK/iB,GACpBuW,IACHA,EAAgB,CAAEvW,OAAMmgB,IAAK,GAC7B4C,EAAK/iB,GAAQuW,GAEfA,EAAc4J,KAAOjc,EAAE3E,UA2CpB,CAtC6C,CAClDW,KAAM,MACNuC,GAAI,WACJzC,KAAM,WACNiX,WAAY,CACVna,SAAS,EACTgC,OACE,sHACF+G,MAAO,CACLS,MAAO,UAGX/I,KAbWyB,OAAO2X,OAAOoM,GActBzgB,QAAO,SAACQ,GAAD,OAAaA,EAAQqd,OAC5BjhB,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAE+gB,IAAMhhB,EAAEghB,OACzBld,KAAI,SAACH,GACJ,MAAO,CACL9C,KAAM8C,EAAQ9C,KACdoL,EAAGlK,KAAKC,IAAI2B,EAAQqd,KACpBkD,SAAUvgB,EAAQqd,IAAM,EACxB9U,aAAchB,EAAgB,IAAMvH,EAAQqd,IAAM7gB,EAAYwD,EAAQqd,KAAOrd,EAAQqd,IACrF5I,WAAYlN,EAAgB,IAAM/K,EAAY8jB,GAC9ClO,SAAUpS,EAAQqd,IAAM,EAAI,MAAQ,YAI1C3V,QAAS,CACPgL,aAAa,wDACbT,eAFO,WAGL,IAAMC,EAAQjC,KAAKzK,QACnB,MAAM,yEAAN,OACqD0M,EAAM3J,aAD3D,8FAE2D2J,EAAMuC,WAFjE,yCAWFwI,EAAkB3T,mBAAQ,WAC9B,OAAOmW,MACN,CAAClQ,EAAc3P,EAAU4e,IAzXpB,MA8XkB1c,oBAH1B,WACE,MAAO,CAACmb,EAAgB9e,OAAS,MAAQ2gB,EAAmB3gB,OAAS,SAAW,cA5X1E,mBA8XDuK,EA9XC,KA8XMgB,EA9XN,OAgY2BJ,mBAAQ,WACzC,IAAMkX,EAAcvD,EAAgBrf,QAAO,SAACyf,EAAKtc,GAAN,OAAmBsc,EAAMtc,EAASsc,MAAK,GAKlF,MAAO,CAAEmD,cAAaF,WAHnB5X,EAAMhJ,SAAS,OAAS8gB,EAAc,IACtC9X,EAAMhJ,SAAS,WAAakf,EAAe,IAC3ClW,EAAMhJ,SAAS,UAAYqf,EAAc,MAE3C,CAAC9B,EAAiBvU,EAAOkW,EAAcG,IAPlCuB,EAhYA,EAgYAA,UAAWE,EAhYX,EAgYWA,YASbhb,EAAU8D,mBAAQ,WACtB,OAAOwI,EAAW,CAAErM,OAAQqa,EAAQ7C,OACnC,CAACA,EAAiBwB,EAAU/V,IAEzB+X,EAAuBnX,mBAAQ,WACnC,OAAOwI,EAAW,CAAErM,OAAQ4a,EAA4BpD,EAAiBqD,EAAWxN,OACnF,CAACmK,EAAiBqD,EAAWxN,EAAkBpK,IAE5CgY,EAAepX,mBAAQ,WAC3B,IAAM9D,EAA6F,GAyCnG,OAvCAA,EAAQwF,KAAK,CACX4C,MACE,sDACe,IACb,gBAAC,IAAWnK,KAAZ,CAAiBrG,KAAMojB,EAAc,EAAI,UAAYA,EAAc,EAAI,SAAW,YAAatS,QAAM,EAArG,UACG1R,EAAYgkB,GADf,aAKJ3kB,MAAO,MACPkQ,UAAWkR,EAAgB9e,SAG7BqH,EAAQwF,KAAK,CACX4C,MACE,4DACqB,IACnB,gBAAC,IAAWnK,KAAZ,CAAiBrG,KAAM2hB,EAAc,UAAY,YAAa7Q,OAAQ6Q,EAAc,EAApF,UACGviB,EAAYuiB,GADf,aAKJljB,MAAO,SACPkQ,UAAW+S,EAAmB3gB,SAGhCqH,EAAQwF,KAAK,CACX4C,MACE,kEAC2B,IACzB,gBAAC,IAAWnK,KAAZ,CAAiBrG,KAAMwhB,EAAe,SAAW,YAAa1Q,OAAQ0Q,EAAe,EAArF,UACGpiB,EAAYoiB,GADf,aAKJ/iB,MAAO,UACPkQ,UAAW4S,EAAoBxgB,SAG1BqH,IACN,CAACyX,EAAiB6B,EAAoBH,IAGzC,OADa1B,EAAgB9e,OAAS,GAAK2gB,EAAmB3gB,OAAS,GAAKwgB,EAAoBxgB,OAAS,EAEvG,uCACE,eAAC,IAAD,CAAM6Y,GAAI,EAAGlT,GAAI,EAAGW,eAAe,SAAnC,SACE,eAAC,KAAD,CACE5I,MAAO0L,EAAgB,KAAO+Y,EAC9B5jB,UAAW,EACXwf,OAAO,MACPD,WAAY,CAAEzY,MAAO8c,GAAa,EAAI,QAAU,OAChDtE,OAAQsE,GAAa,EAAI,eAAC,KAAD,IAAsB,eAAC,KAAD,QAInD,eAAC,IAAD,CACExc,GAAI,EACJkT,GAAI,EACJjV,MAAO,EACP0C,eAAe,SACfwS,aAAa,SACb0J,aAAa,SACb7U,WAAW,SAPb,SASE,eAAC,KAASyB,MAAV,CACE/H,QAASkb,EACT7kB,MAAO6M,EACPpC,SAAU,SAACsa,GACTlX,EAASkX,GACTtmB,EAAW,qBAAsB,CAAEoO,MAAOkY,SAKhD,eAACtb,GAAD,CAAuBE,QAASA,GAAnBiZ,GAEb,eAAC,IAAD,CAAM1c,MAAO,EAAG0C,eAAe,SAAStB,GAAI,EAAGW,GAAI,EAAnD,SACE,eAAC,KAAMyJ,MAAP,CACEG,aAAc+Q,EACdtc,KAAK,QACLsL,YAAY,QACZnH,SAAU,SAACqH,GACTrT,EAAW,qBAAsB,CAAEmkB,SAAU9Q,EAAElP,OAAO5C,QACtD6iB,EAAY/Q,EAAElP,OAAO5C,QAEvB2J,QAAS,CACP,CAAEoI,MAAO,MAAO/R,MAAO,OACvB,CAAE+R,MAAO,OAAQ/R,MAAO,QACxB,CAAE+R,MAAO,QAAS/R,MAAO,SACzB,CAAE+R,MAAO,OAAQ/R,MAAO,SAE1B2R,WAAW,aAIf,gBAACtH,GAAD,CAAa1D,MAAM,2BAAnB,UACE,eAAC8C,GAAD,CAAuBE,QAASib,GAAnBhC,GAA4C,IACzD,eAACtR,GAAD,CAAkBC,YAAa2F,EAAqB9S,MAAO6S,EAAkBzF,QAAQ,0BAGtF4P,EAAgB9e,OAAS,GACxB,eAAC6e,GAAD,CAAkBC,gBAAiBA,EAAiB1V,cAAeA,IAEpEuX,EAAmB3gB,OAAS,GAC3B,eAACkgB,GAAD,CAAa9O,aAAcuP,EAAoBvX,cAAeA,EAAe4W,YAAaA,IAE3FQ,EAAoBxgB,OAAS,GAC5B,eAAC+f,GAAD,CAAe3O,aAAcoP,EAAqBpX,cAAeA,EAAe4W,YAAaA,OAIjG,eAAC,IAAD,CAAOzc,YAAY,yEC/0BvB,IAAMmf,GAAY,gNAElB,SAASC,GAAT,GAA6G,IAAD,EAAhFvZ,EAAgF,EAAhFA,cAAetK,EAAiE,EAAjEA,OAAQ8D,EAAyD,EAAzDA,SAAU+P,EAA+C,EAA/CA,MAAOiQ,EAAwC,EAAxCA,eAAgBjlB,EAAwB,EAAxBA,cAAwB,EAC5EgG,oBAAS,GADmE,mBACnGmH,EADmG,KAC1FC,EAD0F,OAE9EpH,mBAAuB,IAFuD,mBAEnGkf,EAFmG,KAE3FC,EAF2F,KAGpGC,EAAUvJ,kBAAgB,GAC1BtH,EAAqC,YAA5B,UAAAtP,EAAS/D,gBAAT,eAAmBI,MASlC,SAAS8T,EAAwBlS,GAC/B,GAAKkiB,EAAQlJ,QAAb,CAKA,IAEI5H,EAFEE,EAAK9U,EAAQwD,EAASsR,IACtB7V,EAAqB,GAE3BuE,EAASvE,KACN+E,QAAO,SAAC+Q,GAAD,OAAgBA,KACvBC,UACAtF,SAAQ,SAACqF,GACHH,IACHA,EAAYG,GAE6D,IAAlDnS,KAAKC,KAAKkS,EAAaH,GAAaG,GACtC,MACrBA,EAAaH,IAIXE,EAAGG,cAAgB,GAAKJ,IAC1B5V,EAAKuQ,KAAK,CACR0F,UAAWJ,EAAGvG,QACdwG,WAAYF,EAASzU,EAAiB0U,EAAIC,EAAYzU,GAAiByU,IAK3ED,EAAGxR,SAAS,EAAG,QACfsR,EAAYG,KAGhB,IAAMI,EAAalW,EAAK2B,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEqU,UAAUrI,UAAY/L,EAAEoU,UAAUrI,aAC3E4Y,EAAUtQ,QAjCRsQ,EAAU,IAmFd,SAAStP,IACP,IAAM+N,EAEF,CAAEyB,IAAK,IAEXpgB,EAASwO,aACN/P,QAAO,SAAC4B,GAAD,MAAO,CAAC,MAAO,OAAQ,QAAS,YAAY1B,SAAS0B,EAAEhE,SAC9D8N,SAAQ,SAAC9J,GACR,GAAe,UAAXA,EAAEhE,MAAqBgE,EAAEue,WAA7B,CAIA,IAAMlkB,EAAO4U,EAASjP,EAAE3F,KAAKO,OAAO,cAnB1C,SAAwBP,GACtB,IAAMkD,EAAgBjD,IAAOD,GACzBmD,EAAMD,EAAcC,MACpBC,EAAe,IAARD,EAAY,EAAY,IAARA,EAAY,EAAI,EAC3C,OAAQC,EAAOF,EAAcS,IAAIP,EAAM,QAAUF,GAAe3C,OAAO,cAefolB,CAAehgB,EAAE3F,KAAKsO,SACtEsX,EAAc3B,EAAKte,EAAEpB,SACpBqhB,IACHA,EAAc,GACd3B,EAAKte,EAAEpB,SAAWqhB,GAGpB,IAAMC,EAAQ,CAAC,MAAO,YAAY5hB,SAAS0B,EAAEhE,MACvCmkB,EAAqB,UAAXngB,EAAEhE,KAEZokB,EAAoB,aAAXpgB,EAAEhE,KAAsB,EAAIgE,EAAEwO,MACvC+P,EAAave,EAAEue,YAAc,EAC/B8B,EAAcJ,EAAY3R,OAAS,CAAEC,OAAQ,EAAGC,MAAO,EAAGnU,QACxDimB,EAAoBviB,QACtBoiB,EAA0CnjB,KAAKqZ,MAAMgK,EAAY9R,OAASgQ,GAAhE8B,EAAY9R,OAASvO,EAAEuO,QAAsDpR,QAAQ,KAG7FojB,EAAc,CAClB/R,MACE0R,GAASI,GACJD,EAAY7R,MAAQ6R,EAAY9R,OAAS6R,EAASpgB,EAAEuO,QAAU+R,EAC/DH,EACAE,EAAY7R,MAAQ+P,EACpB+B,EACAD,EAAY7R,MACZ,EACND,OAAQ+R,EACRjmB,QAEEkmB,EAAYlmB,OAASgmB,EAAYhmB,MACnC4lB,EAAYrW,KAAKyW,GAEnBJ,EAAYrW,KAAK2W,GAGjB,IAAIC,EAAiBlC,EAAKyB,IAAIzR,OAAS,CAAEC,OAAQ,EAAGC,MAAO,EAAGnU,QACxDkU,EAASxQ,QACZoiB,EACGK,EAAejS,OAAS8R,EAAY9R,OAASgS,EAAYhS,OACzDiS,EAAejS,OAASvO,EAAEuO,QAC5BpR,QAAQ,KAWNsjB,EAAW,CAAEjS,MATLD,EACV4R,GACGK,EAAehS,MAAQgS,EAAejS,OACrC8R,EAAY9R,OAAS8R,EAAY7R,MACjC+R,EAAYhS,OAASgS,EAAY/R,OACnCD,GACCiS,EAAehS,MAAQgS,EAAejS,QAAU2R,EAAQE,EAASC,EAAY7R,OAASxO,EAAEuO,QAAUA,EACrG,EAEsBA,SAAQlU,QAE9BomB,EAASpmB,OAASmmB,EAAenmB,MACnCikB,EAAKyB,IAAInW,KAAK4W,GAEhBlC,EAAKyB,IAAInW,KAAK6W,OAGlB,IAKIC,EALEC,EAAUrC,EAAKyB,IAAIvjB,QAAO,SAACsB,EAAM8iB,GAErC,OADA9iB,EAAK8iB,EAAMvmB,MAAQ,CAAEkU,OAAQqS,EAAMrS,OAAQC,MAAOoS,EAAMpS,OACjD1Q,IACN,IACCzE,EAAc,GA4BlB,OA1BAumB,EAAO9V,SAAQ,SAAC0E,GACd,IAAMoS,EAAQD,EAAQnS,EAAMc,UAAU1U,OAAO,eAE7C,GADA8lB,EAASE,GAAgBF,EAEvB,GAAsB,IAAlBA,EAAOnS,OAETlV,EAAO,OACF,CACL,IAAMihB,EAAYoG,EAAOlS,MAAQkS,EAAOnS,OAClCvB,EAAcwB,EAAMW,WAAauR,EAAOnS,OACxCmN,GAAalN,EAAMW,WAAauR,EAAOlS,OAASkS,EAAOlS,MAAS,IACtEnV,EAAKuQ,KAAK,CACR5C,EAAGwH,EAAMc,UAAUrI,UACnBC,EAAGyY,EAAiB3S,EAAcsN,EAAYoB,EAC9CmF,EAAGrS,EAAMc,UAAU1U,OAAO,cAC1B8gB,WACAJ,SAAUnV,EAAgB,IAAM/K,EAAY4R,EAAcsN,GAC1Dve,SAAU4D,EAAS/D,SAASG,SAASuD,cACrCwhB,WAAY1lB,EAAYoT,EAAMW,YAC9BX,MAAOpT,EAAYslB,EAAOlS,OAC1BD,OAAQmS,EAAOnS,OAAO/S,eAAe,eAMvC,CACJ,CACE+C,GAAI,aACJzC,KAAMD,EACNxC,OACA2C,KAAM,SAENsK,QAAS,CACPC,YAAakZ,GACbrgB,OAAO,IAGX,CACEpD,KAAM,QACNF,KAAM,gBACNwK,QAAS,CACPC,YAAY,4BAAD,OAA8BkZ,KAE3CpmB,KAAM,CAAC,2BAEAiD,EAAIjD,EAAM,MAFX,IAGF+H,MAAO,IACPmE,KAAM,aAJJ,2BAOC7I,EAAIrD,EAAM,MAPX,IAQF+H,MAAO,IACPmE,KAAM,cAERvK,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE+L,EAAI9L,EAAE8L,KACzB8G,SAAU,aACVI,MAAO,YACPvN,MAAO,KAhCX,oBAkCK,CAAC,MAAO,OAAQ,SAAU,WAAY,eAAgB,MAAO,OAAO5B,KAAI,SAAC/C,GAAD,OAI/E,SAAkBA,GAChB,IAAM+R,EAAY,CAAC,MAAO,QAAQzP,SAAStC,GAE3C,MAAO,CACLF,KAAMkS,IAAEC,UAAUjS,GAClBkS,MAAO,YACPlS,KAAM,QACN2E,MAAO,GAEP2F,QAAS,CACPC,YAAa,uBAGflN,KAAMsG,EAASwO,aACZ/P,QAAO,SAAC4B,GAAD,OAAOA,EAAEhE,OAASA,KACzBhB,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEZ,KAAK4M,UAAY/L,EAAEb,KAAK4M,aACzCzK,QAAO,SAAC4R,EAAOlO,GACd,IAAMmO,EAAkBD,EAAME,MAoB9B,OAnBID,GAAmBA,EAAgBhU,KAAK4M,YAAc/G,EAAY7F,KAAK4M,UACzEmH,EAAMxE,KAAN,2BACKyE,GADL,IAEEE,OACErO,EAAYqO,QAAUF,EAAgBE,OAClCF,EAAgBE,OAASrO,EAAYqO,OACrCF,EAAgBE,OACtBlT,OAAQ6E,EAAY7E,OAASgT,EAAgBhT,OAC7CmT,MACEtO,EAAYsO,OAASH,EAAgBG,OAChCzQ,OAAOmC,EAAYsO,OAASzQ,OAAOsQ,EAAgBG,QAAU,EAC9DH,EAAgBG,UAGpBH,GACFD,EAAMxE,KAAKyE,GAEbD,EAAMxE,KAAK1J,IAENkO,IACN,IACFrP,KAAI,SAACmB,GACJ,MAAO,CACLA,cACA8G,EAAG9G,EAAY7F,KAAK4M,UACpB7F,MAAO2M,EAAY/Q,KAAKyR,MAAMvO,EAAYqO,QAAWvS,EAAK0S,OAAO,GAAGpP,cACpEiG,KAAMwI,EAAS,UACRC,IAAEC,UAAUjS,GADJ,aACckE,EAAYqO,OAD1B,YACoCnT,EAAY8E,EAAYsO,QAD5D,UAERR,IAAEC,UAAUjS,GAFJ,cAEeW,EAAeuD,EAAY7E,OAAQ,QAGvE+G,MAAOzI,EAAcqC,GACrB2S,UAAWhV,EAAcqC,GACzB2F,MAAO,CACLS,MAAO,UAxD4EyL,CAAS7R,QArOlGuM,qBAAU,WAER,OADAuX,EAAQlJ,SAAU,EACX,WACLkJ,EAAQlJ,SAAU,KAEnB,IAwCHrO,qBAAU,WACR,GAAI1M,GAAUikB,EAAQlJ,QAAS,CAC7B9O,GAAW,GAEX5O,EAAW,sBAEX,IAAMuW,EACJ9P,EAASwO,cAAgBxO,EAASwO,aAAapR,OAAS4C,EAASwO,aAAa,GAAG9T,KAAOC,MAC1F,GAAIoV,EACFA,EACGC,QAAQ,CACPC,MAAO,GACP9G,OAAQ,MACR+G,SAAS,cAAD,OAAgBlQ,EAAS/D,SAAS2C,GAAlC,yBAAqDkR,EAAU7U,OAAO,iBAE/EoO,MAAK,SAACpL,GAAD,OAAckS,EAAwBlS,MAC3CwL,OAAM,SAACC,GACN9P,QAAQuI,IAAI,+BAAgCuH,GAC5CwW,EAAU,OAEXtW,SAAQ,kBAAMzB,GAAW,UACvB,CACL,IAAMY,EAAG,mDAA+C/I,EAAS/D,SAAS2C,GAAjE,yBAAoFkR,EAAU7U,OACrG,eAEFgO,MAAMxL,EAAiBsL,GAAM,CAC3BG,MAAO,cACPE,QAAS,CAAE,eAAgB,sBAE1BC,MAAK,SAACpL,GAAD,OAAcA,EAASqL,UAC5BD,MAAK,SAACpL,GAAD,OAAckS,EAAwBlS,MAC3CwL,OAAM,SAACC,GACN9P,QAAQuI,IAAI,+BAAgCuH,GAC5CwW,EAAU,OAEXtW,SAAQ,kBAAMzB,GAAW,UAG/B,CAACjM,EAAQ6T,EAAO/P,IA2SnB,IAAMyE,EAAU8D,mBAAQ,WACtB,OA7FF,SAAoB7D,GAClB,IAAM6E,EAAYvJ,EAASwO,aACxB/P,QAAO,SAAC8B,GAAD,MAAsC,aAArBA,EAAYlE,QACpCQ,QAAO,SAACzC,EAAUmG,GAAX,OAA2BnG,EAAWmG,EAAY7E,SAAQ,GAEpE,MAAO,CACL+F,MAAO,CACLmE,KAAK,QAAD,OAAUoa,EAAiB,IAAM,IAAjC,0BAAsD9jB,GAC1D8F,MAAO,CACLS,MAAO,UACPkO,eAAgB,YAChBpF,WAAY,SAGhB1F,SAAU,CACRD,KAAMY,EACF,GADe,kBAEJxG,EAASyN,SAFL,YAEiBhS,EAC9BuE,EAAShB,YAAYnC,QAAO,SAACgR,EAAMnN,GACjC,OAAOmN,EAAOnN,EAAWgN,aACxB,GAAK1N,EAASyN,UALJ,2BAMKzQ,EAAegD,EAASuN,aAAc,GAN3C,sBAM2D9R,EAChD,IAAxBuE,EAAS4N,aACT,GARa,eASP5Q,EAAegD,EAAS2N,YAAa,GAT9B,gBAUbpE,EAAS,uBAAmBvM,EAAeuM,EAAW,GAA7C,QAAwD,IAEvEvH,MAAO,CACLS,MAAO,UACP8I,WAAY,SAIhBzF,cAAe,CAAEC,SAAU,EAAG9M,SAAS,EAAagN,cAAc,GAClEC,UAAW,CAAEjN,SAAS,GACtBkN,UAAW,CAAElN,SAAS,GAEtByN,YAAa,CACXkV,OAAQ,CACNwF,QAAS,GACTvF,MAAO,CACL,CACE/gB,OAAQ,KACR2H,MAAO,WAET,CACEA,MAAO,cAMf2D,MAAO,CACL,CACEC,UAAW,CACTC,UAAW,QAEbC,OAAQ,CACNiN,UADM,WAEJ,OAAOwM,EAAiBhjB,EAAekS,KAAKpU,MAAO,GAA9B,UAAsCW,EAAYyT,KAAKpU,MAAO,GAA9D,OAGzB2G,MAAO,CACLmE,UAAMhK,GAER6K,UAAU,IAGdK,WAAY,CACVC,MAAO,CACL,CACEC,UAAW,CACT7D,SAAU,KAEZ8D,aAAc,CACZC,MAAO,CACLhG,OAAQ,KAEV2E,SAAU,CACRD,UAAMhK,OAMhB8I,SACAmM,OAAQ,CACN5X,SAAS,IAMN8X,CAAWH,OACjB,CAAC1U,EAAQ8D,EAAUigB,EAAQD,IAE9B,OACE,uCACE,wBACC9X,EACC,eAAC,IAAD,CAAMxE,eAAe,SAASxC,OAAQ,IAAK6J,WAAW,SAAtD,SACE,eAAC,IAAD,CAAM3J,KAAK,YAEV6e,GAAWA,EAAO7iB,OAGrB,eAAC,GAAD,CAAQ0H,gBAAiB,aAAcL,QAASA,IAFhD,eAAC,IAAD,CAAO9D,YAAW,qCAAgCzE,KAIpD,2BAKS+I,WAAMC,KAAK6a,IC3anB,SAASsB,GAAiB7c,GAK7B,IAAD,EACqCzD,oBAAS,GAD9C,mBACMugB,EADN,KACmBC,EADnB,OAEiCxgB,qBAFjC,mBAEMygB,EAFN,KAEiBC,EAFjB,KAID,SAASC,EAAoBC,GAC3B,MAAO,CACL,CACExlB,KAAMwlB,EAAU,cAAgB,aAChCtlB,KAAM,SACN2L,OAAQ,CACN2M,MADM,SACAC,GACAA,EAAMzD,MAAMhV,MAAQqlB,IAAc5M,EAAMzD,MAAMhV,MAChDylB,YAAW,WACTH,EAAa7M,EAAMzD,MAAMhV,QACxB,MAIT2Y,cAAc,EACdpb,KAAM8K,EAAMzE,UACTtB,QACC,SAACuB,GAAD,OAAcA,EAAS4N,eAAiB+T,EAAU3hB,EAAS4N,aAAe,EAAI5N,EAAS4N,cAAgB,MAExGvS,MAAK,SAACC,EAAGC,GAAJ,OAAW+lB,EAAchmB,EAAEqS,YAAcpS,EAAEoS,YAAcrS,EAAEsS,aAAerS,EAAEqS,gBACjFxO,KAAI,SAACY,GACJ,MAAO,CACL7D,KAAMH,EAAUgE,EAAS/D,UACzBsL,EAAG+Z,EAActhB,EAAS2N,YAAsC,IAAxB3N,EAAS4N,aACjDsG,UAAmC,IAAxBlU,EAAS4N,aACpB0D,KAAM9M,EAAMgC,cAAgB,IAAM/K,EAAYuE,EAAS2N,aACvDkU,YAAard,EAAMgC,cAAgB,IAAMxJ,EAAegD,EAAS2N,YAAa,OAGpFhH,QAAS,CACPgL,aAAc,GACd/K,YAAY,uaAYdwM,WAAY,CACVna,SAAS,EACTgC,OAAQqmB,EAAc,sBAAwB,kBAEhDvM,cAAc,IAKpB,SAAShE,EAAT,GAUwB,IATtBtP,EASqB,EATrBA,MACA4S,EAQqB,EARrBA,WACAxO,EAOqB,EAPrBA,SAQA,MAAO,CACLnB,OAFmB,EANrBA,OAUEiC,QAAS,CACP2N,SAAS,EAETC,SAAS,EACT7O,gBAAiB,OACjB1D,MAAO,CACLS,MAAO,YAIXhB,MAAO,CACLmE,KAAMnE,GAERoE,SAAU,CACRD,KAAMC,EACN7D,MAAO,CACLS,MAAO,YAGX+R,MAAO,CACLnY,KAAM,WACNkK,OAAQ,CACNkO,UAAW,GACXzS,MAAO,CACLsJ,SAAU,OACVoJ,WAAY,yBAKlBtO,MAAO,CACLG,OAAQ,CACNtN,UAASqoB,IAAsB9c,EAAMgC,eAEvC/E,MAAO,CACLmE,KAAMyO,IAIV3N,YAAa,CACXsO,IAAK,CACHC,kBAAkB,EAClBhS,OAAQ,UACRmQ,WAAY,CACVna,SAAS,EACTgC,OAAQ,gDACR+G,MAAO,CACLS,MAAO,YAKfqE,WAAY,CACVC,MAAO,CACL,CACEC,UAAW,CACT7D,SAAU,KAEZ8D,aAAc,CACZC,MAAO,CACLhG,OAAQ,KAEVkF,MAAO,CACLG,OAAQ,CACNtN,SAAS,IAGb4M,SAAU,CACRD,UAAMhK,GAERsK,UAAW,CACTjN,SAAS,QA7ItB,MAsJ2BsP,mBAAQ,WAClC,MAAO,CACLoZ,QAAS5Q,EAAW,CAClBtP,MAAO,cACPoE,SAAU,8CACVwO,WAAW,SAAD,OAAWiN,EAAc,IAAM,IAA/B,KACV5c,OAAQgd,GAAoB,KAE9BI,OAAQ/Q,EAAW,CACjBtP,MAAO,aACPoE,SAAU,8CACVwO,WAAW,SAAD,OAAWiN,EAAc,IAAM,IAA/B,KACV5c,OAAQgd,GAAoB,QAG/B,CAACJ,EAAa9c,EAAMgC,cAAehC,EAAMzE,YAfpC4hB,EAtJP,EAsJOA,QAASG,EAtJhB,EAsJgBA,OAuCjB,OAAStd,EAAMzE,UAAU3C,OACvB,uCACE,gBAAC,IAAD,CACE2F,GAAI,EACJkT,GAAI,EACJjV,MAAO,EACP0C,eAAe,SACfwS,aAAa,SACb0J,aAAa,SACb7U,WAAW,SAPb,UASE,eAAC,KAAD,CACEoL,QAASmL,EACT/b,SAAU,SAAC4Q,GACToL,EAAepL,GACf5c,EAAW,4BAA6B,CAAE4c,eAG9C,eAAC,IAAD,CAAKC,GAAI,IACT,eAAC,IAAW1T,KAAZ,CAAiByK,QAAM,EAAC4U,KAAMT,EAAatf,MAAO,CAAEsJ,SAAU,IAA9D,yCAKEqW,EAAQjd,QAAUid,EAAQjd,OAAO,IAAOid,EAAQjd,OAAO,GAAWhL,KAAK0D,SACzE,eAAC,GAAD,CAAQqH,QAASkd,IA/CQ,WAC7B,IAAKH,EACH,OAAO,+BAET,IAAMxhB,EAAWwE,EAAMzE,UAAUtB,QAAO,SAACuB,GAAD,OAAchE,EAAUgE,EAAS/D,YAAculB,KAAW,GAElG,OAAKxhB,EAKH,eAAC,GAAD,CACEwG,cAAehC,EAAMgC,cACrBtK,OAAQslB,EACRxhB,SAAUA,EACV+P,MAAOvL,EAAMuL,MACbiQ,eAAgBsB,EAChBvmB,cAAeyJ,EAAMzJ,gBAVhB,+BA2CNinB,MAEGF,EAAOpd,QAAUod,EAAOpd,OAAO,IAAOod,EAAOpd,OAAO,GAAWhL,KAAK0D,SAAW,eAAC,GAAD,CAAQqH,QAASqd,OAGtG,eAAC,IAAD,CAAOnhB,YAAY,gBChOvB,IAAMqb,GAAsB,eAE5B,SAASiG,GAAYzd,GACnB,IAAM0d,EAAmB1d,EAAM2C,WAAWtK,QAAO,SAACsB,EAAMiJ,GAEtD,OADAjJ,EAAKiJ,EAAU1M,MAAQ0M,EAChBjJ,IACN,IAuFGgkB,EAA0B,SAACznB,GAC/B,OAAOwnB,EAAiBxnB,IAGpBqkB,EAAU,WACd,IAAIqD,EAAmB5d,EAAM2C,WAAW3C,EAAM2C,WAAW/J,OAAS,GAC5DilB,EAAc1nB,MAAS2nB,MAQ7B,GANED,EAAYpnB,OAAO,gBAAkBmnB,EAAiB1nB,MACtD2nB,EAAYE,OAAS,IACrB/d,EAAM2C,WAAW/J,OAAS,IAE1BglB,EAAmB5d,EAAM2C,WAAW3C,EAAM2C,WAAW/J,OAAS,IAE5DzC,IAAOynB,EAAiB1nB,MAAMgV,aAAe,EAAG,CAClD,IAAM8S,EAAU7kB,EAAmBykB,EAAiB1nB,MAAMO,OAAO,cACjEmnB,EAAmBF,EAAiBM,GAGtC,IAAMC,EAAWL,EAAiB1nB,KAE5BgoB,EAAgB,IAAInJ,IACpBoJ,EAMA,GAiIN,MA/HA,CACE,CAAE/jB,GAAI,KAAMiO,MAAO,QAASnS,KAAMiD,EAAmB8kB,IACrD,CAAE7jB,GAAI,KAAMiO,MAAO,SAAUnS,KAAMC,IAAO8nB,GAAU1kB,SAAS,EAAG,UAChE,CAAEa,GAAI,KAAMiO,MAAO,UAAWnS,KAAMC,IAAO8nB,GAAU1kB,SAAS,EAAG,UAAUM,IAAI,EAAG,SAClF,CAAEO,GAAI,KAAMiO,MAAO,WAAYnS,KAAMC,IAAO8nB,GAAU1kB,SAAS,EAAG,UAAUM,IAAI,EAAG,SACnF,CAAEO,GAAI,KAAMiO,MAAO,WAAYnS,KAAMC,IAAO8nB,GAAU1kB,SAAS,EAAG,UAAUM,IAAI,EAAG,SACnF,CAAEO,GAAI,KAAMiO,MAAO,SAAUnS,KAAMC,IAAO8nB,GAAU1kB,SAAS,EAAG,SAASM,IAAI,EAAG,SAChF,CAAEO,GAAI,KAAMiO,MAAO,UAAWnS,KAAMC,IAAO8nB,GAAU1kB,SAAS,EAAG,SAASM,IAAI,EAAG,SACjF,CAAEO,GAAI,KAAMiO,MAAO,UAAWnS,KAAMC,IAAO8nB,GAAU1kB,SAAS,EAAG,SAASM,IAAI,EAAG,SACjF,CAAEO,GAAI,KAAMiO,MAAO,UAAWnS,KAAMC,IAAO8nB,GAAU1kB,SAAS,EAAG,SAASM,IAAI,EAAG,SACjF,CAAEO,GAAI,MAAOiO,MAAO,gBAAiBnS,KAAMC,IAAO8nB,GAAUra,QAAQ,UACpE,CAAExJ,GAAI,MAAOiO,MAAO,eAAgBnS,KAAMC,IAAO8nB,GAAUra,QAAQ,SACnE,CAAExJ,GAAI,MAAOiO,MAAO,eAAgBnS,KAAMC,IAAO8nB,GAAUra,QAAQ,UACnEhJ,KAAI,SAACtE,GACL,IAAMsM,EAAY+a,EAAwBrnB,EAAMJ,KAAKO,OAAO,eAC5D,GAAImM,EAAW,CACb,IAAMyE,EAAG,UAAMzE,EAAU1M,KAAhB,YAAwB0nB,EAAiB1nB,MAC7CgoB,EAAcE,IAAI/W,KACrB8W,EAAgB1Y,KAAK,CACnBrL,GAAI9D,EAAM8D,GACViO,MAAO/R,EAAM+R,MACbnS,KAAMI,EAAMJ,KACZmoB,eAAgBzb,EAChB0b,aAAcV,IAEhBM,EAAcrkB,IAAIwN,IAGtB,OAAO,QAGT,CAAC,EAAG,EAAG,EAAG,GAAG1B,SAAQ,SAACrP,GACpB,IAAMioB,EAAOpoB,IAAO8nB,GAAU1kB,SAASjD,EAAO,SAASioB,OACjDjT,EAAYnV,MAASooB,KAAKA,GAAMC,MAAM,OAAO5a,QAAQ,SACrDya,EAAiBV,EAAwBrS,EAAU7U,OAAO,eAC1D6nB,EAAeX,EACnBxnB,MAASooB,KAAKA,GAAMC,MAAM,OAAOta,MAAM,SAASzN,OAAO,eAGzD,GAAI4nB,GAAkBC,EAAc,CAClC,IAAMjX,EAAG,UAAMgX,EAAenoB,KAArB,YAA6BooB,EAAapoB,MAC9CgoB,EAAcE,IAAI/W,KACrB8W,EAAgB1Y,KAAK,CACnBrL,GAAG,MAAD,OAAQmkB,GACVlW,MAAM,aAAD,OAAekW,GACpBroB,KAAMoV,EACN+S,iBACAC,iBAEFJ,EAAcrkB,IAAIwN,QAkCyB,CAC/C,CACE1P,KAAM,eACNE,KAAM,SACN3C,KAjCSipB,EACVlkB,QAAO,SAAC3D,GAAD,OAAWA,EAAMgoB,aAAapoB,OAASI,EAAM+nB,eAAenoB,QACnEW,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAEZ,KAAK4M,UAAY/L,EAAEb,KAAK4M,UAAY,GAAK,KAC3DlI,KAAI,SAACtE,GACJ,IAAMmoB,EAAWnoB,EAAM+nB,eAAe/nB,MAAQA,EAAM+nB,eAAepb,SAC7Dyb,EAASpoB,EAAMgoB,aAAahoB,MAAQA,EAAMgoB,aAAarb,SAEvD0b,EAAcF,EAAWnoB,EAAM+nB,eAAepb,SAAY,IAC1D2b,EAAYF,EAASpoB,EAAMgoB,aAAarb,SAAY,IAEpD4b,EAAcH,EAASD,EACvBK,EAAcF,EAAWD,EAE/B,MAAO,CACLvkB,GAAI9D,EAAM8D,GACViO,MAAO/R,EAAM+R,MACbnS,KAAMI,EAAMJ,KAAKO,OAAO+gB,IACxBlM,UAAWnV,IAAOG,EAAM+nB,eAAenoB,MAAMO,OAAO+gB,IACpD5L,QAASzV,IAAOG,EAAMgoB,aAAapoB,MAAMO,OAAO+gB,IAChDiH,WACAE,aACAD,SACAE,WACAE,cACAD,cACA5gB,MAAO6gB,GAAe,EAAI,QAAU,UAQ3BlkB,KAAI,SAACtE,GAAD,MAAY,CACzB+Q,IAAK/Q,EAAM8D,GACXzC,KAAMrB,EAAM8D,GACZiO,MAAO/R,EAAM+R,MACbtF,EAAGzM,EAAMwoB,YAETxT,UAAWhV,EAAMgV,UACjBmT,SAAWze,EAAMgC,cAAoD,IAApCxJ,EAAelC,EAAMmoB,SAAU,GAChEE,WAAYroB,EAAMqoB,WAElB/S,QAAStV,EAAMsV,QACf8S,OAAS1e,EAAMgC,cAAkD,IAAlCxJ,EAAelC,EAAMooB,OAAQ,GAC5DE,SAAUtoB,EAAMsoB,SAEhBC,YAAc7e,EAAMgC,cAA6D,IAApE,WAA2BxJ,EAAelC,EAAMuoB,YAAa,QAE5ElS,MAAO,CACLnJ,OAAQ,CACNub,UAAW,SAAC3W,GACVrT,EAAW,mBAAoB,CAC7B2N,MAAO,0BACP/K,KAAMyQ,GAAKA,EAAElP,OAASkP,EAAElP,OAAOmO,IAAM,UAK7ClF,QAAS,CACPgL,aAAc,GACd/K,YAAY,sVAIdwM,WAAY,CACVna,SAAS,EACTgC,OAAQ,wCAEV8Z,cAAc,KAOdtQ,EAAU8D,mBAAQ,WACtB,MArPO,CACL7D,OAoPgB,CAAEA,OAAQqa,KAtPRra,OAIlBiC,QAAS,CACP2N,SAAS,EAETC,SAAS,EACT7O,gBAAiB,OACjB1D,MAAO,CACLS,MAAO,YAIXhB,MAAO,CACLmE,KAAM,2CAERC,SAAU,CACRD,KAAM,uNACN5D,MAAO,CACLS,MAAO,YAGX+R,MAAO,CACLnY,KAAM,WACNkK,OAAQ,CAENvE,MAAO,CACLsJ,SAAU,OACVoJ,WAAY,yBAKlBtO,MAAO,CACLG,OAAQ,CACNtN,SAAUuL,EAAMgC,cAChBvL,OAAQ,YAEVwG,MAAO,CACLmE,KAAM,mBAIVc,YAAa,CACXmO,OAAQ,CACNgH,MAAO,CACL,CACE/gB,OAAQ,KACR2H,MAAO,WAET,CACEA,MAAO,cAKfqE,WAAY,CACVC,MAAO,CACL,CACEC,UAAW,CACT7D,SAAU,KAEZ8D,aAAc,CACZC,MAAO,CACLhG,OAAQ,KAEVkF,MAAO,CACLG,OAAQ,CACNtN,SAAS,IAGb4M,SAAU,CACRD,UAAMhK,GAERsK,UAAW,CACTjN,SAAS,UA2KpB,CAACuL,EAAMgC,cAAehC,EAAM2C,aAE/B,OACE,eAAChC,GAAD,CAAa1D,MAAM,0CAAnB,SACE,eAAC,GAAD,CAAQgD,QAASA,MAKRQ,WAAMC,KAAK+c,ICvRbuB,GAA0B,CACrCtlB,KAAM,2BACNqR,GAAI,2BACJkU,KAAM,CACJ/oB,KAAM,2BACNI,MAAO,QAET4oB,IAAK,CACHhpB,KAAM,2BACNI,MAAO,OAET6oB,MAAO,CACLjpB,KAAM,2BACNI,MAAO,OAET8oB,KAAM,CACJlpB,KAAM,2BACNI,MAAO,WAET+oB,YAAa,UACbC,QAAS,MACTpqB,KAAM,CACJ,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,IACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,KACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,KACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,IACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,KACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,IACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,IACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,IACA,IACA,IACA,MACA,MACA,MACA,IACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,IACA,KACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,OACA,OACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,KACA,KACA,KACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,KACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,IACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,EACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,IACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,KACA,KACA,KACA,MACA,MACA,KACA,MACA,KACA,KACA,KACA,KACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,IACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,IACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,IACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,IACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,IACA,IACA,IACA,MACA,IACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,IACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,IACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,IACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,KACA,IACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,IACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,IACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,IACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,IACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,IACA,IACA,IACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,OACA,OACA,MACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,KACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,MACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,GACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,MACA,OACA,MACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,SACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,UACA,UACA,SACA,GACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YC5pLWqqB,G,kDApgBb,WAAYvf,GAAe,IAAD,8BACxB,cAAMA,IAiBRwf,SAAW,WACT,IACE,IAAMjU,EAAQ,IAAIkU,QAAM,IAqBxB,OAnBAlU,EAAMmU,GAAG,QAAQ,SAACzf,GAChB7K,QAAQC,MAAM,uBAAwB4K,GACtC,EAAK0f,KAAK1f,GACVvL,EAAauL,EAAQ2f,UAAY3f,EAAQ2f,SAASxlB,OAGpDmR,EAAMmU,GAAG,UAAU,WAEjBtqB,QAAQC,MAAM,sBAGhBkW,EAAMmU,GAAG,UAAU,SAACzf,GAElB7K,QAAQC,MAAM,2BAA4B4K,GAC1C,EAAKoL,SAAS,CAAEwU,mBAAmB,IACnC,EAAKF,KAAK1f,GACVlL,EAAW,aAGNwW,EACP,MAAOrG,GACP9P,QAAQ0qB,KAAK,+BAAgC5a,GAG/C,OAAO,MA9CiB,EAmF1Bya,KAAO9V,IAAEkW,UACP,SAAC9f,GACC,EAAK+f,SAAS/f,KAEhB,IACA,CAAEggB,SAAS,IAxFa,EAgI1BC,kBAAoB,SAClB3kB,EACA4kB,EACAnW,EACA3P,EACA9D,GAEA,IAAM6pB,EvBhEuC,SAAC3mB,EAAelD,GAC/D,OAAOkD,EACJQ,QAAO,SAAC4B,GAAD,OAAQA,EAAEC,SAAWD,EAAEhE,QAC9BoC,QACC,SAAC8B,GAAD,MACE,CAAC,OAAQ,MAAO,SAAU,WAAY,eAAgB,MAAO,MAAO,QAAS,YAAY5B,SACvF4B,EAAYlE,KAAKmE,iBAElBD,EAAYtE,UAAYsE,EAAYrE,WAExCkD,KAAI,SAACmB,GAAiB,IAAD,IAShBqe,EARElkB,EAAOD,EAAQ8F,EAAY7F,MAE7BgB,EAAS0C,OAAOmC,EAAYE,iBAOhC,GANA/E,EACE6E,EAAYG,YAAcH,EAAYG,WAAW/B,SAAS,QACtD9D,EAAiBH,EAAMgB,EAAQX,GAC/BW,EAGmB,UAArB6E,EAAYlE,MAAgD,QAA5BkE,EAAYskB,cAA5C,UAAqEtkB,EAAYI,mBAAjF,aAAqE,EAAyBhC,SAAS,MAAM,CAC/G,IAAMmmB,EAAQvkB,EAAYI,YAAYmkB,MAAM,eACxCA,GAASA,EAAM,KACjBlG,EAAamG,SAASD,EAAM,KAIhC,MAAO,CACLpqB,OACAuE,QAASsB,EAAYG,WACrBxE,OAAQqE,EAAYtE,SAAWD,EAAUuE,EAAYtE,UAAYsE,EAAYrE,OAC7E2S,MACEtO,EAAYE,iBAAmBF,EAAYkN,SACvCrP,OAAOf,KAAKC,IAAIiD,EAAYE,gBAAkBF,EAAYkN,UAAUjQ,QAAQ,IAC5E,EACNnB,KAAMkE,EAAYlE,KAClBX,OAAQ2B,KAAKC,IAAI5B,GACjBU,SAAUmE,EAAYtE,SAAWsE,EAAYtE,SAASG,SAAW,MACjEwS,OAAQrO,EAAYkN,UAAY,EAChCuX,KAAMzkB,EAAYhG,IAClBoG,YAAaJ,EAAYI,YACzBie,aACAL,aAAY,UAAEhe,EAAYtE,gBAAd,aAAE,EAAsBI,SuBsBX4oB,CAAkCzW,EAAczT,GACvEmqB,EAA+BN,EAAqB/nB,QAAO,SAACsB,EAAMoC,GAKtE,OAJKpC,EAAKoC,EAAYrE,UACpBiC,EAAKoC,EAAYrE,QAAU,IAE7BiC,EAAKoC,EAAYrE,QAAQ+N,KAAK1J,GACvBpC,IACN,IAEH4B,EAAUoK,SAAQ,SAACnK,GACyB,IAAD,EAAV,WAA3BA,EAAS/D,SAASI,OACpB2D,EAAS5D,SAAW4D,EAAS/D,SAASG,SAAW,MACjD4D,EAAS/D,SAAS6R,WAAajT,GAC7B,UAAAmF,EAAS/D,gBAAT,eAAmBkpB,WAAYxqB,IAAOqF,EAAS/D,SAASkpB,UAAUvqB,MAAM,EAAG,KAAOD,MAClFqF,EAAS/D,SAAS6R,WAClB/S,IAGJiF,EAASwO,aAAe0W,EAA6BlpB,EAAUgE,EAAS/D,YAAc,GxBzErF,SAA0B+D,GAC/B,IAAMwO,EAAexO,EAASwO,aAC9B,GAAKA,GAAiBA,EAAapR,SAAU4C,EAAS0N,WAAtD,CAGA,IAAMiR,EAAOnQ,EACV/P,QAAO,SAAC4B,GAAD,MAAO,CAAC,MAAO,QAAQ1B,SAAS0B,EAAEhE,SACzCQ,QACC,SAAC8hB,EAAMte,GASL,MARe,QAAXA,EAAEhE,MACJsiB,EAAK7jB,OAASuF,EAAEwO,MAAQxO,EAAEuO,OAC1B+P,EAAK/P,QAAUvO,EAAEuO,OACjB+P,EAAK9P,MAAQ8P,EAAK/P,OAAS+P,EAAK7jB,MAAQ6jB,EAAK/P,OAASvO,EAAEwO,QAExD8P,EAAK7jB,QAAU6jB,EAAK9P,OAASxO,EAAEwO,OAASxO,EAAEuO,OAC1C+P,EAAK/P,QAAUvO,EAAEuO,QAEZ+P,IAET,CAAE9P,MAAO,EAAGD,OAAQ,EAAG9T,MAAO,IAGlCkF,EAAS0N,WAAaiR,EAAK7jB,MAC3BkF,EAAS2N,YAAc3N,EAASuN,aAAeoR,EAAK7jB,MACpDkF,EAAS4N,aAAe5N,EAAS2N,YAAc3N,EAAS0N,WACxD,IAAMhN,EAAaV,EAAShB,YAAcgB,EAAShB,YAAY,QAAKpD,EAChE8E,IAAeA,EAAWgN,aAC5BhN,EAAWgN,WAAa1N,EAAS0N,awB+C/B0X,CAAiBplB,MAGnB,IAAMqlB,EvBjJ+B,SAACpnB,EAAelD,EAAoB8D,GAC3E,OAAOZ,EACJQ,QAAO,SAAC4B,GAAD,OAAQA,EAAEC,WACjBzD,QAAO,SAACsB,EAAMoC,GACb,IAAMlE,EAAOkE,EAAYlE,KACzB,GAAI,CAAC,OAAQ,MAAO,UAAW,QAAS,YAAYsC,SAAStC,GAC3D,OAAO8B,EAET,IAAIzD,EAAOD,EAAQ8F,EAAY7F,MAC/B,GAAI,CAAC,UAAW,WAAY,cAAciE,SAAStC,GAAO,CAExD,IAAM4C,GAAWJ,GAAY,IAAI2O,MAAK,SAACvO,GAAD,OAAaA,EAAQP,cAAgB6B,EAAY7B,eACnFO,GAAWA,EAAQM,WAAa7E,IAElCA,EAAOuE,EAAQM,YAInB,IAAM+lB,EAAU5qB,EAAKO,OAAOnB,GACtByrB,EAAgBpnB,EAAKmnB,GACvBnnB,EAAKmnB,GACL,CACEE,QAAS,EACTC,WAAY,EACZpI,SAAU,EACVljB,OAAQ,GAGVuB,EAAS0C,OAAOmC,EAAYE,iBA2BhC,OA1BA/E,EACE6E,EAAYG,YAAcH,EAAYG,WAAW/B,SAAS,QACtD9D,EAAiBH,EAAMgB,EAAQX,GAC/BW,EAEF,CAAC,WAAWiD,SAAStC,GACvBkpB,EAAcC,SAAW9pB,EACP,aAATW,EAGN,CAAC,MAAO,MAAO,aAAasC,SAAS4B,EAAYskB,cAEjDtkB,EAAYrE,SAEbqpB,EAAcC,SAAW9pB,GAElB,CAAC,MAAO,WAAY,OAAOiD,SAAStC,GAC7CkpB,EAAclI,UAAYhgB,KAAKC,IAAI5B,GAC1B,CAAC,SAAU,WAAY,gBAAgBiD,SAAStC,GACzDkpB,EAAcprB,QAAUuB,EACN,eAATW,EACTkpB,EAAcE,YAAcpoB,KAAKC,IAAI5B,GAErC9B,QAAQC,MAAM,iBAAkBwC,GAElC8B,EAAKmnB,GAAWC,EACTpnB,IACN,IuByFwBunB,CAA0BlX,EAAczT,EAAe8D,GAC5E8mB,EAAkBxqB,OAAOC,KAAKupB,GAAiB9nB,QAAO,SAACsB,EAAMzD,GACjE,IAAMhB,EAAO2rB,EAAmB3qB,IAAS,GAQzC,OAPAyD,EAAKzD,GAAQ,CACXI,MAAO6pB,EAAgBjqB,GACvB8qB,QAAS9rB,EAAK8rB,SAAW,EACzBC,WAAY/rB,EAAK+rB,YAAc,EAC/BtrB,OAAQT,EAAKS,QAAU,EACvBkjB,SAAU3jB,EAAK2jB,UAAY,GAEtBlf,IACN,IAEGgJ,EAA0B,GAE1Bye,EAAczqB,OAAOC,KAAKuqB,GAAiBtqB,OAC7CoM,EAAWtM,OAAOC,KAAKiqB,GACxB5mB,QAAO,SAAC/D,GAAD,OAAUA,EAAOkrB,EAAY,MACpC/oB,QAAO,SAACgpB,EAAenrB,GACtB,IAAM6F,EAAc8kB,EAAmB3qB,GAEvC,OADAmrB,GAAiBtlB,EAAYilB,QAAUjlB,EAAYklB,aAElD,GAELG,EAAYzb,SAAQ,SAACzP,GACnB,IAAM0M,EAAYue,EAAgBjrB,GAClC+M,GAAYL,EAAUoe,QAAUpe,EAAUqe,WAC1Cte,EAAW8C,KAAK,CACdvP,KAAMA,EACNI,MAAOsM,EAAUtM,MACjB2M,SAAUA,OAId,EAAKoI,SAAS,CACZ9P,YACA6kB,uBACApH,oBAAqBpd,EAAiCoO,EAAczT,GAEpE+qB,cAAe3e,EACfA,WAAYA,EAAW1I,QAAO,SAAC2I,GAAD,OAAezM,IAAOyM,EAAU1M,MAAMgV,cAAgB,KACpFqW,UAAU,EACV1B,mBAAmB,EACnBxlB,WACA9D,mBAtMF,EAAKkU,MAAQ,CACXc,MAAO,EAAKiU,WACZjpB,mBAAea,EACfgpB,qBAAsB,GACtBpH,oBAAqB,GACrBrW,WAAY,GACZ2e,cAAe,GACf/lB,UAAW,GACXlB,SAAU,GACVknB,UAAU,EACVrL,aAAa,EACb+C,SAAU1jB,GAdY,E,uDAiD1B,WACE,OAAImV,KAAKD,MAAMlU,cACN,MAGTnB,QAAQC,MAAM,4BACPqV,KAAKD,MAAMc,MACfC,QAAQ,CACP7G,OAAQ,MACR+G,SAAU,yBACVD,MAAO,CACL+V,KAAM,SAGT3c,MAAK,SAACpL,GAAD,OAAcD,EAAqBC,MACxCwL,OAAM,SAACC,GACN9P,QAAQ8P,MAAM,gCAAiCA,S,0BA0BrD,SAAajF,GACNyK,KAAKD,MAAMxK,SACdyK,KAAKW,SAAS,CAAEpL,YAElB,IAAMwhB,EAAa/W,KAAKD,MAAMxK,QAK9B,OAJAtJ,OAAOC,KAAKqJ,GAAS0F,SAAQ,SAAC0B,GAC5Boa,EAAWpa,GAAOpH,EAAQoH,MAE5BqD,KAAKW,SAAS,CAAEpL,QAASwhB,IAClBA,I,6DAGT,WAAexhB,GAAf,6BAAAnJ,EAAA,6DACEmJ,EAAUyK,KAAKgX,aAAazhB,GAC5ByK,KAAKW,SAAS,CAAE6K,YAAajW,EAAQiW,YAAa+C,SAAUhZ,EAAQgZ,WAFtE,SAIoF0I,QAAQ/F,IAAI,CAC5FlR,KAAKkX,cAAc3hB,GACnByK,KAAKmX,kBAAkB5hB,GACvByK,KAAKoX,iBAAiB7hB,GACtByK,KAAKqX,qBAAqB9hB,GAC1ByK,KAAKsX,wBATT,mCAISzmB,EAJT,KAIoB4kB,EAJpB,KAIqCnW,EAJrC,KAImD3P,EAJnD,KAI6D9D,EAJ7D,KAYQ0rB,EAAiB1rB,GAAiBmU,KAAKD,MAAMlU,cAEnDnB,QAAQC,MAAM,cAAe,CAC3BkG,YACA4kB,kBACAnW,eACA3P,WACA9D,cAAe0rB,IAGjBvX,KAAKwV,kBAAkB3kB,EAAW4kB,EAAiBnW,EAAc3P,EAAU4nB,GAtB7E,iD,sFAsGA,SAAkBhiB,GAChB7K,QAAQC,MAAM,2BACd,IAAMoW,EAAQ,CACZ/R,KAAMuG,EAAQgZ,SACdlO,GAAI9K,EAAQiiB,OACZC,QAAQ,EACRpoB,OAAQkG,EAAQmiB,aAChBpoB,aAAciG,EAAQoiB,mBACtB7nB,YAA2C,QAA9ByF,EAAQqiB,kBAA8B,KAAOriB,EAAQqiB,mBAEpE,OAAO5X,KAAKD,MAAMc,MACfC,QAAQ,CACPC,QACA9G,OAAQ,MACR+G,SAAU,cAEX7G,MAAK,SAACpL,GAAD,OAAcgC,EAAuBhC,MAC1CwL,OAAM,SAACC,GACN9P,QAAQ8P,MAAM,iCAAkCA,Q,2BAItD,SAAcjF,GACZ7K,QAAQC,MAAM,2BACd,IAAMoW,EAAQ,CACZ0W,QAAQ,EACRpoB,OAAQkG,EAAQmiB,aAChBpoB,aAAciG,EAAQoiB,mBACtB7nB,YAA2C,QAA9ByF,EAAQqiB,kBAA8B,KAAOriB,EAAQqiB,mBAEpE,OAAO5X,KAAKD,MAAMc,MACfC,QAAQ,CACPC,QACA9G,OAAQ,MACR+G,SAAU,cAEX7G,MAAK,SAACpL,GAAD,OAAc2C,GAAuB3C,MAC1CwL,OAAM,SAACC,GACN9P,QAAQ8P,MAAM,gCAAiCA,Q,kCAIrD,SAAqBjF,GACnB7K,QAAQC,MAAM,+BACd,IAAMoW,EAAQ,CACZ0W,QAAQ,EACRpoB,OAAQkG,EAAQmiB,aAChBpoB,aAAciG,EAAQoiB,mBACtB7nB,YAA2C,QAA9ByF,EAAQqiB,kBAA8B,KAAOriB,EAAQqiB,mBAEpE,OAAO5X,KAAKD,MAAMc,MACfC,QAAQ,CACPC,QACA9G,OAAQ,MACR+G,SAAU,iBAEX7G,MAAK,SAACpL,GAAD,OACJK,EACEL,EACAwG,EAAQmiB,aAAeniB,EAAQmiB,aAAannB,MAAM,KAAO,GACzDgF,EAAQoiB,mBAAqBpiB,EAAQoiB,mBAAmBpnB,MAAM,KAAO,OAGxEgK,OAAM,SAACC,GACN9P,QAAQ8P,MAAM,oCAAqCA,Q,8BAIzD,SAAiBjF,GACf7K,QAAQC,MAAM,8BACd,IAAM4jB,EAAWhZ,EAAQgZ,SACnBxN,EAAQ,CACZ0W,QAAQ,EACRzoB,KAAMuf,GAAYA,EAAW1jB,EAAyB0jB,EAAW1jB,EACjEwE,OAAQkG,EAAQmiB,aAChBpoB,aAAciG,EAAQoiB,mBACtB7nB,YAA2C,QAA9ByF,EAAQqiB,kBAA8B,KAAOriB,EAAQqiB,mBAEpE,OAAO5X,KAAKD,MAAMc,MACfC,QAAQ,CACPC,QACA9G,OAAQ,MACR+G,SAAU,iBAEX7G,MAAK,SAACpL,GAAD,OAAcA,KACnBwL,OAAM,SAACC,GACN9P,QAAQ8P,MAAM,oCAAqCA,Q,4EAIzD,kDAAApO,EAAA,yGAGKyrB,EAHL,KAGuBxB,EAHvB,KAGsCyB,EAHtC,KAGqDC,EAHrD,8CAU+Ed,QAAQ/F,IAAI,CACrF,8BAA+B/W,MAAK,SAACpL,GAAD,OAAcA,EAASipB,QAC3D,8BAA4B7d,MAAK,SAACpL,GAAD,OAAcA,EAASipB,QACxD,8BAA4B7d,MAAK,SAACpL,GAAD,OAAcA,EAASipB,QACxD,+BAA+B7d,MAAK,SAACpL,GAAD,OAAcA,EAASipB,UAdjE,oCAUKH,EAVL,KAUuBxB,EAVvB,KAUsCyB,EAVtC,KAUqDC,EAVrD,aAiBQlsB,EAAgBiD,EAAqBwlB,IACrCmB,EAAkB1kB,EAAuBslB,GACzCxlB,EAAYa,GAAuBomB,GACnCnoB,EAAWP,EAA0ByoB,GAE3C7X,KAAKwV,kBAAkB3kB,EAAW4kB,EAAiBsC,EAAkBpoB,EAAU9D,GAC/EnB,QAAQC,MAAM,SAAUqV,KAAKD,OAvB/B,iD,qFA0BA,WAAqB,IAAD,OACbC,KAAKD,MAAMc,OACd6R,YAAW,kBAAM,EAAKuF,4BAA2B,GAGnDvF,YAAW,kBAAM,EAAKwF,0BAAyB,O,mCAGjD,WACE,IAAMC,EAAqBvjB,KACvBujB,GACFnY,KAAKW,SAAS,CAAEwX,yB,oBAIpB,WAAU,IAAD,OACP,OACE,eAAC,IAAD,CAAMrmB,MAAO,EAAG0C,eAAe,SAA/B,SACE,uBAAK1B,MAAO,CAAE2J,QAAS,EAAGxI,SAAU+L,KAAKD,MAAMc,MAAQ,OAAS,KAAM/O,MAAO,QAA7E,UACE,eAAC,IAAD,CAAMoB,GAAI,EAAGpB,MAAM,OAAO0C,eAAe,SAAzC,SACE,eAAC,IAAD,CACE1B,MAAO,CAAEhB,MAAO,QAChB3E,KAAK,UACLsI,QAAQ,aACRhE,YACE,uCACE,gBAAC,IAAW+B,KAAZ,CAAiBrG,KAAK,UAAU8Q,QAAM,EAAtC,sEAC4D,OAE5D,eAAC,IAAWvL,KAAZ,CACEC,KAAK,oEACLnE,OAAO,SAFT,qDAQJ4pB,UAAQ,MAIXpY,KAAKD,MAAM8W,SACV,wCACI7W,KAAKD,MAAMc,OACX,qCACE,qBACE/N,MAAO,CAAEuJ,WAAY,SAAUlB,UAAW,SAAU5H,MAAO,UAAWkO,eAAgB,aADxF,UAGE,sBACE9N,IAAI,yCACJ0kB,IAAI,UACJvmB,MAAM,KACNE,OAAO,KACPc,MAAO,CAAE0D,gBAAiB,UAR9B,iCAcHwJ,KAAKD,MAAMoV,mBACV,eAAC,IAAD,CAAMrjB,MAAO,EAAG0C,eAAe,SAASqH,WAAW,SAAnD,SACE,eAAC,IAAD,CAAM3J,KAAK,YAIf,gBAAC,IAAD,CACEiE,iBAAiB,MACjBE,SAAU,SAAC/D,GACG,eAARA,GAAwB,EAAKyN,MAAMoY,qBACrCjjB,KACA,EAAKyL,SAAS,CAAEwX,wBAAoBzrB,KAEtCrC,EAAW,aAAc,CAAEiI,SAE7BJ,KAAK,QATP,UAWE,gBAAC,IAAKomB,QAAN,CAAcC,wBAAsB,EAACC,aAAW,EAAClmB,IAAI,aAArD,UACE,eAAC,GAAD,CACE2F,WAAY+H,KAAKD,MAAM9H,WACvBuT,YAAaxL,KAAKD,MAAMyL,YACxB3a,UAAWmP,KAAKD,MAAMlP,YAGxB,eAAC,GAAD,CACEoH,WAAY+H,KAAKD,MAAM9H,WACvBX,cAAe0I,KAAKD,MAAMyL,cAG5B,eAAC,GAAD,CAAavT,WAAY+H,KAAKD,MAAM6W,cAAetf,cAAe0I,KAAKD,MAAMyL,cAC7E,eAAC,GAAD,CACEvT,WAAY+H,KAAKD,MAAM9H,WACvBX,cAAe0I,KAAKD,MAAMyL,cAE5B,eAAC,GAAD,CAAoBvT,WAAY+H,KAAKD,MAAM9H,WAAYX,cAAe0I,KAAKD,MAAMyL,gBAjBb,OAoBtE,eAAC,IAAK8M,QAAN,CAAcE,aAAW,EAAClmB,IAAI,oBAA9B,SACK0N,KAAKD,MAAMlP,UAAU3C,OACtB,uCACE,eAACwU,GAAD,CACE7W,cAAemU,KAAKD,MAAMlU,eAAiB,GAC3CgF,UAAWmP,KAAKD,MAAMlP,UACtBlB,SAAUqQ,KAAKD,MAAMpQ,SACrB2H,cAAe0I,KAAKD,MAAMyL,YAC1B3K,MAAOb,KAAKD,MAAMc,QAGpB,eAAC,GAAD,CAAqBhQ,UAAWmP,KAAKD,MAAMlP,YAE3C,eAAC,GAAD,CAAeA,UAAWmP,KAAKD,MAAMlP,UAAWyG,cAAe0I,KAAKD,MAAMyL,iBAG5E,eAAC,IAAD,CAAO/Z,YAAY,iBAhB+B,YAoBtD,eAAC,IAAK6mB,QAAN,CAAcC,wBAAsB,EAACjmB,IAAI,iBAAzC,SACE,eAAC6f,GAAD,CACEthB,UAAWmP,KAAKD,MAAMlP,UACtByG,cAAe0I,KAAKD,MAAMyL,YAC1B3K,MAAOb,KAAKD,MAAMc,MAClBhV,cAAemU,KAAKD,MAAMlU,eAAiB,MALe,kBAS9D,eAAC,IAAKysB,QAAN,CAAcC,wBAAsB,EAACjmB,IAAI,eAAzC,SACE,eAAC+b,GAAD,CACExiB,cAAemU,KAAKD,MAAMlU,eAAiB,GAC3C0iB,SAAUvO,KAAKD,MAAMwO,SACrBjP,aAAcU,KAAKD,MAAM2V,qBACzBpH,oBAAqBtO,KAAKD,MAAMuO,oBAChC3e,SAAUqQ,KAAKD,MAAMpQ,SACrB2H,cAAe0I,KAAKD,MAAMyL,eAP8B,gBAW5D,eAAC,IAAK8M,QAAN,CAAcC,wBAAsB,EAACjmB,IAAI,OAAzC,SACE,eAAC,GAAD,CAAMzB,UAAWmP,KAAKD,MAAMlP,aADsB,QAIpD,eAAC,IAAKynB,QAAN,CAAcC,wBAAsB,EAACjmB,IAAI,SAAzC,SACE,eAACuG,GAAD,CAAQhI,UAAWmP,KAAKD,MAAMlP,aADsB,UAItD,eAAC,IAAKynB,QAAN,CACEC,wBAAsB,EACtBjmB,IACE,eAAC,IAAD,CAAOmmB,MAAOzY,KAAKD,MAAMoY,mBAAoBO,cAAe,EAAGC,OAAQ,CAAC,GAAI,GAA5E,4BAHJ,SASE,eAAClkB,GAAD,KAFI,oBAOV,eAAC,IAAD,CAAMD,eAAe,SAAS1C,MAAO,EAArC,SACE,eAAC,IAAD,CAAMI,KAAK,YAIf,wBACA,wBACA,eAAC,IAAWkB,MAAZ,CAAkBC,MAAO,EAAGlG,KAAK,YAAjC,wBAGA,gBAACqG,EAAA,EAAD,CAAMrG,KAAK,YAAX,6fAME,wBACA,wBAPF,iFAQiF,IAC/E,oBAAGwF,KAAK,+BAAR,mCATF,4BAS4F,IAC1F,oBACEA,KAAK,kHACLnE,OAAO,SACP8a,IAAI,sBAHN,kBAVF,OAmBA,wBACA,iC,GA9fQxH,aChDE8W,QACW,cAA7B1uB,OAAO2uB,SAASC,UAEe,UAA7B5uB,OAAO2uB,SAASC,UAEhB5uB,OAAO2uB,SAASC,SAASlD,MACvB,2DCZNmD,IAASlc,OAAO,eAAC,GAAD,IAASmc,SAASC,eAAe,SD2H3C,kBAAmBjiB,WACrBA,UAAUkiB,cAAcC,MAAMhf,MAAK,SAAAif,GACjCA,EAAaC,kB","file":"static/js/main.249caa81.chunk.js","sourcesContent":["let enabled = false;\n\nexport function initTracking(userHash) {\n  if (!window.analytics || process.env.NODE_ENV !== 'production') {\n    return;\n  }\n\n  enabled = true;\n  trackPage();\n  trackEvent('init');\n  window.analytics.identify(userHash);\n}\n\nexport function trackPage() {\n  if (enabled) {\n    window.analytics.page();\n  }\n}\n\nexport function trackEvent(action: string, data?: any) {\n  if (enabled) {\n    window.analytics.track(action, data || {});\n  } else {\n    console.debug('[analytics] track event', { action, data });\n  }\n}\n","export const DATE_FORMAT = 'YYYY-MM-DD';\nexport const TRANSACTIONS_FROM_DATE = '2010-01-01';\n\nexport const TYPE_TO_COLOR = {\n  buy: '#9948d1',\n  sell: '#FF897C',\n  income: 'green',\n  dividend: 'green',\n  distribution: 'green',\n  tax: 'brown',\n  fee: 'brown',\n};\n\nexport const CHANGE_LOG_DATE_CACHE_KEY = '__pnl_change_log_date__';\n","import moment, { Moment } from 'moment';\nimport { DATE_FORMAT } from './constants';\nimport { PortfolioData, Position, Security } from './types';\n\nexport const isValidPortfolioData = (data: PortfolioData): boolean => {\n  return Boolean(data.deposit || data.income || data.interest || data.value || data.withdrawal);\n};\n\nexport const getDate = (date: string): Moment => {\n  return moment(date.slice(0, 10), DATE_FORMAT);\n};\n\nexport const getCurrencyInCAD = (date: Moment | string, value: number, currencyCache: any): number => {\n  const multiplier = currencyCache[typeof date === 'string' ? date : date.format(DATE_FORMAT)];\n  if (multiplier) {\n    return value / multiplier;\n  } else {\n    const latestDate = Object.keys(currencyCache).sort((a, b) => b.localeCompare(a))[0];\n    return latestDate ? value / currencyCache[latestDate] : value;\n  }\n};\n\nexport const formatMoney = (amount?: number, precision?: number): string => {\n  precision = precision === undefined || precision === null ? 2 : precision;\n  if (amount === undefined || amount === null) {\n    return '-';\n  }\n  return amount.toLocaleString('en-US', {\n    minimumFractionDigits: precision,\n    maximumFractionDigits: precision,\n  });\n};\n\nfunction getRandomInt(n) {\n  return Math.floor(Math.random() * n);\n}\nexport function shuffle(s: string) {\n  var arr = s.split(''); // Convert String to array\n  var n = arr.length; // Length of the array\n\n  for (var i = 0; i < n - 1; ++i) {\n    var j = getRandomInt(n); // Get random of [0, n-1]\n\n    var temp = arr[i]; // Swap arr[i] and arr[j]\n    arr[i] = arr[j];\n    arr[j] = temp;\n  }\n\n  s = arr.join(''); // Convert Array to string\n  return s; // Return shuffled string\n}\n\nexport const getSymbol = (security: Security): string => {\n  return `${security.symbol || security.name}${security.currency === 'usd' || security.type === 'crypto' ? '' : '.TO'}`;\n};\n\nexport const getNasdaqTicker = (security: Security): string =>\n  security.currency === 'cad' ? `TSE:${security.symbol}` : security.symbol;\n\nexport const getSymbolFromNasdaqTicker = (ticker: string) =>\n  ticker.startsWith('TSE:') ? `${ticker.replace('TSE:', '')}.TO` : ticker;\n\nexport const min = (data: any[], field: string): any => {\n  return data.reduce((min, p) => (p[field] < min[field] ? p : min), data[0]);\n};\n\nexport const max = (data: any[], field: string): any => {\n  return data.reduce((max, p) => (p[field] > max[field] ? p : max), data[0]);\n};\n\nexport const formatCurrency = (amount: number, digits: number) => {\n  var si = [\n    { value: 1, symbol: '' },\n    { value: 1e3, symbol: 'K' },\n    { value: 1e6, symbol: 'M' },\n    { value: 1e9, symbol: 'G' },\n    { value: 1e12, symbol: 'T' },\n    { value: 1e15, symbol: 'P' },\n    { value: 1e18, symbol: 'E' },\n  ];\n  var rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n  var i;\n  for (i = si.length - 1; i > 0; i--) {\n    if (Math.abs(amount) >= si[i].value) {\n      break;\n    }\n  }\n  const formattedAmount = (Math.abs(amount) / si[i].value).toFixed(digits).replace(rx, '$1') + si[i].symbol;\n  return amount < 0 ? `-${formattedAmount}` : formattedAmount;\n};\n\nexport const getURLParams = (values: { [id: string]: string }): string => {\n  return Object.keys(values)\n    .map(function (key) {\n      return key + '=' + values[key];\n    })\n    .join('&');\n};\n\nexport function buildCorsFreeUrl(target: string): string {\n  return `https://cors.bridged.cc/${target}`;\n}\n\nexport function getPreviousWeekday(date) {\n  const referenceDate = moment(date);\n  let day = referenceDate.day();\n  let diff = 1; // returns yesterday\n  if (day === 0 || day === 1) {\n    // is Sunday or Monday\n    diff = day + 2; // returns Friday\n  }\n  return referenceDate.subtract(diff, 'days');\n}\n\nexport function setLocalCache(name, value) {\n  try {\n    window.localStorage.setItem(name, value);\n  } catch {}\n}\n\nexport function getLocalCache(name) {\n  try {\n    return window.localStorage.getItem(name);\n  } catch {}\n}\n\nexport function normalizeAccountType(type: string): string {\n  type = type ? type.toUpperCase() : '';\n  if (type.includes('SRRSP')) {\n    return 'SRRSP';\n  } else if (type.includes('RRSP') || type.includes('REGISTERED RETIREMENT SAVINGS PLAN')) {\n    return 'RRSP';\n  } else if (type.includes('TFSA') || type.includes('TAX FREE SAVINGS PLAN')) {\n    return 'TFSA';\n  } else if (type.toLocaleUpperCase() === 'CASH' || type.toLocaleUpperCase() === 'MARGIN') {\n    return 'Margin';\n  } else {\n    return type;\n  }\n}\n\nexport function computeBookValue(position: Position) {\n  const transactions = position.transactions;\n  if (!transactions || !transactions.length || position.book_value) {\n    return;\n  }\n  const book = transactions\n    .filter((t) => ['buy', 'sell'].includes(t.type))\n    .reduce(\n      (book, t) => {\n        if (t.type === 'buy') {\n          book.value += t.price * t.shares;\n          book.shares += t.shares;\n          book.price = book.shares ? book.value / book.shares : t.price;\n        } else {\n          book.value += (book.price || t.price) * t.shares;\n          book.shares += t.shares;\n        }\n        return book;\n      },\n      { price: 0, shares: 0, value: 0 } as { price: number; shares: number; value: number },\n    );\n\n  position.book_value = book.value;\n  position.gain_amount = position.market_value - book.value;\n  position.gain_percent = position.gain_amount / position.book_value;\n  const investment = position.investments ? position.investments[0] : undefined;\n  if (investment && !investment.book_value) {\n    investment.book_value = position.book_value;\n  }\n}\n","import { DATE_FORMAT } from './constants';\nimport { Account, AccountTransaction, Position, Transaction } from './types';\nimport { getCurrencyInCAD, getDate, getSymbol, normalizeAccountType } from './utils';\n\nexport const parseCurrencyReponse = (response: any) => {\n  const date = getDate(response.from);\n  return response.data.reduce((hash, value) => {\n    if (!!value) {\n      hash[date.format(DATE_FORMAT)] = Number(value);\n    }\n    // Move the date forward.\n    date.add(1, 'days');\n    return hash;\n  }, {});\n};\n\nexport const parseGroupNameByIdReponse = (response: any): { [K: string]: string } =>\n  (response || []).reduce((hash, group) => {\n    hash[group._id] = group.name;\n    return hash;\n  }, {});\n\nexport const parseInstitutionsResponse = (response: any, groups?: string[], institutions?: string[]): Account[] => {\n  const accounts: Account[] = [];\n  return response\n    .filter((institution) => !institutions || !institutions.length || institutions.includes(institution.id))\n    .reduce((accounts, instutition) => {\n      return accounts.concat(\n        instutition.investments\n          .filter((account) => (!groups || !groups.length || groups.includes(account.group)) && !account.ignored)\n          .map((account) => {\n            return {\n              id: account._id,\n              institution: instutition.id,\n              instutitionName: instutition.name,\n              name: `${instutition.name} ${account.name}`,\n              created_at: getDate(instutition.creation_date),\n              type: normalizeAccountType(\n                account.type\n                  ? account.type\n                  : account.name && account.name.includes('-')\n                  ? account.name.split('-')[1].trim()\n                  : account.name,\n              ),\n              group: account.group,\n              cash: account.cash,\n              value: account.value,\n              currency_value: account.currency_value,\n              currency: account.currency,\n              positions: (account.positions || []).map((position) => ({\n                ...position,\n                symbol: getSymbol(position.security),\n              })),\n            };\n          }),\n      );\n    }, accounts);\n};\n\nexport const parsePortfolioResponse = (response: any) => {\n  const data = response.history.total;\n  const date = getDate(data.from);\n  return data.data.reduce((hash, value) => {\n    if (!!value) {\n      hash[date.format(DATE_FORMAT)] = Number(value);\n    }\n\n    // Move the date forward.\n    date.add(1, 'days');\n    return hash;\n  }, {});\n};\n\nexport const parseTransactionsResponse = (response: any, currencyCache: any, accounts: Account[]) => {\n  return response\n    .filter((t) => !t.deleted)\n    .reduce((hash, transaction) => {\n      const type = transaction.type;\n      if (['sell', 'buy', 'unknown', 'split', 'reinvest'].includes(type)) {\n        return hash;\n      }\n      let date = getDate(transaction.date);\n      if (['deposit', 'transfer', 'withdrawal'].includes(type)) {\n        // adjust the date of transaction, so that portfolio isn't screw'd up.\n        const account = (accounts || []).find((account) => account.institution === transaction.institution);\n        if (account && account.created_at > date) {\n          // console.debug('Aligning transaction date with the account creation date', account, transaction);\n          date = account.created_at;\n        }\n      }\n\n      const dateKey = date.format(DATE_FORMAT);\n      const portfolioData = hash[dateKey]\n        ? hash[dateKey]\n        : {\n            deposit: 0,\n            withdrawal: 0,\n            interest: 0,\n            income: 0,\n          };\n\n      let amount = Number(transaction.currency_amount);\n      amount =\n        transaction.investment && transaction.investment.includes(':usd')\n          ? getCurrencyInCAD(date, amount, currencyCache)\n          : amount;\n\n      if (['deposit'].includes(type)) {\n        portfolioData.deposit += amount;\n      } else if (type === 'transfer') {\n        if (\n          // FX and journal over shouldn't be treated as deposits.\n          !['FXT', 'BRW', 'ExchTrade'].includes(transaction.origin_type) &&\n          // Security transfer over..\n          !transaction.symbol\n        ) {\n          portfolioData.deposit += amount;\n        }\n      } else if (['fee', 'interest', 'tax'].includes(type)) {\n        portfolioData.interest += Math.abs(amount);\n      } else if (['income', 'dividend', 'distribution'].includes(type)) {\n        portfolioData.income += amount;\n      } else if (type === 'withdrawal') {\n        portfolioData.withdrawal += Math.abs(amount);\n      } else {\n        console.debug('Unhandled type', type);\n      }\n      hash[dateKey] = portfolioData;\n      return hash;\n    }, {});\n};\n\nexport const parseSecurityTransactionsResponse = (response: any, currencyCache: any): Transaction[] => {\n  return response\n    .filter((t) => !t.deleted && t.type)\n    .filter(\n      (transaction) =>\n        ['sell', 'buy', 'income', 'dividend', 'distribution', 'tax', 'fee', 'split', 'reinvest'].includes(\n          transaction.type.toLowerCase(),\n        ) &&\n        (transaction.security || transaction.symbol),\n    )\n    .map((transaction) => {\n      const date = getDate(transaction.date);\n\n      let amount = Number(transaction.currency_amount);\n      amount =\n        transaction.investment && transaction.investment.includes(':usd')\n          ? getCurrencyInCAD(date, amount, currencyCache)\n          : amount;\n\n      let splitRatio;\n      if (transaction.type === 'split' && transaction.origin_type === 'REV' && transaction.description?.includes('@')) {\n        const match = transaction.description.match(/@1:([0-9]+)/);\n        if (match && match[1]) {\n          splitRatio = parseInt(match[1]);\n        }\n      }\n\n      return {\n        date,\n        account: transaction.investment,\n        symbol: transaction.security ? getSymbol(transaction.security) : transaction.symbol,\n        price:\n          transaction.currency_amount && transaction.quantity\n            ? Number(Math.abs(transaction.currency_amount / transaction.quantity).toFixed(3))\n            : 0,\n        type: transaction.type,\n        amount: Math.abs(amount),\n        currency: transaction.security ? transaction.security.currency : 'USD',\n        shares: transaction.quantity || 0,\n        fees: transaction.fee,\n        description: transaction.description,\n        splitRatio,\n        securityType: transaction.security?.type,\n      };\n    });\n};\n\nexport const parseAccountTransactionsResponse = (response: any, currencyCache: any): AccountTransaction[] => {\n  return response\n    .filter((t) => !t.deleted && t.type)\n    .filter((transaction) =>\n      ['interest', 'deposit', 'withdrawal', 'transfer', 'fee'].includes(transaction.type.toLowerCase()),\n    )\n    .map((transaction) => {\n      const date = getDate(transaction.date);\n\n      let amount = Number(transaction.currency_amount);\n      amount =\n        transaction.investment && transaction.investment.includes(':usd')\n          ? getCurrencyInCAD(date, amount, currencyCache)\n          : amount;\n\n      return {\n        date,\n        account: transaction.investment,\n        amount: Math.abs(amount),\n        type: transaction.type,\n        description: transaction.description,\n      };\n    });\n};\n\nexport const parsePositionsResponse = (response: any): Position[] => {\n  return response.map((position) => {\n    return position as Position;\n  });\n};\n","import ResizeObserver from 'rc-resize-observer';\nimport React, { useState } from 'react';\n\ntype Size = { width: number; height: number };\nexport default function AutoReSizer({ children }: { children: (size: Size) => React.ReactElement }) {\n  const [size, setSize] = useState<Size>({\n    width: window.innerWidth,\n    height: window.innerHeight,\n  });\n\n  return <ResizeObserver onResize={({ width, height }) => setSize({ width, height })}>{children(size)}</ResizeObserver>;\n}\n","import Typography from 'antd/es/typography';\nimport Divider from 'antd/lib/divider';\nimport Image from 'antd/lib/image';\nimport Modal from 'antd/lib/modal/Modal';\nimport Tag from 'antd/lib/tag';\nimport Timeline from 'antd/lib/timeline';\nimport moment from 'moment';\nimport React, { useState } from 'react';\nimport { VariableSizeList as List } from 'react-window';\nimport { Box, Flex } from 'rebass';\nimport { trackEvent } from '../analytics';\nimport { CHANGE_LOG_DATE_CACHE_KEY } from '../constants';\nimport AutoReSizer from '../hooks/useResizeHook';\nimport { getLocalCache, setLocalCache } from '../utils';\n\nconst LOGS: {\n  title: string;\n  tab?: string;\n  description?: string;\n  images?: string[];\n  date: string;\n  link?: React.ReactElement;\n}[] = [\n  {\n    date: '2021-05-18',\n    tab: 'Realized P&L',\n    title: 'Plot Income, Interest Along With Realized P&L',\n    description:\n      'We have made few changes to the Realized P&L chart to visualize the income, interest along with the Realized P&L.',\n    images: [\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/Realized_PnL_Total_SkXH_ENpd.png',\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/Realized_PnL_ISmwPJbTB.png',\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/Realized_PnL_Income_-DAQM_F0GI.png',\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/Realized_PnL_History_9IKwqx0dG.png',\n    ],\n  },\n  {\n    date: '2021-04-20',\n    tab: 'Realized P&L',\n    title: 'Interest transactions aggregated by day/week/month/year and complete history',\n    description:\n      'Ever wondered how much interest you are paying on your borrowed margin money. This chart is available under \"Realized P&L\" tab where you can toggle the checkbox and play with interests and aggregate the interest by day/week/month/year. We also show the interest transactions in a table to have a quick view. Please note the new tab will show up only if you have any interest type transactions.',\n    images: [\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/Realized_PnL_Interest_hWDAZtWWUc.png',\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/Realized_PnL_History_9IKwqx0dG.png',\n    ],\n  },\n  {\n    date: '2021-04-19',\n    tab: 'Events',\n    title: 'Table view for the Earnings Calendar',\n    description:\n      'The table view will be give a quick view of the upcoming earnings for your holdings in addition to the calendar view.',\n    images: ['https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/earnings-table__eCvysZ8d.png'],\n  },\n  {\n    date: '2021-04-12',\n    tab: 'Gainers/Losers',\n    title: 'Stock Level P/L Ratio (%) & P/L Value ($) Timeline',\n    description:\n      'These new charts show the P/L timeline at a stock level based on your cost basis. You can access these charts in the Gainers/Losers tab by clicking on the stock.',\n    images: [\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/stock-pnl-ratio-timeline_Rsh-BbaNk.png',\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/stock-pnl-value-timeline_d8yk4s7Zb.png',\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/stock-pnl-timeline-chart_xAEevDsMn.png',\n    ],\n  },\n  {\n    date: '2021-04-11',\n    tab: 'Events',\n    title: 'Upcoming Earnings & Dividends dates for your holdings',\n    description:\n      'A new tab called Events has been added. This tab will show the upcoming earnings & dividend dates in a calendar.',\n    images: ['https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/events_CT25iZoKb.png'],\n  },\n  {\n    date: '2021-04-10',\n    tab: 'News',\n    title: 'News articles related to your holdings from multiple sources',\n    description:\n      'A new tab called News has been added. This tab will list some of the recent news corresponding to your holdings. It also has a sentiment toggle.',\n    images: [\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/news-all_-ezDjr1C1.png',\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/news-sentiment_WokC226oS.png',\n    ],\n  },\n  {\n    date: '2021-04-05',\n    tab: 'Holdings Analyzer',\n    title: 'Holdings Composition Visualizer',\n    description:\n      'You can now visualize your holdings composition using multiple groups like currency, institution, accounts & account type. This is available under the \"Holdings Analyzer\" tab. You can now analyze your holdings composition for a specific group by clicking the buttons below the chart. By default a donut chart is displayed and you can hide the positions using the radio toggle below.',\n    images: [\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/holdings-composition-1_UVfpFJBzK.png',\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/holdings-composition-2_oGAlHs6Fn.png',\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/holdings-composition-3_-6MNRFG8u.png',\n    ],\n  },\n  {\n    date: '2021-04-02',\n    tab: 'Holdings Analyzer',\n    title: 'Portfolio Visualizer Tool Links',\n    description:\n      'Portfolio Visualizer (https://www.portfoliovisualizer.com/) is an online software platform for portfolio and investment analytics to help you make informed decisions when comparing and analyzing portfolios and investment products. We have added links to portfolio visualizer tools with your holdings and allocation populated so that you can just click and run the reports easily.',\n    link: (\n      <Typography.Link href=\"https://www.portfoliovisualizer.com/\" target=\"_blank\">\n        Portfolio Visualizer\n      </Typography.Link>\n    ),\n    images: [\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/portfolio-visualizer-1__UpG0quyW.png',\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/portfolio-visualizer-2_J54JNE5ON.png',\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/portfolio-visualizer-3_HOu1gLKPp.png',\n    ],\n  },\n  {\n    date: '2021-03-31',\n    tab: 'Realized P&L',\n    title: 'Your realized/closed P/L aggregated by day/week/month/year & complete history',\n    description:\n      'If you are an active trader you would definitely want to keep track of your daily/weekly/monthly/yearly closed P/L. The new tab \"Realized P&L\" is exclusively added to simplify this usecase. You can see your closed/realized P/L aggregated by day/week/month/year. You can also see your closed/realized P/L transactions history with details.',\n    images: [\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/realized-pnl-1_sbd3OZJL4.png',\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/realized-pnl-2_fHY3wBRDI.png',\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/realized-pnl-3_Lrlpbuenv.png',\n    ],\n  },\n  {\n    date: '2021-03-23',\n    tab: 'Gainers/Losers',\n    title: 'View Gainers & Losers by P/L Value or Ratio',\n    description:\n      'You can now view the gainers & losers by P/L value in addition to P/L ratio. You can do this by using the new toggle in the Gainers/Losers tab.',\n    images: [\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/show-by-pnl-value_GE8t6tOqe.png',\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/show-by-pnl-ratio_Q83tHPI5J.png',\n    ],\n  },\n  {\n    date: '2021-03-20',\n    title: 'P/L Ratio (%) Change Developer Widget',\n    description:\n      'P/L Ratio (%) Change chart in the P/L charts is written as an elegant developer widget. The widget is submitted to wealthica team for publication. Incase you are interested in trying it out, click on the link below.',\n    link: (\n      <Typography.Link href=\"https://github.com/mani-coder/wealthica-pnl-widget\" target=\"_blank\">\n        P/L Ratio (%) Change Developer Widget\n      </Typography.Link>\n    ),\n    images: [\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/pnl-widget-2_NEbh-d-O6.png',\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/pnl-widget-1_q9ZHNXGdU.png',\n    ],\n  },\n  {\n    date: '2021-03-05',\n    tab: 'P&L Charts',\n    title: 'P&L % Change Over Multiple Time Periods Chart',\n    description:\n      'You can now view your P/L ratio (%) change across multiple pre-defined time periods like 1D(1 day), WTD(Week To Date), MTD(Month To Date), 1M(1 Month), YTD(Year To Date), FY 2020(Jan 1 -Dec 31, 2020) in the P&L Charts tab.',\n    images: ['https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/pnl-yoy-chart_F_NqYoQNP.png'],\n  },\n  {\n    date: '2021-03-01',\n    tab: 'Holdings Analyzer',\n    title: 'Visualize Your Holdings Using Column/Pie Charts',\n    description:\n      'In this new tab \"Holdings Analyzer\", you can visualize your holdings in a column & pie chart. You can also click on a stock and view the details and load the stock price timeline with your transactions plotted on it for better visualization. You can also use the search bar to select a stock in case your aren\\'t able to locate your stock in the charts. There is also a holdings table, incase you want to skim through all your holdings in a table view.',\n    images: [\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/holdings-analyzer-1_SvA5pT4QD.png',\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/holdings-analyzer-2_6dh19zbOd.png',\n      'https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/holdings-table_D9eT7TaFo.png',\n    ],\n  },\n];\n\nfunction LogItem({ index, style }) {\n  const [preview, setPreview] = useState<string>();\n  const log = LOGS[index];\n  return (\n    <Box py={2} style={style}>\n      <Timeline.Item key={index}>\n        <Typography.Title level={4}>{log.title}</Typography.Title>\n        <Flex pb={3}>\n          <Tag color=\"magenta\">{moment(log.date).format('MMM DD, YYYY')}</Tag>\n          {log.tab && <Tag color=\"purple\">{log.tab} Tab</Tag>}\n        </Flex>\n        {log.description && <Typography.Text>{log.description}</Typography.Text>}\n        {log.link && <Box py={1}>{log.link}</Box>}\n        <Flex my={3} flexWrap=\"wrap\">\n          {log.images && (\n            <>\n              {log.images.map((src) => (\n                <Box\n                  mr={2}\n                  mb={2}\n                  key={src}\n                  onClick={() => {\n                    setPreview(src);\n                    trackEvent('preview-change-log-image', { title: log.title });\n                  }}\n                  style={{ cursor: 'pointer' }}\n                >\n                  <Image\n                    src={`${src}?tr=w-200,fo-auto`}\n                    width={200}\n                    preview={false}\n                    fallback=\"data:image/png;base64,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\"\n                  />\n                </Box>\n              ))}\n            </>\n          )}\n        </Flex>\n        <Divider />\n        <Modal\n          width=\"fit-content\"\n          style={{ maxWidth: '100%', top: 10 }}\n          closable\n          maskClosable\n          footer={null}\n          visible={!!preview}\n          onCancel={() => setPreview(undefined)}\n        >\n          <Flex width={1} justifyContent=\"center\">\n            {preview && <Image src={preview} preview={false} />}\n          </Flex>\n        </Modal>\n      </Timeline.Item>\n    </Box>\n  );\n}\n\nexport default function ChangeLog() {\n  return (\n    <AutoReSizer>\n      {({ width }) => (\n        <Box py={3}>\n          <List\n            height={800}\n            itemCount={LOGS.length}\n            itemSize={() => (width > 1000 ? 425 : width > 600 ? 525 : 600)}\n            width=\"100%\"\n          >\n            {({ index, style }) => <LogItem index={index} style={style} />}\n          </List>\n        </Box>\n      )}\n    </AutoReSizer>\n  );\n}\n\nexport function getNewChangeLogsCount(): number {\n  const changeLogDate = getLocalCache(CHANGE_LOG_DATE_CACHE_KEY);\n  if (changeLogDate) {\n    const date = moment(changeLogDate);\n    return LOGS.filter((log) => moment(log.date).isAfter(date)).length;\n  }\n  return LOGS.length;\n}\n\nexport function setChangeLogViewDate() {\n  setLocalCache(CHANGE_LOG_DATE_CACHE_KEY, LOGS[0].date);\n}\n","// import HC_exporting from 'highcharts/modules/exporting';\n// import HC_ExportData from 'highcharts/modules/export-data';\nimport ErrorBoundary from 'antd/lib/alert/ErrorBoundary';\nimport HighchartsReact from 'highcharts-react-official';\nimport * as Highcharts from 'highcharts/highstock';\nimport HC_DrillDown from 'highcharts/modules/drilldown';\nimport React from 'react';\n\n// HC_exporting(Highcharts);\n// HC_ExportData(Highcharts);\nHC_DrillDown(Highcharts);\n\ntype Props = {\n  options: Highcharts.Options;\n  constructorType?: keyof typeof Highcharts;\n};\n\nexport function Charts(props: Props) {\n  const options = props.options;\n  return !!options.series && !!options.series.length ? (\n    <ErrorBoundary message=\"Failed to load the chart!\">\n      <HighchartsReact\n        highcharts={Highcharts}\n        constructorType={props.constructorType}\n        options={options}\n        oneToOne={true}\n      />\n    </ErrorBoundary>\n  ) : (\n    <></>\n  );\n}\n\nexport default React.memo(Charts);\n","import Collapse from 'antd/lib/collapse';\nimport React from 'react';\nimport { Box } from 'rebass';\nimport { trackEvent } from '../analytics';\n\nexport default function Collapsible({\n  title,\n  closed,\n  children,\n}: {\n  closed?: boolean;\n  title: string;\n  children: React.ReactNode;\n}) {\n  return (\n    <Box my={3}>\n      <Collapse\n        defaultActiveKey={closed ? [] : ['1']}\n        expandIconPosition=\"right\"\n        onChange={() => trackEvent('collapse-panel', { title })}\n      >\n        <Collapse.Panel header={title} key=\"1\" style={{ backgroundColor: '#f9f0ff' }}>\n          {children}\n        </Collapse.Panel>\n      </Collapse>\n    </Box>\n  );\n}\n","import moment from 'moment';\nimport React from 'react';\nimport { Portfolio } from '../types';\nimport Charts from './Charts';\nimport Collapsible from './Collapsible';\n\ntype Props = {\n  portfolios: Portfolio[];\n  isPrivateMode: boolean;\n};\n\nfunction DepositVsPortfolioValueTimeline(props: Props) {\n  function getSeries(): any {\n    return [\n      {\n        id: 'portfolio',\n        name: 'Portfolio',\n        data: props.portfolios.map((portfolio) => {\n          return {\n            x: moment(portfolio.date).valueOf(),\n            y: portfolio.value,\n            displayValue: props.isPrivateMode ? '-' : Number(portfolio.value.toFixed(2)).toLocaleString(),\n          };\n        }),\n        type: 'spline',\n        color: '#4E2E5E',\n      },\n      {\n        id: 'deposits',\n        name: 'Deposits',\n        data: props.portfolios.map((portfolio) => {\n          return {\n            x: moment(portfolio.date).valueOf(),\n            y: portfolio.deposits,\n            displayValue: props.isPrivateMode ? '-' : Number(portfolio.deposits.toFixed(2)).toLocaleString(),\n          };\n        }),\n        type: 'spline',\n        color: '#C00316',\n      },\n    ];\n  }\n\n  function getOptions(): Highcharts.Options {\n    return {\n      title: {\n        text: 'Deposits Vs Portfolio Value',\n      },\n      subtitle: {\n        text:\n          'This chart shows the total (deposits - withdrawals) made by you and the value of your portfolio value over the selected period of time.',\n        style: {\n          color: '#1F2A33',\n        },\n      },\n\n      rangeSelector: {\n        selected: 1,\n        enabled: (process.env.NODE_ENV === 'development') as any,\n        inputEnabled: false,\n      },\n      navigator: { enabled: true },\n      scrollbar: { enabled: false },\n\n      yAxis: [\n        {\n          crosshair: {\n            dashStyle: 'Dash',\n          },\n          labels: {\n            enabled: !props.isPrivateMode,\n          },\n          opposite: false,\n        },\n      ],\n      plotOptions: {},\n      tooltip: {\n        pointFormat: '<span style=\"color:{series.color}\">{series.name}</span>: <b>{point.displayValue}</b><br/>',\n        valueDecimals: 2,\n        split: true,\n      },\n\n      responsive: {\n        rules: [\n          {\n            condition: {\n              maxWidth: 500,\n            },\n            chartOptions: {\n              chart: {\n                height: 300,\n              },\n\n              subtitle: {\n                text: undefined,\n              },\n              yAxis: [\n                {\n                  labels: {\n                    enabled: false,\n                  },\n                },\n                {\n                  labels: {\n                    enabled: false,\n                  },\n                },\n              ],\n              navigator: {\n                enabled: false,\n              },\n            },\n          },\n        ],\n      },\n      series: getSeries(),\n    };\n  }\n\n  return (\n    <Collapsible title=\"Deposits Vs Portfolio Value Timeline\">\n      <Charts constructorType={'stockChart'} options={getOptions()} />\n    </Collapsible>\n  );\n}\n\nexport default React.memo(DepositVsPortfolioValueTimeline);\n","import LeftOutlined from '@ant-design/icons/LeftOutlined';\nimport RightOutlined from '@ant-design/icons/RightOutlined';\nimport { Card } from 'antd';\nimport Button from 'antd/es/button';\nimport Typography from 'antd/es/typography';\nimport Calendar from 'antd/lib/calendar';\nimport Spin from 'antd/lib/spin';\nimport Table, { ColumnProps } from 'antd/lib/table';\nimport Tag from 'antd/lib/tag';\nimport moment, { Moment } from 'moment';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { Box, Flex } from 'rebass';\nimport { trackEvent } from '../analytics';\nimport { Position } from '../types';\nimport { buildCorsFreeUrl, getNasdaqTicker, getSymbolFromNasdaqTicker } from '../utils';\n\ntype Dividend = {\n  company: string;\n  ticker: string;\n  exDate: string;\n  payDate: string;\n  recDate: string;\n  amount: number;\n  yield: number;\n};\n\ntype Earning = {\n  ticker: string;\n  date: string;\n  company: string;\n  periodEnding: string;\n  eps: number;\n  lastEps: number;\n};\n\ntype EventType = 'earning' | 'ex-dividend' | 'pay-dividend' | 'rec-dividend';\n\nfunction EventTypes({ types, onChange }: { types: EventType[]; onChange: (types: EventType[]) => void }) {\n  function renderTag(type: EventType, color: string, title: string) {\n    const isSelected = types.includes(type);\n    return (\n      <Tag\n        style={{ cursor: 'pointer' }}\n        color={isSelected ? color : undefined}\n        onClick={() => {\n          onChange(isSelected ? types.filter((_type) => _type !== type) : types.concat([type]));\n        }}\n      >\n        {title}\n      </Tag>\n    );\n  }\n  return (\n    <Box>\n      {renderTag('earning', 'magenta', 'Earning')}\n      {renderTag('ex-dividend', 'blue', 'ED: Ex-Dividend')}\n      {renderTag('pay-dividend', 'green', 'PD: Pay Dividend')}\n      {renderTag('rec-dividend', 'geekblue', 'RD: Record Dividend')}\n    </Box>\n  );\n}\n\nexport function Events({ positions }: { positions: Position[] }) {\n  const [events, setEvents] = useState<{ dividends: Dividend[]; earnings: Earning[] }>();\n  const [loading, setLoading] = useState(false);\n  const [date, setDate] = useState<Moment>(moment().startOf('month'));\n  const range = useMemo(() => {\n    return { start: moment().startOf('month').subtract(1, 'month'), end: moment().endOf('month').add(1, 'year') };\n  }, []);\n  const [types, setTypes] = useState<EventType[]>(['earning', 'ex-dividend', 'pay-dividend', 'rec-dividend']);\n\n  useEffect(() => {\n    const _symbols = positions\n      .filter((position) => {\n        const symbol = position.security.symbol || position.security.name;\n        return !(symbol.includes('-') || position.security.type === 'crypto');\n      })\n      .map((position) => getNasdaqTicker(position.security))\n      .join(',');\n    if (!_symbols.length) {\n      return;\n    }\n\n    const url = buildCorsFreeUrl(\n      `https://portfolio.nasdaq.com/api/portfolio/getPortfolioEvents/?fromDate=${date\n        .clone()\n        .subtract(30, 'days')\n        .format('YYYY-MM-DD')}&toDate=${date\n        .clone()\n        .endOf('month')\n        .add(60, 'days')\n        .format('YYYY-MM-DD')}&tickers=${_symbols}`,\n    );\n    setLoading(true);\n\n    fetch(url, {\n      cache: 'force-cache',\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((response) => response.json())\n      .then((response) => {\n        if (response) {\n          setEvents({\n            dividends: response.dividends,\n            earnings: response.earnings,\n          });\n        }\n      })\n      .catch((error) => console.info('Failed to load events.', error))\n      .finally(() => setLoading(false));\n  }, [positions, date]);\n\n  function dateCellRender(date: Moment) {\n    const _events = eventsByDate[date.format('YYYY-MM-DD')];\n\n    return _events && _events.length ? (\n      <Flex flexWrap=\"wrap\">\n        {_events.map((item) => (\n          <Box mr={1} mb={1} key={item.ticker}>\n            <Tag\n              color={\n                item.type === 'earning'\n                  ? 'magenta'\n                  : item.type === 'ex-dividend'\n                  ? 'blue'\n                  : item.type === 'pay-dividend'\n                  ? 'green'\n                  : 'geekblue'\n              }\n            >\n              {item.type === 'earning'\n                ? ''\n                : item.type === 'ex-dividend'\n                ? 'ED: '\n                : item.type === 'pay-dividend'\n                ? 'PD: '\n                : 'RD: '}\n              {item.ticker}\n            </Tag>\n          </Box>\n        ))}\n      </Flex>\n    ) : (\n      <></>\n    );\n  }\n\n  function getColumns(): ColumnProps<Earning>[] {\n    return [\n      {\n        key: 'date',\n        title: 'Date',\n        dataIndex: 'date',\n        render: (text) => moment(text).format('MMM DD, YYYY'),\n        defaultSortOrder: 'ascend',\n        sorter: (a, b) => moment(a.date).valueOf() - moment(b.date).valueOf(),\n      },\n      {\n        key: 'Company',\n        title: 'Symbol',\n        dataIndex: 'ticker',\n        render: (ticker) => getSymbolFromNasdaqTicker(ticker),\n      },\n      {\n        key: 'periodEnding',\n        title: 'Period Ending',\n        dataIndex: 'periodEnding',\n      },\n      {\n        key: 'lastEps',\n        title: 'Last EPS',\n        dataIndex: 'lastEps',\n        align: 'right',\n      },\n      {\n        key: 'eps',\n        title: 'EPS',\n        dataIndex: 'eps',\n        align: 'right',\n      },\n    ];\n  }\n\n  const eventsByDate = useMemo(() => {\n    if (!events) {\n      return {};\n    }\n\n    let result: {\n      [K: string]: {\n        ticker: string;\n        name: string;\n        type: EventType;\n      }[];\n    } = {};\n    if (types.includes('earning')) {\n      result = events.earnings.reduce((hash, earning) => {\n        const earningDate = moment(earning.date).format('YYYY-MM-DD');\n        let earnings = hash[earningDate];\n        if (!earnings) {\n          earnings = [];\n          hash[earningDate] = earnings;\n        }\n        earnings.push({\n          ticker: getSymbolFromNasdaqTicker(earning.ticker),\n          name: earning.company,\n          type: 'earning',\n        });\n        return hash;\n      }, result);\n    }\n\n    result = events.dividends.reduce((hash, dividend) => {\n      ['exDate', 'payDate', 'recDate'].forEach((field) => {\n        if (!dividend[field]) {\n          return;\n        }\n        const type = field === 'exDate' ? 'ex-dividend' : field === 'payDate' ? 'pay-dividend' : 'rec-dividend';\n        if (!types.includes(type)) {\n          return;\n        }\n\n        const dividendDate = moment(dividend[field]).format('YYYY-MM-DD');\n        let dividends = hash[dividendDate];\n        if (!dividends) {\n          dividends = [];\n          hash[dividendDate] = dividends;\n        }\n        dividends.push({\n          ticker: getSymbolFromNasdaqTicker(dividend.ticker),\n          name: dividend.company,\n          type,\n        });\n      });\n      return hash;\n    }, result);\n\n    return result;\n  }, [events, types]);\n\n  return (\n    <>\n      <Typography.Title level={3} style={{ textAlign: 'center' }}>\n        Earnings &amp; Dividends\n      </Typography.Title>\n      <Calendar\n        value={date}\n        onSelect={(newDate) => {\n          const startOfMonth = newDate.startOf('month');\n          if (!date.isSame(startOfMonth)) {\n            setDate(startOfMonth);\n          }\n        }}\n        validRange={[moment().startOf('month'), moment().endOf('month').add(1, 'year')]}\n        dateCellRender={dateCellRender}\n        headerRender={() => (\n          <Box>\n            <Flex justifyContent=\"space-between\" alignItems=\"center\" flexWrap=\"wrap\">\n              <Button\n                loading={loading}\n                disabled={date.isSameOrBefore(range.start)}\n                type=\"primary\"\n                icon={<LeftOutlined />}\n                onClick={() => {\n                  setDate(date.subtract(1, 'month').clone());\n                  trackEvent('event-calendar-action', { action: 'previous' });\n                }}\n              >\n                Prev Month\n              </Button>\n              <Typography.Title level={3}>\n                {date.format('MMMM YYYY')} {loading && <Spin />}\n              </Typography.Title>\n              <Button\n                loading={loading}\n                disabled={date.clone().endOf('month').isSameOrAfter(range.end)}\n                type=\"primary\"\n                onClick={() => {\n                  trackEvent('event-calendar-action', { action: 'next' });\n                  setDate(date.add(1, 'month').clone());\n                }}\n              >\n                Next Month <RightOutlined />\n              </Button>\n            </Flex>\n\n            <Flex my={2} justifyContent=\"center\" flexWrap=\"wrap\">\n              <EventTypes types={types} onChange={setTypes} />\n              {/* <Radio.Group\n                size=\"large\"\n                defaultValue={type}\n                onChange={(e) => {\n                  setType(e.target.value);\n                  trackEvent('earnings-type-change', { type: e.target.value });\n                }}\n                options={[\n                  { label: 'All', value: 'all' },\n                  { label: 'Earnings Only', value: 'earnings' },\n                  { label: 'Dividends Only', value: 'dividends' },\n                ]}\n              /> */}\n            </Flex>\n          </Box>\n        )}\n      />\n\n      {events?.earnings && !!events?.earnings.length && (\n        <Card\n          title={<>Upcoming Earnings (Starting {date.format('MMM DD, YYYY')})</>}\n          headStyle={{ paddingLeft: 16, fontSize: 18, fontWeight: 'bold' }}\n          style={{ marginTop: 16, marginBottom: 16 }}\n          bodyStyle={{ padding: 0 }}\n        >\n          <Table<Earning>\n            columns={getColumns()}\n            dataSource={events.earnings.filter((earning) => moment(earning.date).isSameOrAfter(date))}\n          />\n        </Card>\n      )}\n    </>\n  );\n}\n","import Typography from 'antd/es/typography';\nimport Radio from 'antd/lib/radio';\nimport React from 'react';\nimport { Flex } from 'rebass';\nimport { trackEvent } from '../analytics';\nimport { Account } from '../types';\n\nexport type GroupType = 'type' | 'accounts' | 'institution' | 'currency';\n\ntype Props = {\n  group?: GroupType;\n  changeGroup: (group: GroupType) => void;\n  tracker: string;\n};\n\nexport default function CompositionGroup({ group = 'currency', changeGroup, tracker }: Props) {\n  return (\n    <Flex width={1} flexDirection=\"column\" alignItems=\"center\" py={2} mb={2}>\n      <Typography.Title level={4}>Group By</Typography.Title>\n      <Radio.Group\n        optionType=\"button\"\n        buttonStyle=\"solid\"\n        defaultValue={group}\n        onChange={(e) => {\n          changeGroup(e.target.value);\n          trackEvent(tracker, { group: e.target.value });\n        }}\n        options={[\n          { label: 'USD vs CAD', value: 'currency' },\n          { label: 'Account Type', value: 'type' },\n          { label: 'Institution', value: 'institution' },\n          { label: 'Account', value: 'accounts' },\n        ]}\n      />\n    </Flex>\n  );\n}\n\nexport function getGroupKey(group: GroupType, account?: Account) {\n  if (!account) {\n    return 'N/A';\n  }\n\n  switch (group) {\n    case 'currency':\n      return account.currency.toUpperCase();\n    case 'type':\n      return account.type;\n    case 'institution':\n      return account.instutitionName;\n    default:\n      return account.name;\n  }\n}\n","import Typography from 'antd/es/typography';\nimport { TextProps } from 'antd/es/typography/Text';\nimport React from 'react';\nimport { Flex, FlexProps } from 'rebass';\nimport { Account, Position } from '../types';\nimport { formatMoney, getSymbol } from '../utils';\n\ntype Props = {\n  symbol: string;\n  positions: Position[];\n  accounts: Account[];\n  isPrivateMode: boolean;\n};\n\nfunction LabelValue({\n  label,\n  value,\n  valueProps,\n  ...rest\n}: { label: string; value: string; valueProps?: TextProps } & FlexProps) {\n  return (\n    <Flex justifyContent=\"space-between\" py={1} style={{ borderBottom: `1px solid #f0f0f0` }} {...rest}>\n      <Typography.Text strong>{label}</Typography.Text>\n      <Typography.Text {...valueProps}>{value}</Typography.Text>\n    </Flex>\n  );\n}\n\nexport default function StockDetails(props: Props) {\n  const marketValue = props.positions.reduce((sum, position) => {\n    return sum + position.market_value;\n  }, 0);\n\n  const position = props.positions.find((position) => getSymbol(position.security) === props.symbol);\n  if (!position) {\n    return <></>;\n  }\n\n  const accounts = (props.accounts || [])\n    .map((account) => {\n      const position = account.positions.filter((position) => position.symbol === props.symbol)[0];\n      return position ? { name: account.name, quantity: position.quantity } : undefined;\n    })\n    .filter((value) => value)\n    .sort((a, b) => b!.quantity - a!.quantity);\n\n  const currency = position.security.currency ? position.security.currency.toUpperCase() : position.security.currency;\n  return (\n    <Flex flexDirection=\"column\" p={2}>\n      <LabelValue label=\"Symbol\" value={getSymbol(position.security)} />\n\n      <LabelValue label=\"Book Value\" value={`CAD ${props.isPrivateMode ? '-' : formatMoney(position.book_value)}`} />\n\n      <LabelValue\n        label=\"Market Value\"\n        value={`CAD ${props.isPrivateMode ? '-' : formatMoney(position.market_value)} (${(position.market_value\n          ? (position.market_value / marketValue) * 100\n          : 0\n        ).toFixed(2)}%)`}\n      />\n\n      <LabelValue\n        label=\"Proft/Loss\"\n        value={`CAD ${props.isPrivateMode ? '-' : formatMoney(position.gain_amount)} (${(position.gain_percent\n          ? position.gain_percent * 100\n          : position.gain_percent || 0\n        ).toFixed(2)}%)`}\n        valueProps={{ type: position.gain_percent > 0 ? 'success' : 'danger', strong: true }}\n      />\n      <LabelValue label=\"Shares\" value={`${position.quantity}`} />\n\n      <LabelValue label=\"Currency\" value={currency} />\n      <LabelValue\n        label=\"Buy Price\"\n        value={formatMoney(\n          position.investments.reduce((cost, investment) => {\n            return cost + investment.book_value;\n          }, 0) / position.quantity,\n        )}\n      />\n      <LabelValue label=\"Last Price\" value={formatMoney(position.security.last_price)} />\n      <LabelValue\n        label=\"Account\"\n        value=\"Shares\"\n        valueProps={{ strong: true }}\n        pt={2}\n        style={{ borderBottom: `2px solid #7b7b7b` }}\n      />\n      {accounts.map(\n        (account) => account && <LabelValue key={account.name} label={account.name} value={`${account.quantity}`} />,\n      )}\n    </Flex>\n  );\n}\n","/* eslint-disable no-template-curly-in-string */\nimport Spin from 'antd/lib/spin';\nimport _ from 'lodash';\nimport moment, { Moment } from 'moment';\nimport React, { Component } from 'react';\nimport { trackEvent } from '../analytics';\nimport { TYPE_TO_COLOR } from '../constants';\nimport { Position, Transaction } from '../types';\nimport { buildCorsFreeUrl, formatCurrency, formatMoney, getCurrencyInCAD, getDate } from '../utils';\nimport Charts from './Charts';\n\ntype Props = {\n  symbol: string;\n  position: Position;\n  isPrivateMode: boolean;\n  addon?: any;\n  currencyCache: { [K: string]: number };\n};\n\ntype SecurityHistoryTimeline = {\n  timestamp: Moment;\n  closePrice: number;\n};\n\ntype State = {\n  loading: boolean;\n  data?: SecurityHistoryTimeline[];\n};\n\nclass StockTimeline extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      loading: true,\n    };\n    this._mounted = false;\n  }\n  _mounted: boolean;\n\n  componentDidMount() {\n    this._mounted = true;\n    this.fetchData();\n  }\n\n  componentDidUpdate(nextProps: Props) {\n    if (this.props.symbol !== nextProps.symbol) {\n      this.fetchData();\n    }\n  }\n  componentWillUnmount() {\n    this._mounted = false;\n  }\n\n  parseSecuritiesResponse(response) {\n    if (this._mounted) {\n      const crypto = this.props.position.security.type === 'crypto';\n      const to = getDate(response.to);\n      const data: SecurityHistoryTimeline[] = [];\n      let prevPrice;\n      response.data\n        .filter((closePrice) => closePrice)\n        .reverse()\n        .forEach((closePrice: number) => {\n          if (!prevPrice) {\n            prevPrice = closePrice;\n          }\n          const changePercentage = Math.abs((closePrice - prevPrice) / closePrice) * 100;\n          if (changePercentage > 200) {\n            closePrice = prevPrice;\n          }\n          // Only weekdays.\n          if (to.isoWeekday() <= 5 || crypto) {\n            data.push({\n              timestamp: to.clone(),\n              closePrice: crypto ? getCurrencyInCAD(to, closePrice, this.props.currencyCache) : closePrice,\n            });\n          }\n\n          // Move the date forward.\n          to.subtract(1, 'days');\n          prevPrice = closePrice;\n        });\n\n      const sortedData = data.sort((a, b) => a.timestamp.valueOf() - b.timestamp.valueOf());\n\n      // console.debug('Loaded the securities data --', sortedData);\n      this.setState({ loading: false, data: sortedData });\n    }\n  }\n\n  fetchData() {\n    if (!this._mounted) {\n      return;\n    }\n    this.setState({ loading: true });\n    trackEvent('stock-timeline');\n\n    const startDate = moment.min(\n      (this.props.position.transactions && this.props.position.transactions.length\n        ? this.props.position.transactions[0].date\n        : moment()\n      )\n        .clone()\n        .subtract(1, 'months'),\n      moment().subtract(6, 'months'),\n    );\n\n    if (this.props.addon) {\n      this.props.addon\n        .request({\n          query: {},\n          method: 'GET',\n          endpoint: `securities/${this.props.position.security.id}/history?from=${startDate.format('YYYY-MM-DD')}`,\n        })\n        .then((response) => {\n          this.parseSecuritiesResponse(response);\n        })\n        .catch((error) => console.log(error));\n    } else {\n      const url = `https://app.wealthica.com/api/securities/${\n        this.props.position.security.id\n      }/history?from=${startDate.format('YYYY-MM-DD')}`;\n      console.debug('Fetching stock data..', url);\n\n      fetch(buildCorsFreeUrl(url), {\n        cache: 'force-cache',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      })\n        .then((response) => response.json())\n        .then((response) => {\n          this.parseSecuritiesResponse(response);\n        })\n        .catch((error) => console.log(error));\n    }\n  }\n\n  fetchDataUsingYahoo() {\n    if (!this._mounted) {\n      return;\n    }\n\n    this.setState({ loading: true });\n    const startDate = (\n      this.props.position.transactions && this.props.position.transactions.length\n        ? this.props.position.transactions[0].date\n        : moment()\n    )\n      .clone()\n      .subtract(1, 'months');\n    const endDate = moment().unix();\n\n    const url = `https://query1.finance.yahoo.com/v7/finance/chart/${\n      this.props.symbol\n    }?period1=${startDate.unix()}&period2=${endDate}&interval=1d&events=history`;\n\n    console.debug('Fetching stock data..', url);\n\n    fetch(buildCorsFreeUrl(url), {\n      cache: 'force-cache',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((response) => response.json())\n      .then((response) => {\n        if (this._mounted) {\n          // this.state.data.chart.error.\n          // const timestamps = this.state.data.chart.result[0].timestamp;\n          // const closePrices = this.state.data.chart.result[0].indicators.quote[0].close;\n          this.setState({ loading: false, data: response });\n        }\n      })\n      .catch((error) => console.log(error));\n  }\n\n  getSeries(): any {\n    if (!this.state.data) {\n      return [{}];\n    }\n\n    const data: { x: number; y: number }[] = [];\n    let minPrice, maxPrice, minTimestamp, maxTimestamp;\n    this.state.data.forEach((_data, index) => {\n      const timestamp = _data.timestamp.valueOf();\n      const closePrice = _data.closePrice;\n\n      data.push({ x: timestamp, y: closePrice });\n\n      if (index === 0) {\n        maxPrice = minPrice = closePrice;\n        minTimestamp = maxTimestamp = timestamp;\n      }\n      if (closePrice < minPrice) {\n        minPrice = closePrice;\n        minTimestamp = timestamp;\n      }\n      if (closePrice > maxPrice) {\n        maxPrice = closePrice;\n        maxTimestamp = timestamp;\n      }\n    });\n\n    return [\n      {\n        id: 'dataseries',\n        name: this.props.symbol,\n        data,\n        type: 'line',\n\n        tooltip: {\n          valueDecimals: 2,\n        },\n      },\n      {\n        name: 'High/Low',\n        shape: 'circlepin',\n        type: 'flags',\n\n        tooltip: {\n          pointFormat: '<b>{point.text}</b>',\n          valueDecimals: 2,\n          split: true,\n        },\n\n        data: [\n          {\n            x: minTimestamp,\n            title: 'L',\n            text: `Low Price: $${formatCurrency(minPrice, 2)}`,\n          },\n          {\n            x: maxTimestamp,\n            title: 'H',\n            text: `High Price: $${formatCurrency(maxPrice, 2)}`,\n          },\n        ].sort((a, b) => a.x - b.x),\n        color: '#7cb5ec',\n        fillColor: '#7cb5ec',\n        style: {\n          color: 'white',\n        },\n      },\n      this.getFlags('buy'),\n      this.getFlags('sell'),\n      this.getFlags('income', true),\n      this.getFlags('dividend', true),\n      this.getFlags('distribution', true),\n      this.getFlags('tax', true),\n      this.getFlags('fee', true),\n    ];\n  }\n\n  getFlags = (type: string, onSeries?: boolean): any => {\n    const isBuySell = ['buy', 'sell'].includes(type);\n\n    return {\n      name: _.startCase(type),\n      shape: 'squarepin',\n      type: 'flags',\n      onSeries: onSeries ? undefined : 'dataseries',\n      width: 25,\n\n      tooltip: {\n        pointFormat: '<b>{point.text}</b>',\n        valueDecimals: 2,\n        split: true,\n      },\n\n      data: this.props.position.transactions\n        .filter((t) => t.type === type)\n        .sort((a, b) => a.date.valueOf() - b.date.valueOf())\n        .reduce((array, transaction) => {\n          const lastTransaction = array.pop();\n          if (lastTransaction && lastTransaction.date.valueOf() === transaction.date.valueOf()) {\n            array.push({\n              ...lastTransaction,\n              shares:\n                transaction.shares && lastTransaction.shares\n                  ? lastTransaction.shares + transaction.shares\n                  : lastTransaction.shares,\n              amount: transaction.amount + lastTransaction.amount,\n              price:\n                transaction.price && lastTransaction.price\n                  ? (Number(transaction.price) + Number(lastTransaction.price)) / 2\n                  : lastTransaction.price,\n            });\n          } else {\n            if (lastTransaction) {\n              array.push(lastTransaction);\n            }\n            array.push(transaction);\n          }\n          return array;\n        }, [] as Transaction[])\n        .map((transaction) => {\n          return {\n            transaction,\n            x: transaction.date.valueOf(),\n            title: isBuySell ? Math.round(transaction.shares!) : type.charAt(0).toUpperCase(),\n            text: isBuySell\n              ? `${_.startCase(type)}: ${transaction.shares}@${transaction.price}`\n              : `${_.startCase(type)}: $${formatCurrency(transaction.amount, 2)}`,\n          };\n        }),\n      color: TYPE_TO_COLOR[type],\n      fillColor: TYPE_TO_COLOR[type],\n      style: {\n        color: 'white', // text style\n      },\n    };\n  };\n\n  getOptions(): Highcharts.Options {\n    const dividends = this.props.position.transactions\n      .filter((transaction) => transaction.type === 'dividend')\n      .reduce((dividend, transaction) => dividend + transaction.amount, 0);\n\n    return {\n      title: {\n        text: `${this.props.symbol}`,\n        style: {\n          color: '#1F2A33',\n          textDecoration: 'underline',\n          fontWeight: 'bold',\n        },\n      },\n      subtitle: {\n        text: this.props.isPrivateMode\n          ? 'Shares: -, Market Value: -, Profit: -'\n          : `Shares: ${this.props.position.quantity}@${formatMoney(\n              this.props.position.investments.reduce((cost, investment) => {\n                return cost + investment.book_value;\n              }, 0) / this.props.position.quantity,\n            )}, Market Value: CAD ${formatCurrency(this.props.position.market_value, 2)}, P/L:  ${formatMoney(\n              this.props.position.gain_percent * 100,\n              2,\n            )}% / CAD ${formatCurrency(this.props.position.gain_amount, 2)}${\n              dividends ? `, Dividends: CAD ${formatCurrency(dividends, 2)}` : ''\n            }`,\n        style: {\n          color: '#1F2A33',\n          fontWeight: 'bold',\n        },\n      },\n\n      rangeSelector: { selected: 1, enabled: true as any, inputEnabled: false },\n      navigator: { enabled: false },\n      scrollbar: { enabled: false },\n\n      yAxis: [\n        {\n          crosshair: {\n            dashStyle: 'Dash',\n          },\n          title: {\n            text: 'Price ($)',\n          },\n          opposite: false,\n        },\n      ],\n      tooltip: {\n        pointFormat: '{series.name}: <b>${point.y}',\n        valueDecimals: 2,\n        split: true,\n      },\n      responsive: {\n        rules: [\n          {\n            condition: {\n              maxWidth: 500,\n            },\n            chartOptions: {\n              chart: {\n                height: 300,\n              },\n              subtitle: {\n                text: undefined,\n              },\n              navigator: {\n                enabled: false,\n              },\n            },\n          },\n        ],\n      },\n      series: this.getSeries(),\n      legend: {\n        enabled: true,\n      },\n    };\n  }\n\n  render() {\n    return this.state.loading ? (\n      <div style={{ textAlign: 'center', margin: '12px' }}>\n        <Spin size=\"large\" />\n      </div>\n    ) : (\n      <Charts constructorType={'stockChart'} options={this.getOptions()} />\n    );\n  }\n}\n\nexport default StockTimeline;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport Select from 'antd/es/select';\nimport Typography from 'antd/es/typography';\nimport Switch from 'antd/lib/switch';\nimport * as Highcharts from 'highcharts';\nimport _ from 'lodash';\nimport React, { useMemo, useState } from 'react';\nimport { Box, Flex } from 'rebass';\nimport { trackEvent } from '../analytics';\nimport { Account, Position } from '../types';\nimport { formatCurrency, formatMoney, getCurrencyInCAD, getSymbol } from '../utils';\nimport Charts from './Charts';\nimport Collapsible from './Collapsible';\nimport CompositionGroup, { getGroupKey, GroupType } from './CompositionGroup';\nimport StockDetails from './StockDetails';\nimport StockTimeline from './StockTimeline';\n\ntype Props = {\n  currencyCache: { [K: string]: number };\n  positions: Position[];\n  accounts: Account[];\n  isPrivateMode: boolean;\n  addon?: any;\n};\n\nconst POSITION_TOOLTIP: Highcharts.TooltipOptions = {\n  pointFormatter() {\n    const point = this.options as any;\n    return point.name !== 'Cash'\n      ? `<table width=\"100%\">\n      <tr><td>Weightage</td><td class=\"position-tooltip-value\">${(this as any).percentage.toFixed(1)}%</td></tr>\n      <tr><td>Value</td><td class=\"position-tooltip-value\">CAD ${point.value}</td></tr>\n      <tr><td>Unrealized P/L %</td><td class=\"position-tooltip-value\" style=\"color: ${point.pnlColor};\">${\n          point.gain ? point.gain.toFixed(1) : 'n/a'\n        }%</td></tr>\n      <tr><td>Unrealized P/L $</td><td class=\"position-tooltip-value\" style=\"color: ${point.pnlColor};\">CAD ${\n          point.profit\n        }</td></tr>\n      <tr><td>Shares</td><td style=\"text-align: right;\">${point.shares}</td></tr>\n      <tr><td>Currency</td><td style=\"text-align: right;\">${point.currency}</td></tr>\n      <tr><td>Buy Price</td><td style=\"text-align: right;\">${point.buyPrice}</td></tr>\n      <tr><td>Last Price</td><td style=\"text-align: right;\">${point.lastPrice}</td></tr>\n      <tr><td colspan=\"2\"><hr /></td></tr>\n      <tr style=\"font-weight: 600\"><td>Account</td><td style=\"text-align: right;\">Shares</td></tr>\n      ${point.accountsTable}\n    </table>`\n      : `\n      <table width=\"100%\">\n        <tr><td>Weightage</td><td class=\"position-tooltip-value\">${(this as any).percentage.toFixed(1)}%</td></tr>\n        <tr><td>Value</td><td class=\"position-tooltip-value\">CAD ${point.value}</td></tr>\n        <tr><td colspan=\"2\"><hr /></td></tr>\n        <tr style=\"font-weight: 600\"><td>Account</td><td style=\"text-align: right;\">Cash</td></tr>\n        ${point.accountsTable}\n      </table>`;\n  },\n  headerFormat: '<b>{point.key}</b><hr />',\n};\n\nexport default function HoldingsCharts(props: Props) {\n  const [timelineSymbol, setTimelineSymbol] = useState<string>();\n  const [compositionGroup, setCompositionGroup] = useState<GroupType>('currency');\n  const [showHoldings, setShowHoldings] = useState(true);\n  const currencyCacheKeys = Object.keys(props.currencyCache);\n  const lastCurrencyDate = currencyCacheKeys[currencyCacheKeys.length - 1];\n  const colors = Highcharts.getOptions().colors;\n\n  function getColor(index) {\n    return colors ? colors[index % colors?.length] : undefined;\n  }\n\n  const getPositionsSeries = (): {\n    column: Highcharts.SeriesColumnOptions;\n    pie: Highcharts.SeriesPieOptions;\n  } => {\n    const totalValue = props.positions.reduce((sum, position) => sum + position.market_value, 0);\n    const data = props.positions\n      .sort((a, b) => b.value - a.value)\n      .map((position) => {\n        const symbol = getSymbol(position.security);\n\n        const accountsTable = (props.accounts || [])\n          .map((account) => {\n            const position = account.positions.filter((position) => position.symbol === symbol)[0];\n            return position ? { name: account.name, quantity: position.quantity } : undefined;\n          })\n          .filter((value) => value)\n          .sort((a, b) => b!.quantity - a!.quantity)\n          .map((value) => `<tr><td>${value!.name}</td><td style=\"text-align: right;\">${value!.quantity}</td></tr>`)\n          .join('');\n\n        return {\n          name: getSymbol(position.security),\n          y: position.value,\n          displayValue: props.isPrivateMode ? '-' : formatCurrency(position.value, 1),\n          value: props.isPrivateMode ? '-' : formatMoney(position.value),\n          gain: position.gain_percent ? position.gain_percent * 100 : position.gain_percent,\n          profit: props.isPrivateMode ? '-' : formatMoney(position.gain_amount),\n          percentage: (position.market_value / totalValue) * 100,\n          buyPrice: formatMoney(\n            position.investments.reduce((cost, investment) => cost + investment.book_value, 0) / position.quantity,\n          ),\n          shares: position.quantity,\n          lastPrice: formatMoney(position.security.last_price),\n          currency: position.security.currency ? position.security.currency.toUpperCase() : position.security.currency,\n          accountsTable,\n          pnlColor: position.gain_amount > 0 ? 'green' : 'red',\n        };\n      });\n\n    const events = {\n      click: (event) => {\n        if (event.point.name && timelineSymbol !== event.point.name) {\n          setTimelineSymbol(event.point.name);\n        }\n      },\n    };\n\n    return {\n      column: {\n        type: 'column',\n        name: 'Holdings',\n        colorByPoint: true,\n        data: data as any,\n        events,\n\n        tooltip: POSITION_TOOLTIP,\n        dataLabels: {\n          enabled: !props.isPrivateMode,\n          format: '{point.displayValue}',\n        },\n        showInLegend: false,\n      },\n      pie: {\n        type: 'pie' as 'pie',\n        name: 'Holdings',\n\n        data: data.map((position) => ({ ...position, drilldown: undefined })) as any,\n        events,\n\n        allowPointSelect: true,\n        cursor: 'pointer',\n        dataLabels: {\n          enabled: true,\n          format: '<b>{point.name}</b>: {point.percentage:.1f} %',\n          style: {\n            color: 'black',\n          },\n        },\n\n        tooltip: POSITION_TOOLTIP,\n      },\n    };\n  };\n\n  const getAccountsCompositionHoldingsDrilldown = (\n    group: GroupType,\n    drilldown: boolean,\n  ): Highcharts.SeriesPieOptions | Highcharts.DrilldownOptions => {\n    const accountsByName = props.accounts.reduce(\n      (hash, account) => {\n        const name = getGroupKey(group, account);\n        let mergedAccount = hash[name];\n        if (!mergedAccount) {\n          mergedAccount = { name, value: 0, positions: {}, accounts: [] };\n          hash[name] = mergedAccount;\n        }\n        mergedAccount.value += account.positions.reduce((sum, position) => sum + position.value, 0);\n\n        account.positions.forEach((position) => {\n          const symbol = getSymbol(position.security);\n          const existingPosition = mergedAccount.positions[symbol];\n          if (!existingPosition) {\n            mergedAccount.positions[symbol] = position;\n          } else {\n            const value = existingPosition.value + position.value;\n            const gain_amount = existingPosition.gain_amount + position.gain_amount;\n            mergedAccount.positions[symbol] = {\n              ...existingPosition,\n              value,\n              book_value: existingPosition.book_value + position.book_value,\n              market_value: existingPosition.market_value + position.market_value,\n              quantity: existingPosition.quantity + position.quantity,\n              gain_currency_amount: existingPosition.gain_currency_amount + position.gain_currency_amount,\n              gain_amount,\n              gain_percent: gain_amount / (value - gain_amount),\n            };\n          }\n        });\n\n        mergedAccount.accounts.push(account);\n\n        return hash;\n      },\n      {} as {\n        [K: string]: {\n          name: string;\n          value: number;\n          positions: { [K: string]: Position };\n          accounts: Account[];\n        };\n      },\n    );\n\n    const getDataForAccount = (name: string, index: number) => {\n      const account = accountsByName[name];\n      const positions = Object.values(account.positions);\n      const numPositions = positions.length;\n\n      const data = positions\n        .sort((a, b) => b.value - a.value)\n        .map((position, idx) => {\n          const symbol = getSymbol(position.security);\n          const accountsTable = account.accounts\n            .map((account) => {\n              const position = account.positions.filter((position) => position.symbol === symbol)[0];\n              return position ? { name: account.name, quantity: position.quantity } : undefined;\n            })\n            .filter((value) => value)\n            .sort((a, b) => b!.quantity - a!.quantity)\n            .map((value) => `<tr><td>${value!.name}</td><td style=\"text-align: right;\">${value!.quantity}</td></tr>`)\n            .join('');\n\n          const brightness = 0.2 - idx / numPositions / 5;\n          const color = getColor(index);\n\n          return {\n            color: color && showHoldings ? Highcharts.color(color).brighten(brightness).get() : undefined,\n            name: symbol,\n            y: position.value,\n            displayValue: props.isPrivateMode ? '-' : formatCurrency(position.value, 1),\n            value: props.isPrivateMode ? '-' : formatMoney(position.value),\n            gain: position.gain_percent ? position.gain_percent * 100 : position.gain_percent,\n            profit: props.isPrivateMode ? '-' : formatMoney(position.gain_amount),\n            buyPrice: formatMoney(position.book_value / position.quantity),\n            shares: position.quantity,\n            lastPrice: formatMoney(position.security.last_price),\n            currency: position.security.currency\n              ? position.security.currency.toUpperCase()\n              : position.security.currency,\n            pnlColor: position.gain_amount >= 0 ? 'green' : 'red',\n            accountsTable,\n          };\n        }) as any;\n\n      return drilldown\n        ? {\n            type: 'pie' as 'pie',\n            id: name,\n            name,\n            data,\n            tooltip: POSITION_TOOLTIP,\n            dataLabels: {\n              enabled: true,\n              format: '<b>{point.name}</b>: {point.percentage:.1f} %',\n              style: {\n                color: 'black',\n              },\n            },\n          }\n        : data;\n    };\n\n    return drilldown\n      ? {\n          activeAxisLabelStyle: {\n            textDecoration: 'none',\n          },\n          activeDataLabelStyle: {\n            textDecoration: 'none',\n          },\n\n          series: Object.keys(accountsByName).map(\n            (name, index) => getDataForAccount(name, index) as Highcharts.SeriesPieOptions,\n          ),\n        }\n      : {\n          type: 'pie' as 'pie',\n          id: 'holdings',\n          name: 'Holdings',\n          size: '80%',\n          innerSize: '60%',\n          dataLabels: {\n            formatter() {\n              const point = this.point;\n              return this.percentage && this.percentage > 2.5 ? `${point.name}: ${this.percentage.toFixed(1)}%` : null;\n            },\n          },\n          data: Object.keys(accountsByName)\n            .sort((a, b) => accountsByName[b].value - accountsByName[a].value)\n            .reduce((array, name, index) => {\n              array.push(...(getDataForAccount(name, index) as any));\n              return array;\n            }, [] as any[]),\n          tooltip: POSITION_TOOLTIP,\n        };\n  };\n\n  const getAccountsCompositionSeries = (group: GroupType): Highcharts.SeriesPieOptions[] => {\n    const totalValue = props.accounts.reduce((value, account) => value + account.value, 0);\n    const data = Object.values(\n      props.accounts.reduce(\n        (hash, account) => {\n          const name = getGroupKey(group, account);\n          let mergedAccount = hash[name];\n          if (!mergedAccount) {\n            mergedAccount = { name, value: 0, gainAmount: 0, accounts: {} };\n            hash[name] = mergedAccount;\n          }\n          mergedAccount.value += account.positions.reduce((value, position) => value + position.value || 0, 0);\n          mergedAccount.gainAmount += account.positions.reduce((value, position) => value + position.gain_amount, 0);\n\n          const _name = account.name;\n          let _account = mergedAccount.accounts[_name];\n          if (!_account) {\n            _account = { name: _name, cad: 0, usd: 0, value: 0 };\n            mergedAccount.accounts[_name] = _account;\n          }\n          const cash = account.cash ? Number(account.cash.toFixed(2)) : 0;\n          _account.cad = _account.cad + (account.currency === 'cad' ? cash : 0);\n          _account.usd = _account.usd + (account.currency === 'usd' ? cash : 0);\n\n          return hash;\n        },\n        {} as {\n          [K: string]: {\n            name: string;\n            value: number;\n            gainAmount: number;\n            accounts: { [K: string]: { name: string; cad: number; usd: number; value: number } };\n          };\n        },\n      ),\n    );\n\n    const accountsSeries: Highcharts.SeriesPieOptions = {\n      type: 'pie' as 'pie',\n      id: 'accounts',\n      name: 'Accounts',\n      size: showHoldings ? '60%' : '100%',\n      data: data\n        .filter((account) => account.value)\n        .sort((a, b) => b.value - a.value)\n        .map((account, index) => {\n          const accounts = Object.values(account.accounts);\n          const cad = accounts.reduce((sum, account) => sum + account.cad, 0);\n          const usd = accounts.reduce((sum, account) => sum + account.usd, 0);\n          const cashTable = accounts\n            .filter((account) => !!account.cad || !!account.usd)\n            .sort((a, b) => b.usd + b.cad - (a.usd + a.cad))\n            .map(\n              (account) =>\n                `<tr>\n                <td style=\"vertical-align: top\">${account.name}</td>\n                <td style=\"text-align: right;\">\n                ${\n                  !!account.cad\n                    ? `<div style=\"color:${account.cad < 0 ? 'red' : ''}\">C$ ${formatMoney(account.cad)}</div>`\n                    : ''\n                }\n                ${\n                  !!account.usd\n                    ? `<span style=\"color:${account.usd < 0 ? 'red' : ''}\">U$ ${formatMoney(account.usd)}</span>`\n                    : ''\n                }\n                </td>\n              </tr>`,\n            )\n            .join('');\n\n          return {\n            color: getColor(index),\n            name: account.name,\n            drilldown: showHoldings ? undefined : account.name,\n            y: account.value,\n            displayValue: props.isPrivateMode ? '-' : account.value ? formatMoney(account.value) : account.value,\n            totalValue: props.isPrivateMode ? '-' : formatMoney(totalValue),\n            gain: props.isPrivateMode ? '-' : `CAD ${formatMoney(account.gainAmount)}`,\n            gainRatio: `${((account.gainAmount / (account.value - account.gainAmount)) * 100).toFixed(2)}%`,\n            pnlColor: account.gainAmount >= 0 ? 'green' : 'red',\n            cash: cad + (usd ? getCurrencyInCAD(lastCurrencyDate, usd, props.currencyCache) : 0),\n            cad,\n            usd,\n            cashTable,\n          };\n        }),\n      dataLabels: {\n        formatter() {\n          return this.percentage && this.percentage > (showHoldings ? 2 : 0)\n            ? `${this.point.name}: ${this.percentage.toFixed(1)}%`\n            : null;\n        },\n        style: showHoldings\n          ? {\n              color: 'purple',\n              fontSize: '12px',\n              fontWeight: '600',\n            }\n          : {},\n        distance: showHoldings ? 150 : 50,\n      },\n      tooltip: {\n        headerFormat: `<b>{point.key}<br />{point.percentage:.1f}%</b><hr />`,\n        pointFormatter() {\n          const point = this.options as any;\n          return `<table>\n          <tr><td>Value</td><td style=\"text-align: right;\" class=\"position-tooltip-value\">CAD ${\n            point.displayValue\n          }</td></tr>\n          <tr><td>Total Value</td><td style=\"text-align: right;\" class=\"position-tooltip-value\">CAD ${\n            point.totalValue\n          }</td></tr>\n          <tr><td>Unrealized P/L ($) </td><td style=\"text-align: right;\" style=\"color:${\n            point.pnlColor\n          };\" class=\"position-tooltip-value\">${point.gain}</td></tr>\n          <tr><td>Unrealized P/L (%)</td><td style=\"text-align: right;\" style=\"color:${\n            point.pnlColor\n          };\" class=\"position-tooltip-value\">${point.gainRatio}</td></tr>\n          ${\n            point.cashTable\n              ? `<tr><td colspan=\"2\"><hr /></td></tr>\n              <tr><td style=\"font-weight: 600\">Account</td><td style=\"text-align: right;\" style=\"font-weight: 600\">Cash</td></tr>${point.cashTable}`\n              : ''\n          }\n          <tr><td colspan=\"2\"><hr /></td></tr>\n          ${\n            !!point.cash && !props.isPrivateMode\n              ? `<tr><td>Total Cash</td><td style=\"text-align: right;\" class=\"position-tooltip-cash\" style=\"color:${\n                  point.cash < 0 ? 'red' : ''\n                };\">CAD ${formatMoney(point.cash)}</td></tr>`\n              : ''\n          }\n          ${\n            !!point.cad && !props.isPrivateMode\n              ? `<tr><td>CAD Cash</td><td style=\"text-align: right;\" class=\"position-tooltip-cash\" style=\"color:${\n                  point.cad < 0 ? 'red' : ''\n                };\">CAD ${formatMoney(point.cad)}</td></tr>`\n              : ''\n          }\n          ${\n            !!point.usd && !props.isPrivateMode\n              ? `<tr><td>USD Cash</td><td style=\"text-align: right;\" class=\"position-tooltip-cash\" style=\"color:${\n                  point.usd < 0 ? 'red' : ''\n                };\">USD ${formatMoney(point.usd)}</td></tr>`\n              : ''\n          }\n        </table>`;\n        },\n      },\n    };\n\n    return showHoldings\n      ? [accountsSeries, getAccountsCompositionHoldingsDrilldown(group, false) as Highcharts.SeriesPieOptions]\n      : [accountsSeries];\n  };\n\n  function getCompositionGroupSeriesOptions(group: GroupType): {\n    series: Highcharts.SeriesPieOptions[];\n    drilldown?: Highcharts.DrilldownOptions;\n    title: string;\n  } {\n    const series = getAccountsCompositionSeries(group);\n    const drilldown = showHoldings ? undefined : getAccountsCompositionHoldingsDrilldown(group, true);\n    const title = group === 'currency' ? 'USD vs CAD' : group === 'type' ? 'Account Type' : `${_.startCase(group)}`;\n\n    return { series, drilldown, title: `${title} Composition` };\n  }\n\n  const getOptions = ({\n    title,\n    yAxisTitle,\n    subtitle,\n    series,\n    drilldown,\n  }: {\n    series: any;\n    title?: string;\n    subtitle?: string;\n    yAxisTitle?: string;\n    drilldown?: Highcharts.DrilldownOptions;\n  }): Highcharts.Options => {\n    return {\n      series,\n      drilldown: drilldown ? drilldown : {},\n\n      tooltip: {\n        outside: true,\n\n        useHTML: true,\n        backgroundColor: '#FFF',\n        style: {\n          color: '#1F2A33',\n        },\n      },\n\n      title: {\n        text: title,\n      },\n      subtitle: {\n        text: subtitle,\n        style: {\n          color: '#1F2A33',\n        },\n      },\n      xAxis: {\n        type: 'category',\n        labels: {\n          rotation: -45,\n          style: {\n            fontSize: '13px',\n            fontFamily: 'Verdana, sans-serif',\n          },\n        },\n      },\n\n      yAxis: {\n        labels: {\n          enabled: !props.isPrivateMode,\n        },\n        title: {\n          text: yAxisTitle,\n        },\n      },\n    };\n  };\n\n  const renderStockTimeline = () => {\n    if (!timelineSymbol) {\n      return <></>;\n    }\n    const position = props.positions.filter((position) => getSymbol(position.security) === timelineSymbol)[0];\n\n    if (!position) {\n      return <></>;\n    }\n\n    return (\n      <StockTimeline\n        isPrivateMode={props.isPrivateMode}\n        symbol={timelineSymbol}\n        position={position}\n        addon={props.addon}\n        currencyCache={props.currencyCache}\n      />\n    );\n  };\n\n  const renderStockSelector = () => {\n    const options = props.positions\n      .map((position) => getSymbol(position.security))\n      .sort()\n      .map((symbol, index) => (\n        <Select.Option key={index} value={symbol}>\n          {symbol}\n        </Select.Option>\n      ));\n\n    return (\n      <Flex p={3} pt={3} width={1} flexDirection=\"column\">\n        <Typography.Title style={{ textAlign: 'center' }} level={4}>\n          Search for a stock in your protofolio:\n        </Typography.Title>\n        <Select\n          showSearch\n          value={timelineSymbol}\n          placeholder=\"Enter a stock, e.g: FB, SHOP.TO\"\n          showArrow\n          style={{ width: '100%' }}\n          onChange={(symbol) => setTimelineSymbol(symbol)}\n          filterOption={(inputValue, option) =>\n            (option!.props!.value! as string).toUpperCase().indexOf(inputValue.toUpperCase()) !== -1\n          }\n        >\n          {options}\n        </Select>\n\n        {timelineSymbol && (\n          <StockDetails\n            symbol={timelineSymbol}\n            positions={props.positions}\n            accounts={props.accounts}\n            isPrivateMode={props.isPrivateMode}\n          />\n        )}\n      </Flex>\n    );\n  };\n\n  const { column, pie } = useMemo(() => {\n    return getPositionsSeries();\n  }, [props.accounts, props.positions, props.isPrivateMode]);\n\n  const columnChartOptions = useMemo(\n    () =>\n      getOptions({\n        title: 'Your Holdings',\n        yAxisTitle: 'Market Value ($)',\n        subtitle: '(click on a stock to view transactions)',\n        series: [column],\n      }),\n    [column],\n  );\n  const pieChartOptions = useMemo(\n    () =>\n      getOptions({\n        subtitle: '(click on a stock to view timeline and transactions)',\n        series: [pie],\n      }),\n    [pie],\n  );\n\n  const compositionGroupOptions = useMemo(() => {\n    const { series, drilldown, title } = getCompositionGroupSeriesOptions(compositionGroup);\n    return getOptions({\n      title,\n      subtitle: showHoldings ? undefined : '(click on the category name to drill into the holdings.)',\n      series,\n      drilldown,\n    });\n  }, [props.isPrivateMode, props.accounts, props.positions, pie, compositionGroup, showHoldings]);\n\n  return (\n    <>\n      <Charts options={columnChartOptions} />\n\n      <Flex width={1} flexWrap=\"wrap\" alignItems=\"stretch\">\n        <Flex width={[1, 1, 2 / 3]} height=\"100%\" justifyContent=\"center\">\n          <Charts options={pieChartOptions} />\n        </Flex>\n\n        <Flex width={[1, 1, 1 / 3]} pr={4} height=\"100%\" justifyContent=\"center\">\n          {renderStockSelector()}\n        </Flex>\n      </Flex>\n\n      {renderStockTimeline()}\n\n      <Collapsible title=\"Holdings Composition\">\n        <Charts key={compositionGroup} options={compositionGroupOptions} />\n        <CompositionGroup\n          changeGroup={setCompositionGroup}\n          group={compositionGroup}\n          tracker=\"holdings-composition-group\"\n        />\n\n        <Flex mt={3} mb={2} width={1} justifyContent=\"center\" alignItems=\"center\" alignContent=\"center\">\n          <Switch\n            checked={showHoldings}\n            onChange={(checked) => {\n              setShowHoldings(checked);\n              trackEvent('composition-group-show-holdings', { checked });\n            }}\n          />\n          <Box px={1} />\n          <Typography.Text strong style={{ fontSize: 16 }}>\n            Show Holdings (Donut Chart)\n          </Typography.Text>\n        </Flex>\n      </Collapsible>\n    </>\n  );\n}\n","import Table from 'antd/lib/table';\nimport classNames from 'classnames';\nimport ResizeObserver from 'rc-resize-observer';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { VariableSizeGrid as Grid } from 'react-window';\n\nexport default function VirtualTable(props: Parameters<typeof Table>[0]) {\n  const { columns = [], scroll } = props;\n  const [tableWidth, setTableWidth] = useState(0);\n\n  const mergedColumns = columns.map((column) => {\n    if (column.width) {\n      return column;\n    }\n\n    return {\n      ...column,\n      width: Math.floor(tableWidth / columns.length),\n    };\n  });\n\n  const gridRef = useRef<any>();\n  const [connectObject] = useState<any>(() => {\n    const obj = {};\n    Object.defineProperty(obj, 'scrollLeft', {\n      get: () => null,\n      set: (scrollLeft: number) => {\n        if (gridRef.current) {\n          gridRef.current.scrollTo({ scrollLeft });\n        }\n      },\n    });\n\n    return obj;\n  });\n\n  const resetVirtualGrid = () => {\n    if (gridRef && gridRef.current) {\n      gridRef.current.resetAfterIndices({\n        columnIndex: 0,\n        shouldForceUpdate: false,\n      });\n    }\n  };\n\n  useEffect(() => resetVirtualGrid, [tableWidth]);\n\n  const renderVirtualList = (data: readonly object[], { scrollbarSize, ref, onScroll }: any) => {\n    ref.current = connectObject;\n    const totalHeight = data.length * 54;\n\n    return (\n      <Grid\n        ref={gridRef}\n        className=\"virtual-grid\"\n        columnCount={columns.length}\n        columnWidth={(index: number) => {\n          const { width } = mergedColumns[index];\n          return totalHeight > scroll!.y! && index === columns.length - 1\n            ? (width as number) - scrollbarSize - 1\n            : (width as number);\n        }}\n        height={scroll!.y as number}\n        rowCount={data.length}\n        rowHeight={() => 64}\n        width={tableWidth}\n        onScroll={({ scrollLeft }: { scrollLeft: number }) => {\n          onScroll({ scrollLeft });\n        }}\n      >\n        {({ columnIndex, rowIndex, style }: { columnIndex: number; rowIndex: number; style: React.CSSProperties }) => {\n          const record = data[rowIndex] as any;\n          const column = columns[columnIndex] as any;\n          const text = column.dataIndex ? record[column.dataIndex] : undefined;\n          return (\n            <div\n              className={classNames('virtual-table-cell ant-table-cell', {\n                'virtual-table-cell-last': columnIndex === columns.length - 1,\n              })}\n              style={{ ...style, textAlign: column.align }}\n            >\n              {column.render ? column.render(text, record) : text}\n            </div>\n          );\n        }}\n      </Grid>\n    );\n  };\n\n  return (\n    <ResizeObserver onResize={({ width }) => setTableWidth(width)}>\n      <Table\n        {...props}\n        className=\"virtual-table\"\n        columns={mergedColumns}\n        pagination={false}\n        components={{\n          body: renderVirtualList,\n        }}\n      />\n    </ResizeObserver>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport Typography from 'antd/es/typography';\nimport { ColumnProps } from 'antd/lib/table';\nimport React from 'react';\nimport { Box } from 'rebass';\nimport { Position } from '../types';\nimport { formatMoney, getSymbol } from '../utils';\nimport Collapsible from './Collapsible';\nimport VirtualTable from './VirtualTable';\n\ntype Props = {\n  positions: Position[];\n  isPrivateMode: boolean;\n};\n\nfunction HoldingsTable(props: Props) {\n  const marketValue = props.positions.reduce((sum, position) => {\n    return sum + position.market_value;\n  }, 0);\n  function getColumns(): ColumnProps<Position>[] {\n    return [\n      {\n        key: 'symbol',\n        title: 'Symbol',\n        dataIndex: 'security.name',\n        render: (text, position) => (\n          <Typography.Link\n            rel=\"noreferrer noopener\"\n            href={`https://finance.yahoo.com/quote/${getSymbol(position.security)}`}\n            target=\"_blank\"\n          >\n            {getSymbol(position.security)}\n          </Typography.Link>\n        ),\n        width: 200,\n        sorter: (a, b) => getSymbol(a.security).localeCompare(getSymbol(b.security)),\n      },\n      {\n        key: 'country',\n        title: 'Country',\n        dataIndex: 'security.currency',\n        render: (text, position) => (position.security.currency === 'usd' ? 'US' : 'CA'),\n        sorter: (a, b) => a.security.currency.localeCompare(b.security.currency),\n        width: 120,\n      },\n      {\n        key: 'lastPrice',\n        title: 'Last Price',\n        align: 'right',\n        dataIndex: 'security.last_price',\n        render: (text, position) => (\n          <>\n            {formatMoney(position.security.last_price)}\n            <div style={{ fontSize: 11 }}>{position.security.currency.toUpperCase()}</div>\n          </>\n        ),\n        sorter: (a, b) => a.security.last_price - b.security.last_price,\n      },\n      {\n        key: 'shares',\n        title: 'Shares',\n        dataIndex: 'quantity',\n        render: (text) => <Typography.Text strong>{formatMoney(text, 0)}</Typography.Text>,\n        align: 'right',\n        sorter: (a, b) => a.quantity - b.quantity,\n      },\n      {\n        key: 'buyPrice',\n        title: 'Avg Cost / Share',\n        dataIndex: 'quantity',\n        render: (text, position) => (\n          <>\n            <Typography.Text strong>\n              {formatMoney(\n                position.investments.reduce((cost, investment) => {\n                  return cost + investment.book_value;\n                }, 0) / position.quantity,\n              )}{' '}\n            </Typography.Text>\n            <div style={{ fontSize: 11 }}>{position.security.currency.toUpperCase()}</div>\n          </>\n        ),\n        align: 'right',\n      },\n      {\n        key: 'gainPercent',\n        title: (\n          <>\n            Profit / Loss %<div style={{ fontSize: 12 }}>CAD</div>\n          </>\n        ),\n        dataIndex: 'gain_percent',\n        render: (text, position) => (\n          <Box style={{ color: position.gain_percent < 0 ? 'red' : 'green' }}>\n            <Typography.Text strong style={{ color: 'inherit', fontSize: 14 }}>\n              {formatMoney(position.gain_percent * 100)}%\n            </Typography.Text>\n            <Box />\n            <Typography.Text style={{ color: 'inherit', fontSize: 13 }}>\n              {formatMoney(position.gain_amount)}\n            </Typography.Text>\n          </Box>\n        ),\n        align: 'right',\n        sorter: (a, b) => a.gain_percent - b.gain_percent,\n      },\n      {\n        key: 'marketValue',\n        title: (\n          <>\n            Market Value<div style={{ fontSize: 12 }}>CAD</div>\n          </>\n        ),\n        dataIndex: 'market_value',\n        render: (text) => (\n          <>\n            <Typography.Text strong>{props.isPrivateMode ? '-' : formatMoney(text)}</Typography.Text>\n            <div style={{ fontSize: 13 }}>{text ? formatMoney((text / marketValue) * 100, 1) : 0}%</div>\n          </>\n        ),\n        align: 'right',\n        sorter: (a, b) => a.market_value - b.market_value,\n      },\n    ];\n  }\n\n  return (\n    <div className=\"zero-padding\">\n      <Collapsible title=\"Holdings Table\">\n        <VirtualTable scroll={{ y: 600 }} dataSource={props.positions} columns={getColumns() as any} />\n      </Collapsible>\n    </div>\n  );\n}\n\nexport default React.memo(HoldingsTable);\n","import CaretDownOutlined from '@ant-design/icons/CaretDownOutlined';\nimport CaretUpOutlined from '@ant-design/icons/CaretUpOutlined';\nimport Empty from 'antd/es/empty';\nimport Typography from 'antd/es/typography';\nimport Radio from 'antd/lib/radio';\nimport Spin from 'antd/lib/spin';\nimport moment, { Moment } from 'moment';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Box, Flex } from 'rebass';\nimport { trackEvent } from '../analytics';\nimport { Position } from '../types';\nimport { buildCorsFreeUrl, getNasdaqTicker, getSymbolFromNasdaqTicker } from '../utils';\n\ntype NewsResult = {\n  timestamp: Moment;\n  name: string;\n  symbol: string;\n  sentiment: string;\n  title: string;\n  url: string;\n  source: string;\n};\n\nfunction Dot() {\n  return <span style={{ fontSize: 16 }}> &bull; </span>;\n}\n\nfunction NewsItem({ news }: { news: NewsResult }) {\n  return (\n    <Box pb={2} key={news.title}>\n      <Flex alignItems=\"center\">\n        <div style={{ fontSize: 15, fontWeight: 500, paddingBottom: 4, paddingRight: 4 }}>\n          <Typography.Link href={news.url} target=\"_blank\" rel=\"noopener noreferrer\">\n            {news.title}\n          </Typography.Link>\n        </div>\n\n        {news.sentiment === 'positive' ? (\n          <CaretUpOutlined style={{ color: 'green', fontSize: 25 }} />\n        ) : news.sentiment !== 'neutral' ? (\n          <CaretDownOutlined style={{ color: 'red', fontSize: 25 }} />\n        ) : undefined}\n      </Flex>\n\n      <div style={{ fontSize: 13, color: '#8c8c8c' }}>\n        {news.source}\n        <Dot />\n        {moment(news.timestamp).format('MMM DD, YYYY hh:mm A')} EDT\n        <Dot />\n        {news.name} <Dot />\n        {news.symbol}\n      </div>\n\n      <hr />\n    </Box>\n  );\n}\n\nfunction News({ positions }: { positions: Position[] }) {\n  const [news, setNews] = useState<NewsResult[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [symbols, setSymbols] = useState<string[]>([]);\n  const [symbol, setSymbol] = useState<string>('All');\n  const [sentiment, setSentiment] = useState<'positive' | 'negative' | 'all'>('all');\n\n  useEffect(() => {\n    const _symbols = positions\n      .filter((position) => {\n        const symbol = position.security.symbol || position.security.name;\n        return !(symbol.includes('-') || position.security.type === 'crypto');\n      })\n      .map((position) => getNasdaqTicker(position.security))\n      .join(',');\n    if (!_symbols.length) {\n      return;\n    }\n\n    const url = buildCorsFreeUrl(`https://portfolio.nasdaq.com/api/portfolio/getPortfolioNews/?tickers=${_symbols}`);\n    setLoading(true);\n\n    fetch(url, {\n      cache: 'force-cache',\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((response) => response.json())\n      .then((response) => {\n        if (response) {\n          const validSymbols = new Set<string>();\n          setNews(\n            // addedOn: \"2021-04-09T21:25:20.63\"\n            // articleTimestamp: \"2021-04-09T16:16:09\"\n            // companyName: \"Apple\"\n            // date: \"2021-04-09T00:00:00\"\n            // publishTimeFull: \"2021-04-09T16:16:09-04:00\"\n            // sentiment: \"neutral\"\n            // siteName: \"Reuters\"\n            // stockType: \"stock\"\n            // ticker: \"AAPL\"\n            // title: \"US STOCKS-S&P 500, Dow climb for third day and close at records\"\n            // url: \"https://www.nasdaq.com/articles/us-stocks-sp-500-dow-climb-for-third-day-and-close-at-records-2021-04-09-0\"\n            // urlString: \"https://www.nasdaq.com/articles/us-stocks-sp-500-dow-climb-for-third-day-and-close-at-records-2021-04-09-0\"\n            response.map((news) => {\n              const symbol = getSymbolFromNasdaqTicker(news.ticker);\n              validSymbols.add(symbol);\n              return {\n                timestamp: moment(news.articleTimestamp || news.addedOn),\n                name: news.companyName,\n                symbol,\n                sentiment: news.sentiment,\n                title: news.title,\n                url: news.url,\n                source: news.siteName,\n              };\n            }),\n          );\n\n          setSymbols(Array.from(validSymbols).sort((a, b) => a.localeCompare(b)));\n        }\n      })\n      .catch((error) => console.info('Failed to load news articles.', error))\n      .finally(() => setLoading(false));\n  }, [positions]);\n\n  const sidebarContainerRef = useRef<HTMLDivElement>();\n  const newsContainerRef = useRef<HTMLDivElement>();\n\n  const selectedNews = news.filter(\n    (_news) => (sentiment === 'all' || _news.sentiment === sentiment) && (symbol === 'All' || _news.symbol === symbol),\n  );\n  return (\n    <Flex flexDirection=\"column\" mb={3} alignItems=\"center\">\n      <Flex width={1} justifyContent=\"center\" mb={3}>\n        <Radio.Group\n          size=\"large\"\n          defaultValue={sentiment}\n          onChange={(e) => {\n            setSentiment(e.target.value);\n            trackEvent('news-sentiment-toggle', { sentiment: e.target.value });\n          }}\n          buttonStyle=\"solid\"\n        >\n          <Radio.Button key=\"all\" value=\"all\">\n            All\n          </Radio.Button>\n          <Radio.Button key=\"positive\" value=\"positive\">\n            <CaretUpOutlined style={{ color: 'green' }} /> Bullish\n          </Radio.Button>\n          <Radio.Button key=\"negative\" value=\"negative\">\n            <CaretDownOutlined style={{ color: 'red' }} /> Bearish\n          </Radio.Button>\n        </Radio.Group>\n      </Flex>\n      {!!news.length ? (\n        <Flex width={1}>\n          <Flex flexDirection=\"column\" alignItems=\"flex-end\" px={2} width={1 / 4}>\n            <Box width={1} ref={sidebarContainerRef}>\n              <Radio.Group\n                style={{ width: '100%' }}\n                onChange={(e) => {\n                  setSymbol(e.target.value);\n                  window.scroll({ top: 0, left: 0, behavior: 'smooth' });\n                  if (newsContainerRef?.current) {\n                    newsContainerRef.current.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n                  }\n                }}\n                value={symbol}\n                buttonStyle=\"solid\"\n                optionType=\"button\"\n              >\n                {['All', ...symbols].map((symbol) => (\n                  <Radio.Button\n                    style={{\n                      width: '100%',\n                      display: 'flex',\n                      height: '50px',\n                      justifyContent: 'center',\n                      alignItems: 'center',\n                      lineHeight: '30px',\n                    }}\n                    value={symbol}\n                  >\n                    {symbol}\n                  </Radio.Button>\n                ))}\n              </Radio.Group>\n            </Box>\n          </Flex>\n\n          {!!selectedNews.length ? (\n            <Box\n              ref={newsContainerRef}\n              width={3 / 4}\n              px={2}\n              height={sidebarContainerRef?.current && sidebarContainerRef.current.clientHeight}\n              style={{ overflow: 'scroll' }}\n            >\n              {selectedNews.map((_news, index) => (\n                <NewsItem key={`${symbol}-${index}`} news={_news} />\n              ))}\n            </Box>\n          ) : (\n            <Flex justifyContent=\"center\" width={3 / 4} py={3}>\n              <Empty description=\"No News Articles Found!\" />\n            </Flex>\n          )}\n        </Flex>\n      ) : loading ? (\n        <Spin size=\"large\" />\n      ) : (\n        <Empty description=\"No News Articles Found!\" />\n      )}\n    </Flex>\n  );\n}\n\nexport default React.memo(News);\n","import ArrowDownOutlined from '@ant-design/icons/ArrowDownOutlined';\nimport ArrowUpOutlined from '@ant-design/icons/ArrowUpOutlined';\nimport Card from 'antd/lib/card';\nimport Statistic, { StatisticProps } from 'antd/lib/statistic';\nimport React from 'react';\nimport { Box, Flex } from 'rebass';\nimport { Portfolio, Position } from '../types';\n\nfunction StatisticBox(props: StatisticProps) {\n  return (\n    <Box p={1}>\n      <Statistic {...props} />\n    </Box>\n  );\n}\n\nfunction PnLStatistics({\n  portfolios,\n  privateMode,\n  positions,\n}: {\n  portfolios: Portfolio[];\n  positions: Position[];\n  privateMode: boolean;\n}) {\n  const portfolio = portfolios[portfolios.length - 1];\n  const marketValue = positions.reduce((value, position) => value + position.market_value, 0);\n  const bookValue = positions.reduce((value, position) => value + position.book_value, 0);\n  const noHoldings = positions.length === 0;\n  const unrealizePnLValue = marketValue - bookValue;\n  const unrealizedPnLRatio = unrealizePnLValue ? (unrealizePnLValue / bookValue) * 100 : 0;\n\n  return (\n    <Card bodyStyle={{ backgroundColor: '#f9f0ff' }} style={{ borderRadius: 6, borderColor: '#efdbff' }}>\n      <Flex width={1} justifyContent=\"space-between\" flexWrap=\"wrap\">\n        <StatisticBox title=\"Portfolio Value\" value={privateMode ? '--' : portfolio.value} precision={2} prefix=\"$\" />\n        <StatisticBox title=\"Deposits\" value={privateMode ? '--' : portfolio.deposits} precision={2} prefix=\"$\" />\n        <StatisticBox\n          title=\"Overall P&L %\"\n          valueStyle={{ color: portfolio.value >= portfolio.deposits ? 'green' : 'red' }}\n          value={((portfolio.value - portfolio.deposits) / portfolio.deposits) * 100}\n          precision={2}\n          suffix=\"%\"\n          prefix={portfolio.value >= portfolio.deposits ? <ArrowUpOutlined /> : <ArrowDownOutlined />}\n        />\n        <StatisticBox\n          title=\"Overall P&L Value\"\n          valueStyle={{ color: portfolio.value >= portfolio.deposits ? 'green' : 'red' }}\n          value={privateMode ? '--' : portfolio.value - portfolio.deposits}\n          precision={privateMode ? undefined : 2}\n          prefix=\"$\"\n        />\n        <StatisticBox\n          title=\"Unrealized P&L Value\"\n          valueStyle={{ color: noHoldings ? 'grey' : unrealizePnLValue >= 0 ? 'green' : 'red' }}\n          value={privateMode ? '--' : noHoldings ? 'N/A' : unrealizePnLValue}\n          precision={privateMode ? undefined : 2}\n          prefix={noHoldings ? undefined : '$'}\n        />\n        <StatisticBox\n          title=\"Unrealized P&L %\"\n          valueStyle={{ color: noHoldings ? 'grey' : unrealizedPnLRatio >= 0 ? 'green' : 'red' }}\n          value={privateMode ? '--' : noHoldings ? 'N/A' : unrealizedPnLRatio}\n          precision={privateMode ? undefined : 2}\n          suffix={noHoldings ? undefined : '%'}\n          prefix={noHoldings ? undefined : unrealizedPnLRatio >= 0 ? <ArrowUpOutlined /> : <ArrowDownOutlined />}\n        />\n      </Flex>\n    </Card>\n  );\n}\n\nexport default React.memo(PnLStatistics);\n","import Typography from 'antd/es/typography';\nimport React from 'react';\nimport { Box, Flex } from 'rebass';\nimport { trackEvent } from '../analytics';\nimport { Position } from '../types';\nimport { getSymbol, getURLParams } from '../utils';\nimport Collapsible from './Collapsible';\n\nconst Link = ({ href, title }: { href: string; title: string }) => {\n  return (\n    <Box width={275}>\n      <Typography.Link\n        href={href}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        onClick={() => trackEvent('portfolio-visualizer-link', { title })}\n      >\n        {title}\n      </Typography.Link>\n    </Box>\n  );\n};\n\nfunction PortfolioVisualizer({ positions }: { positions: Position[] }) {\n  function getBacktestPortfolioAssetAllocationLink() {\n    const marketValue = positions.reduce((sum, position) => {\n      return sum + position.market_value;\n    }, 0);\n\n    let remainingWeightage = 100;\n    const params = getURLParams(\n      positions.reduce((hash, position, index) => {\n        // symbol1=QD&allocation1_1=1&\n        // symbol2=TTD&allocation2_1=15\n        let weightage = Number(((position.market_value / marketValue) * 100).toFixed(1));\n        remainingWeightage -= weightage;\n        remainingWeightage = Number(remainingWeightage.toFixed(1));\n        if (index + 1 === positions.length) {\n          weightage += remainingWeightage;\n        }\n        hash[`symbol${index + 1}`] = getSymbol(position.security);\n        hash[`allocation${index + 1}_1`] = weightage;\n        return hash;\n      }, {}),\n    );\n    return `https://www.portfoliovisualizer.com/backtest-portfolio?s=y&timePeriod=4&initialAmount=10000&annualOperation=0&annualAdjustment=0&inflationAdjusted=true&annualPercentage=0.0&frequency=4&rebalanceType=1&showYield=false&reinvestDividends=true&${params}#analysisResults`;\n  }\n\n  function factorRegression() {\n    const link =\n      'https://www.portfoliovisualizer.com/factor-analysis?s=y&regressionType=1&sharedTimePeriod=true&factorDataSet=0&marketArea=0&factorModel=3&useHMLDevFactor=false&includeQualityFactor=false&includeLowBetaFactor=false&fixedIncomeFactorModel=0&__checkbox_ffmkt=true&__checkbox_ffsmb=true&__checkbox_ffsmb5=true&__checkbox_ffhml=true&__checkbox_ffmom=true&__checkbox_ffrmw=true&__checkbox_ffcma=true&__checkbox_ffstrev=true&__checkbox_ffltrev=true&__checkbox_aqrmkt=true&__checkbox_aqrsmb=true&__checkbox_aqrhml=true&__checkbox_aqrhmldev=true&__checkbox_aqrmom=true&__checkbox_aqrqmj=true&__checkbox_aqrbab=true&__checkbox_aamkt=true&__checkbox_aasmb=true&__checkbox_aahml=true&__checkbox_aamom=true&__checkbox_aaqmj=true&__checkbox_qmkt=true&__checkbox_qme=true&__checkbox_qia=true&__checkbox_qroe=true&__checkbox_qeg=true&__checkbox_trm=true&__checkbox_cdt=true&timePeriod=2&rollPeriod=36&marketAssetType=1&robustRegression=false&symbols=';\n    const symbols = positions\n      .filter((position) => {\n        const symbol = position.security.symbol || position.security.name;\n        return !(symbol.includes('-') || symbol.includes('.'));\n      })\n      .sort((a, b) =>\n        a.security.currency === 'usd' && b.security.currency === 'usd' ? 1 : b.market_value > a.market_value ? 1 : -1,\n      )\n      .slice(0, 20)\n      .map((position) => getSymbol(position.security))\n      .sort((a, b) => a.localeCompare(b))\n      .join(',');\n\n    return `${link}${symbols}`;\n  }\n\n  return (\n    <Collapsible title=\"Portoflio Visualizer Tools\">\n      <Flex width={1}>\n        <Link href={getBacktestPortfolioAssetAllocationLink()} title=\"Backtest Portfolio Asset Allocation\" />\n        <Link href={factorRegression()} title=\"Factor Regression (US Stocks)\" />\n      </Flex>\n    </Collapsible>\n  );\n}\n\nexport default React.memo(PortfolioVisualizer);\n","/* eslint-disable no-template-curly-in-string */\nimport moment from 'moment';\nimport React from 'react';\nimport { Portfolio } from '../types';\nimport { formatCurrency, max, min } from '../utils';\nimport Charts from './Charts';\nimport Collapsible from './Collapsible';\n\ntype Props = {\n  portfolios: Portfolio[];\n  isPrivateMode: boolean;\n};\n\nfunction ProfitLossPercentageTimeline(props: Props) {\n  function getSeries(): any {\n    const data = props.portfolios.map((portfolio) => {\n      return {\n        x: moment(portfolio.date).valueOf(),\n        y: ((portfolio.value - portfolio.deposits) / portfolio.deposits) * 100,\n        pnlValue: props.isPrivateMode ? '-' : formatCurrency(portfolio.value - portfolio.deposits, 2).toLocaleString(),\n      };\n    });\n    return [\n      {\n        id: 'dataseries',\n        name: 'P&L %',\n        data: data,\n        tooltip: {\n          valueDecimals: 2,\n        },\n        type: 'spline',\n      },\n      {\n        type: 'flags',\n        name: 'Max Gain/Loss',\n        data: [\n          {\n            ...min(data, 'y'),\n            title: 'L',\n            text: 'Max Loss',\n          },\n          {\n            ...max(data, 'y'),\n            title: 'G',\n            text: 'Max Gain',\n          },\n        ].sort((a, b) => a.x - b.x),\n        onSeries: 'dataseries',\n        shape: 'squarepin',\n        width: 16,\n      },\n    ];\n  }\n\n  function getOptions(): Highcharts.Options {\n    return {\n      title: {\n        text: 'Profit/Loss (%)',\n      },\n      subtitle: {\n        text: 'Your P&L ratio.',\n        style: {\n          color: '#1F2A33',\n        },\n      },\n\n      rangeSelector: {\n        selected: 1,\n        enabled: (process.env.NODE_ENV === 'development') as any,\n        inputEnabled: false,\n      },\n      navigator: { enabled: true },\n      scrollbar: { enabled: false },\n\n      plotOptions: {\n        spline: {\n          zones: [\n            {\n              value: -0.00000001,\n              color: '#FF897C',\n            },\n            {\n              color: '#84C341',\n            },\n          ],\n        },\n      },\n\n      yAxis: [\n        {\n          crosshair: {\n            dashStyle: 'Dash',\n          },\n          labels: {\n            format: '{value}%',\n          },\n          opposite: false,\n        },\n      ],\n      tooltip: {\n        pointFormat:\n          '<span style=\"color:{series.color}\">{series.name}</span>: <b>{point.y}% (${point.pnlValue})</b><br/>',\n        valueDecimals: 2,\n        split: true,\n      },\n      responsive: {\n        rules: [\n          {\n            condition: {\n              maxWidth: 500,\n            },\n            chartOptions: {\n              chart: {\n                height: 300,\n              },\n              yAxis: [\n                {\n                  labels: {\n                    enabled: false,\n                  },\n                },\n                {\n                  labels: {\n                    enabled: false,\n                  },\n                },\n              ],\n              subtitle: {\n                text: undefined,\n              },\n              navigator: {\n                enabled: false,\n              },\n            },\n          },\n        ],\n      },\n      series: getSeries(),\n    };\n  }\n\n  return (\n    <Collapsible title=\"P&L Ratio Timeline\">\n      <Charts constructorType={'stockChart'} options={getOptions()} />\n    </Collapsible>\n  );\n}\n\nexport default React.memo(ProfitLossPercentageTimeline);\n","import moment from 'moment';\nimport React from 'react';\nimport { Portfolio } from '../types';\nimport Charts from './Charts';\nimport Collapsible from './Collapsible';\n\ntype Props = {\n  portfolios: Portfolio[];\n  isPrivateMode: boolean;\n};\n\nfunction ProfitLossTimeline(props: Props) {\n  function getSeries(): any {\n    return [\n      {\n        name: 'P&L',\n        data: props.portfolios.map((portfolio) => {\n          return {\n            x: moment(portfolio.date).valueOf(),\n            y: portfolio.value - portfolio.deposits,\n            pnlRatio: ((portfolio.value - portfolio.deposits) / portfolio.deposits) * 100,\n            displayValue: props.isPrivateMode\n              ? '-'\n              : Number((portfolio.value - portfolio.deposits).toFixed(2)).toLocaleString(),\n          };\n        }),\n        type: 'column',\n      },\n    ];\n  }\n\n  function getOptions(): Highcharts.Options {\n    return {\n      title: {\n        text: 'Profit/Loss ($)',\n      },\n      subtitle: {\n        text: 'Your P&L in dollars.',\n        style: {\n          color: '#1F2A33',\n        },\n      },\n\n      rangeSelector: {\n        selected: 1,\n        enabled: (process.env.NODE_ENV === 'development') as any,\n        inputEnabled: false,\n      },\n      navigator: { enabled: true },\n      scrollbar: { enabled: false },\n\n      plotOptions: {\n        column: {\n          zones: [\n            {\n              value: -0.00000001,\n              color: '#FF897C',\n            },\n            {\n              color: '#84C341',\n            },\n          ],\n        },\n      },\n\n      yAxis: [\n        {\n          crosshair: {\n            dashStyle: 'Dash',\n          },\n          labels: {\n            enabled: !props.isPrivateMode,\n          },\n          opposite: false,\n        },\n      ],\n      tooltip: {\n        pointFormat:\n          '<span style=\"color:{series.color}\">{series.name}</span>: <b>{point.displayValue} ({point.pnlRatio:.2f}%)</b><br/>',\n        valueDecimals: 2,\n        split: true,\n      },\n      responsive: {\n        rules: [\n          {\n            condition: {\n              maxWidth: 500,\n            },\n            chartOptions: {\n              chart: {\n                height: 300,\n              },\n              yAxis: [\n                {\n                  labels: {\n                    enabled: false,\n                  },\n                },\n                {\n                  labels: {\n                    enabled: false,\n                  },\n                },\n              ],\n              subtitle: {\n                text: undefined,\n              },\n              navigator: {\n                enabled: false,\n              },\n            },\n          },\n        ],\n      },\n      series: getSeries(),\n    };\n  }\n\n  return (\n    <Collapsible title=\"P&L Value Timeline\">\n      <Charts constructorType={'stockChart'} options={getOptions()} />\n    </Collapsible>\n  );\n}\n\nexport default React.memo(ProfitLossTimeline);\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport ArrowDownOutlined from '@ant-design/icons/ArrowDownOutlined';\nimport ArrowUpOutlined from '@ant-design/icons/ArrowUpOutlined';\nimport QuestionCircleTwoTone from '@ant-design/icons/QuestionCircleTwoTone';\nimport Tooltip from 'antd/es/tooltip';\nimport Typography from 'antd/es/typography';\nimport Checkbox from 'antd/lib/checkbox';\nimport Empty from 'antd/lib/empty';\nimport Radio from 'antd/lib/radio';\nimport Statistic from 'antd/lib/statistic';\nimport Table, { ColumnProps } from 'antd/lib/table';\nimport * as Highcharts from 'highcharts';\nimport _ from 'lodash';\nimport moment, { Moment } from 'moment';\nimport 'moment-precise-range-plugin';\nimport React, { useMemo, useState } from 'react';\nimport { Box, Flex } from 'rebass';\nimport { trackEvent } from '../analytics';\nimport { DATE_FORMAT } from '../constants';\nimport { Account, AccountTransaction, Transaction } from '../types';\nimport { formatCurrency, formatMoney, getCurrencyInCAD } from '../utils';\nimport { Charts } from './Charts';\nimport Collapsible from './Collapsible';\nimport CompositionGroup, { getGroupKey, GroupType } from './CompositionGroup';\n\ntype Props = {\n  transactions: Transaction[];\n  accountTransactions: AccountTransaction[];\n  accounts: Account[];\n  isPrivateMode: boolean;\n  fromDate: string;\n  currencyCache: { [K: string]: number };\n};\n\ntype ClosedPosition = {\n  date: Moment;\n  symbol: string;\n  currency: string;\n  shares: number;\n\n  buyDate: Moment;\n  buyPrice: number;\n  sellDate: Moment;\n  sellPrice: number;\n\n  pnl: number;\n  pnlRatio: number;\n  account?: Account;\n};\n\ntype CurrentPosition = {\n  shares: number;\n  price: number;\n  date: Moment;\n};\n\nconst DATE_DISPLAY_FORMAT = 'MMM DD, YYYY';\n\nconst RealizedPnLTable = React.memo(\n  ({ closedPositions, isPrivateMode }: { closedPositions: ClosedPosition[]; isPrivateMode: boolean }) => {\n    function getColumns(): ColumnProps<ClosedPosition>[] {\n      return [\n        {\n          key: 'date',\n          title: 'Date',\n          dataIndex: 'date',\n          render: (text) => text.format('YYYY-MM-DD'),\n          sorter: (a, b) => a.date.valueOf() - b.date.valueOf(),\n          width: 150,\n        },\n        {\n          key: 'account',\n          title: 'Account',\n          dataIndex: 'account',\n          width: 150,\n          render: (account: Account) => (account ? account.name : 'N/A'),\n          filters: Array.from(\n            new Set(closedPositions.map((position) => (position.account ? position.account.name : 'N/A'))),\n          )\n            .map((value) => ({\n              text: value,\n              value,\n            }))\n            .sort((a, b) => a.value.localeCompare(b.value)),\n          onFilter: (value, position) => (position.account?.name || 'N/A').indexOf(value as any) === 0,\n        },\n        {\n          key: 'symbol',\n          title: 'Symbol',\n          dataIndex: 'symbol',\n          render: (text, position) => (\n            <>\n              <Typography.Link\n                rel=\"noreferrer noopener\"\n                href={`https://finance.yahoo.com/quote/${text}`}\n                target=\"_blank\"\n              >\n                {text}\n              </Typography.Link>\n              <div style={{ fontSize: 10 }}>{position.currency === 'usd' ? 'USD' : 'CAD'}</div>\n            </>\n          ),\n          width: 125,\n          filters: Array.from(new Set(closedPositions.map((position) => position.symbol)))\n            .map((value) => ({\n              text: value,\n              value,\n            }))\n            .sort((a, b) => a.value.localeCompare(b.value)),\n          onFilter: (value, position) => position.symbol.indexOf(value as any) === 0,\n          sorter: (a, b) => a.symbol.localeCompare(b.symbol),\n        },\n        {\n          key: 'shares',\n          title: 'Shares',\n          dataIndex: 'shares',\n          align: 'right',\n          render: (text) => (isPrivateMode ? '-' : text.toLocaleString('en-US')),\n          width: 75,\n        },\n        {\n          key: 'price',\n          title: (\n            <>\n              Buy Price / Sell Price{' '}\n              <Tooltip title=\"This is the Adjusted Cost Base (ACB) which includes the buy/sell transaction fees.\">\n                <QuestionCircleTwoTone twoToneColor=\"#bfbfbf\" />\n              </Tooltip>\n            </>\n          ),\n          align: 'right',\n          render: (text, position) => (\n            <>\n              {formatMoney(position.buyPrice)} / {formatMoney(position.sellPrice)}\n            </>\n          ),\n        },\n        {\n          key: 'gain',\n          title: (\n            <>\n              P&L $%<div style={{ fontSize: 12 }}>(CAD)</div>\n            </>\n          ),\n          render: (text, position) => (\n            <Box style={{ color: position.pnl < 0 ? 'red' : 'green' }}>\n              <Typography.Text strong style={{ color: 'inherit', fontSize: 14 }}>\n                {isPrivateMode ? '-' : formatMoney(position.pnl)}\n              </Typography.Text>\n              <Box />\n              <Typography.Text style={{ color: 'inherit', fontSize: 13 }}>\n                {formatMoney(position.pnlRatio)}%\n              </Typography.Text>\n            </Box>\n          ),\n          align: 'right',\n          sorter: (a, b) => a.pnlRatio - b.pnlRatio,\n        },\n        {\n          key: 'openDate',\n          title: 'Open Date',\n          render: (text, position) =>\n            (position.buyDate.isAfter(position.sellDate) ? position.sellDate : position.buyDate).format('YYYY-MM-DD'),\n        },\n        {\n          key: 'holding-period',\n          title: 'Holding Period',\n          render: (text, position) =>\n            position.buyDate.diff(position.sellDate)\n              ? moment.duration(position.buyDate.diff(position.sellDate)).humanize()\n              : 'Same Day',\n        },\n      ];\n    }\n\n    return (\n      <div className=\"zero-padding\">\n        <Collapsible title=\"Realized P&L History\" closed>\n          <Table<ClosedPosition>\n            pagination={{ pageSize: 5 }}\n            dataSource={closedPositions}\n            summary={(positions) => {\n              const totalPnL = positions.reduce((pnl, position) => pnl + position.pnl, 0);\n\n              return (\n                <>\n                  <Table.Summary.Row>\n                    <Table.Summary.Cell colSpan={5} align=\"right\" index={0}>\n                      <Typography.Text strong>Total</Typography.Text>\n                    </Table.Summary.Cell>\n                    <Table.Summary.Cell index={1} colSpan={3}>\n                      <Typography.Text strong style={{ color: totalPnL > 0 ? 'green' : 'red' }}>\n                        {formatMoney(totalPnL)} CAD\n                      </Typography.Text>\n                    </Table.Summary.Cell>\n                  </Table.Summary.Row>\n                </>\n              );\n            }}\n            columns={getColumns()}\n          />\n        </Collapsible>\n      </div>\n    );\n  },\n);\n\nconst ExpensesTable = React.memo(\n  ({\n    accountById,\n    transactions,\n    isPrivateMode,\n  }: {\n    accountById: { [K: string]: Account };\n    transactions: AccountTransaction[];\n    isPrivateMode: boolean;\n  }) => {\n    function getColumns(): ColumnProps<AccountTransaction>[] {\n      return [\n        {\n          key: 'date',\n          title: 'Date',\n          dataIndex: 'date',\n          render: (text) => text.format('YYYY-MM-DD'),\n          sorter: (a, b) => a.date.valueOf() - b.date.valueOf(),\n          width: 150,\n        },\n        {\n          key: 'account',\n          title: 'Account',\n          dataIndex: 'account',\n          render: (account) => (accountById[account] ? accountById[account].name : 'N/A'),\n          width: 250,\n        },\n        {\n          key: 'interest',\n          title: 'Interest (CAD)',\n          dataIndex: 'amount',\n          render: (interest) =>\n            isPrivateMode ? '--' : <Typography.Text strong>${formatMoney(interest)}</Typography.Text>,\n          align: 'right',\n          sorter: (a, b) => a.amount - b.amount,\n          width: 200,\n        },\n        {\n          key: 'description',\n          title: 'Description',\n          dataIndex: 'description',\n        },\n      ];\n    }\n\n    return (\n      <div className=\"zero-padding\">\n        <Collapsible title=\"Expenses History\" closed>\n          <Table<AccountTransaction>\n            pagination={{ pageSize: 5 }}\n            dataSource={transactions.reverse()}\n            columns={getColumns()}\n          />\n        </Collapsible>\n      </div>\n    );\n  },\n);\n\nconst IncomeTable = React.memo(\n  ({\n    accountById,\n    transactions,\n    isPrivateMode,\n  }: {\n    accountById: { [K: string]: Account };\n    transactions: Transaction[];\n    isPrivateMode: boolean;\n  }) => {\n    function getColumns(): ColumnProps<Transaction>[] {\n      return [\n        {\n          key: 'date',\n          title: 'Date',\n          dataIndex: 'date',\n          render: (text) => text.format('YYYY-MM-DD'),\n          sorter: (a, b) => a.date.valueOf() - b.date.valueOf(),\n          width: 150,\n        },\n        {\n          key: 'account',\n          title: 'Account',\n          dataIndex: 'account',\n          render: (account) => (accountById[account] ? accountById[account].name : 'N/A'),\n          width: 250,\n        },\n        {\n          key: 'symbol',\n          title: 'Symbol',\n          dataIndex: 'symbol',\n          render: (text, transaction) => (\n            <>\n              <Typography.Link\n                rel=\"noreferrer noopener\"\n                href={`https://finance.yahoo.com/quote/${text}`}\n                target=\"_blank\"\n              >\n                {text}\n              </Typography.Link>\n              <div style={{ fontSize: 10 }}>{transaction.currency === 'usd' ? 'USD' : 'CAD'}</div>\n            </>\n          ),\n          width: 125,\n          filters: Array.from(new Set(transactions.map((t) => t.symbol)))\n            .map((value) => ({\n              text: value,\n              value,\n            }))\n            .sort((a, b) => a.value.localeCompare(b.value)),\n          onFilter: (value, transaction) => transaction.symbol.indexOf(value as any) === 0,\n          sorter: (a, b) => a.symbol.localeCompare(b.symbol),\n        },\n        {\n          key: 'type',\n          title: 'Type',\n          dataIndex: 'type',\n          render: (type) => <Typography.Text strong>{_.startCase(type || '-')}</Typography.Text>,\n        },\n        {\n          key: 'income',\n          title: 'Income (CAD)',\n          dataIndex: 'amount',\n          render: (amount) => (isPrivateMode ? '--' : <Typography.Text strong>${formatMoney(amount)}</Typography.Text>),\n          align: 'right',\n          sorter: (a, b) => a.amount - b.amount,\n        },\n        {\n          key: 'description',\n          title: 'Description',\n          dataIndex: 'description',\n        },\n      ];\n    }\n\n    return (\n      <div className=\"zero-padding\">\n        <Collapsible title=\"Income History\" closed>\n          <Table<Transaction> pagination={{ pageSize: 5 }} dataSource={transactions.reverse()} columns={getColumns()} />\n        </Collapsible>\n      </div>\n    );\n  },\n);\n\ntype TransactionType = 'income' | 'pnl' | 'expense';\n\nexport default function RealizedPnL({\n  currencyCache,\n  accountTransactions,\n  transactions,\n  accounts,\n  isPrivateMode,\n  fromDate,\n}: Props) {\n  const [timeline, setTimeline] = useState<'month' | 'year' | 'week' | 'day'>('month');\n  const { expenseTransactions, totalExpense } = useMemo(() => {\n    const expenseTransactions = accountTransactions.filter(\n      (transaction) => ['interest', 'fee'].includes(transaction.type) && transaction.date.isSameOrAfter(fromDate),\n    );\n    return {\n      expenseTransactions,\n      totalExpense: expenseTransactions.reduce((expense, t) => expense + t.amount, 0),\n    };\n  }, [transactions, fromDate]);\n\n  const { incomeTransactions, totalIncome } = useMemo(() => {\n    const incomeTransactions = transactions.filter(\n      (transaction) =>\n        ['income', 'dividend', 'distribution'].includes(transaction.type) && transaction.date.isSameOrAfter(fromDate),\n    );\n    return {\n      incomeTransactions,\n      totalIncome: incomeTransactions.reduce((expense, t) => expense + t.amount, 0),\n    };\n  }, [transactions, fromDate]);\n  const [compositionGroup, setCompositionGroup] = useState<GroupType>('type');\n\n  const accountById = useMemo(() => {\n    return accounts.reduce((hash, account) => {\n      hash[account.id] = account;\n      return hash;\n    }, {} as { [K: string]: Account });\n  }, [accounts]);\n\n  function closePosition(position: CurrentPosition, transaction: Transaction) {\n    const closedShares = Math.min(Math.abs(position.shares), Math.abs(transaction.shares));\n    const buyRecord = transaction.type === 'buy' ? transaction : position;\n    const sellRecord = transaction.type === 'sell' ? transaction : position;\n\n    const buyValue = closedShares * buyRecord.price;\n    const sellValue = closedShares * sellRecord.price;\n\n    const pnl = sellValue - buyValue;\n    const pnlRatio = (pnl / buyValue) * 100;\n\n    const closedPosition = {\n      date: transaction.date,\n      account: accountById[transaction.account],\n      symbol: transaction.symbol,\n      currency: transaction.currency,\n      shares: closedShares,\n\n      buyDate: buyRecord.date,\n      buyPrice: buyRecord.price,\n\n      sellDate: sellRecord.date,\n      sellPrice: sellRecord.price,\n\n      pnl:\n        transaction.currency === 'usd' && transaction.securityType !== 'crypto'\n          ? getCurrencyInCAD(transaction.date, pnl, currencyCache)\n          : pnl,\n      pnlRatio,\n    };\n\n    const openShares = position.shares + transaction.shares;\n    position.shares = openShares;\n    if (openShares > 0) {\n      position.price = buyRecord.price;\n      position.date = buyRecord.date;\n    } else if (openShares < 0) {\n      position.price = sellRecord.price;\n      position.date = sellRecord.date;\n    } else {\n      position.price = 0;\n    }\n\n    return closedPosition;\n  }\n\n  function openPosition(position: CurrentPosition, transaction: Transaction) {\n    const shares = position.shares + transaction.shares;\n    if (position.shares === 0) {\n      position.date = transaction.date;\n    }\n    position.price = (position.price * position.shares + transaction.price * transaction.shares) / shares;\n    position.shares = shares;\n  }\n\n  function handleSplit(position: CurrentPosition, transaction: Transaction) {\n    // there are two type of split transactions, one negates the full book and one adds the new shares.\n    // we are interested in the first one.\n    if (transaction.shares > 0) {\n      return;\n    }\n    const splitRatio = transaction.splitRatio || 1;\n    const shares = Math.floor(position.shares / splitRatio);\n    position.shares = shares;\n    position.price = position.price * splitRatio;\n  }\n\n  function computeClosedPositions(): ClosedPosition[] {\n    const closedPositions: ClosedPosition[] = [];\n    const book: { [K: string]: CurrentPosition } = {};\n    transactions.forEach((transaction) => {\n      const key = `${transaction.account}-${transaction.symbol}`;\n      let position = book[key];\n      if (!position) {\n        position = { shares: 0, price: 0, date: transaction.date };\n        book[key] = position;\n      }\n\n      if (transaction.type === 'buy') {\n        if (position.shares < 0) {\n          closedPositions.push(closePosition(position, transaction));\n        } else {\n          openPosition(position, transaction);\n        }\n      } else if (transaction.type === 'sell') {\n        if (position.shares > 0) {\n          closedPositions.push(closePosition(position, transaction));\n        } else {\n          openPosition(position, transaction);\n        }\n      } else if (transaction.type === 'split') {\n        handleSplit(position, transaction);\n      } else if (transaction.type === 'reinvest') {\n        // acquire this position at zero cost, since it's a re-investment.\n        openPosition(position, { ...transaction, price: 0 });\n      }\n    });\n\n    const startDate = moment(fromDate);\n    return closedPositions.filter((position) => position.date.isSameOrAfter(startDate)).reverse();\n  }\n\n  const getOptions = ({\n    series,\n  }: {\n    series: Highcharts.SeriesColumnOptions[] | Highcharts.SeriesPieOptions[];\n  }): Highcharts.Options => {\n    return {\n      series,\n      legend: {\n        enabled: true,\n      },\n\n      tooltip: {\n        outside: true,\n\n        useHTML: true,\n        backgroundColor: '#FFF',\n        style: {\n          color: '#1F2A33',\n        },\n      },\n\n      title: {\n        text: undefined,\n      },\n      xAxis: {\n        type: 'category',\n        labels: {\n          style: {\n            fontSize: '13px',\n            fontFamily: 'Verdana, sans-serif',\n          },\n        },\n      },\n\n      yAxis: {\n        labels: {\n          enabled: !isPrivateMode,\n        },\n        title: {\n          text: '$ (CAD)',\n        },\n      },\n    };\n  };\n\n  const getBarLabel = (date: string) => {\n    const startDate = moment(date);\n\n    switch (timeline) {\n      case 'month':\n        return startDate.format('MMM YY');\n      case 'week':\n        return `${startDate.format('MMM DD')} - ${moment(date).endOf(timeline).format('MMM DD')}, ${startDate.format(\n          'YY',\n        )}`;\n      case 'year':\n        return startDate.format('YYYY');\n      case 'day':\n        return startDate.format('MMM DD, YYYY');\n    }\n  };\n\n  const getData = (closedPositions: ClosedPosition[]): Highcharts.SeriesColumnOptions[] => {\n    function getSeries(type: TransactionType | 'all', values: { [K: string]: number }) {\n      const data = Object.keys(values)\n        .map((date) => ({ date, label: getBarLabel(date), pnl: values[date] }))\n        .filter((value) => value.pnl)\n        .sort((a, b) => moment(a.date).valueOf() - moment(b.date).valueOf())\n        .map((value) => {\n          return {\n            date: value.date,\n            label: value.label,\n            pnl: value.pnl,\n            startDate: moment(value.date).startOf(timeline).format(DATE_DISPLAY_FORMAT),\n            endDate: moment(value.date).endOf(timeline).format(DATE_DISPLAY_FORMAT),\n          };\n        });\n\n      const name =\n        type === 'pnl'\n          ? 'Realized P&L'\n          : type === 'expense'\n          ? 'Expenses (Interest, Fee)'\n          : type === 'income'\n          ? 'Income (Dividends)'\n          : `${types.includes('pnl') ? `P&L  ${types.includes('income') ? '+' : ''} ` : ''}${\n              types.includes('income') ? 'Income' : ''\n            }${types.includes('expense') ? ' - Expenses' : ''}`;\n      const color =\n        type === 'pnl' ? '#b37feb' : type === 'expense' ? '#ff7875' : type === 'income' ? '#95de64' : '#5cdbd3';\n      const _series: Highcharts.SeriesColumnOptions = {\n        name,\n        type: 'column',\n        color,\n        data: data.map((value) => ({\n          key: value.label,\n          name: value.label,\n          label: value.label,\n          y: value.pnl,\n          pnl: !isPrivateMode ? formatMoney(value.pnl) : '-',\n          pnlHuman: !isPrivateMode ? formatCurrency(value.pnl, 2) : '-',\n          startDate: value.startDate,\n          endDate: value.endDate,\n        })),\n        tooltip: {\n          headerFormat: `<span style=\"font-size: 13px; font-weight: 700;\">${name}</span>`,\n          pointFormat: `<hr /><span style=\"font-size: 12px;font-weight: 500;\">{point.startDate} - {point.endDate}</span>\n          <br />\n          <b style=\"font-size: 13px; font-weight: 700\">{point.pnl} CAD</b><br />`,\n        },\n        dataLabels: { enabled: true, format: '{point.pnlHuman}' },\n        showInLegend: true,\n      };\n      return _series;\n    }\n\n    const gains = {} as { [K: string]: number };\n    const pnls = {} as { [K: string]: number };\n    const expenses = {} as { [K: string]: number };\n    const incomes = {} as { [K: string]: number };\n\n    if (types.includes('pnl')) {\n      closedPositions.forEach((value) => {\n        const key = value.date.clone().startOf(timeline).format(DATE_FORMAT);\n        pnls[key] = pnls[key] ? pnls[key] + value.pnl : value.pnl;\n      });\n    }\n\n    if (types.includes('expense')) {\n      expenseTransactions.forEach((value) => {\n        const key = value.date.clone().startOf(timeline).format(DATE_FORMAT);\n        expenses[key] = expenses[key] ? expenses[key] + value.amount : value.amount;\n      });\n    }\n\n    if (types.includes('income')) {\n      incomeTransactions.forEach((value) => {\n        const key = value.date.clone().startOf(timeline).format(DATE_FORMAT);\n        incomes[key] = incomes[key] ? incomes[key] + value.amount : value.amount;\n      });\n    }\n\n    const allDates = new Set(Object.keys(expenses).concat(Object.keys(pnls)).concat(Object.keys(incomes)));\n    allDates.forEach((key) => {\n      gains[key] = (pnls[key] || 0) - (expenses[key] || 0) + (incomes[key] || 0);\n    });\n\n    const individualSeries: Highcharts.SeriesColumnOptions[] = [];\n    types.forEach((type) => {\n      const values = type === 'pnl' ? pnls : type === 'income' ? incomes : expenses;\n      if (Object.keys(values).length) {\n        individualSeries.push(getSeries(type, values));\n      }\n    });\n\n    return individualSeries.length === 1 ? individualSeries : [getSeries('all', gains)].concat(individualSeries);\n  };\n\n  const getClosedPnLByAccountSeries = (\n    closedPositions: ClosedPosition[],\n    closedPnL: number,\n    group: GroupType,\n  ): Highcharts.SeriesPieOptions[] => {\n    const pnls = {} as { [K: string]: { name: string; pnl: number } };\n    if (types.includes('pnl')) {\n      closedPositions.forEach((position) => {\n        const name = getGroupKey(group, position.account);\n        let mergedAccount = pnls[name];\n        if (!mergedAccount) {\n          mergedAccount = { name, pnl: 0 };\n          pnls[name] = mergedAccount;\n        }\n        mergedAccount.pnl += position.pnl;\n      });\n    }\n\n    if (types.includes('expense')) {\n      expenseTransactions.forEach((t) => {\n        const name = getGroupKey(group, accountById[t.account]);\n        let mergedAccount = pnls[name];\n        if (!mergedAccount) {\n          mergedAccount = { name, pnl: 0 };\n          pnls[name] = mergedAccount;\n        }\n        mergedAccount.pnl -= t.amount;\n      });\n    }\n\n    if (types.includes('income')) {\n      incomeTransactions.forEach((t) => {\n        const name = getGroupKey(group, accountById[t.account]);\n        let mergedAccount = pnls[name];\n        if (!mergedAccount) {\n          mergedAccount = { name, pnl: 0 };\n          pnls[name] = mergedAccount;\n        }\n        mergedAccount.pnl += t.amount;\n      });\n    }\n\n    const data = Object.values(pnls);\n    const accountsSeries: Highcharts.SeriesPieOptions = {\n      type: 'pie' as 'pie',\n      id: 'accounts',\n      name: 'Accounts',\n      dataLabels: {\n        enabled: true,\n        format:\n          '<b style=\"font-size: 12px;\">{point.name}: <span style=\"color: {point.pnlColor};\">{point.percentage:.1f}%</span></b>',\n        style: {\n          color: 'black',\n        },\n      },\n      data: data\n        .filter((account) => account.pnl)\n        .sort((a, b) => b.pnl - a.pnl)\n        .map((account) => {\n          return {\n            name: account.name,\n            y: Math.abs(account.pnl),\n            negative: account.pnl < 0,\n            displayValue: isPrivateMode ? '-' : account.pnl ? formatMoney(account.pnl) : account.pnl,\n            totalValue: isPrivateMode ? '-' : formatMoney(closedPnL),\n            pnlColor: account.pnl < 0 ? 'red' : 'green',\n          };\n        }),\n\n      tooltip: {\n        headerFormat: `<b>{point.key}<br />{point.percentage:.1f}%</b><hr />`,\n        pointFormatter() {\n          const point = this.options as any;\n          return `<table>\n          <tr><td>P/L</td><td class=\"position-tooltip-value\">${point.displayValue} CAD</td></tr>\n          <tr><td>Total P/L</td><td class=\"position-tooltip-value\">${point.totalValue} CAD</td></tr>\n        </table>`;\n        },\n      },\n    };\n\n    return [accountsSeries];\n  };\n\n  const closedPositions = useMemo(() => {\n    return computeClosedPositions();\n  }, [transactions, accounts, fromDate]);\n\n  function getDefaultTypes(): TransactionType[] {\n    return [closedPositions.length ? 'pnl' : incomeTransactions.length ? 'income' : 'expense'];\n  }\n  const [types, setTypes] = useState<TransactionType[]>(getDefaultTypes);\n\n  const { closedPnL, realizedPnL } = useMemo(() => {\n    const realizedPnL = closedPositions.reduce((pnl, position) => pnl + position.pnl, 0);\n    const closedPnL =\n      (types.includes('pnl') ? realizedPnL : 0) -\n      (types.includes('expense') ? totalExpense : 0) +\n      (types.includes('income') ? totalIncome : 0);\n    return { realizedPnL, closedPnL };\n  }, [closedPositions, types, totalExpense, totalIncome]);\n\n  const options = useMemo(() => {\n    return getOptions({ series: getData(closedPositions) });\n  }, [closedPositions, timeline, types]);\n\n  const accountSeriesOptions = useMemo(() => {\n    return getOptions({ series: getClosedPnLByAccountSeries(closedPositions, closedPnL, compositionGroup) });\n  }, [closedPositions, closedPnL, compositionGroup, types]);\n\n  const typesOptions = useMemo(() => {\n    const options: { disabled?: boolean; label: string | React.ReactNode; value: TransactionType }[] = [];\n\n    options.push({\n      label: (\n        <>\n          Realized P&L{' '}\n          <Typography.Text type={realizedPnL > 0 ? 'success' : realizedPnL < 0 ? 'danger' : 'secondary'} strong>\n            {formatMoney(realizedPnL)} CAD\n          </Typography.Text>\n        </>\n      ),\n      value: 'pnl',\n      disabled: !closedPositions.length,\n    });\n\n    options.push({\n      label: (\n        <>\n          Income (Dividends){' '}\n          <Typography.Text type={totalIncome ? 'success' : 'secondary'} strong={totalIncome > 0}>\n            {formatMoney(totalIncome)} CAD\n          </Typography.Text>\n        </>\n      ),\n      value: 'income',\n      disabled: !incomeTransactions.length,\n    });\n\n    options.push({\n      label: (\n        <>\n          Expenses (Interest, Fee){' '}\n          <Typography.Text type={totalExpense ? 'danger' : 'secondary'} strong={totalExpense > 0}>\n            {formatMoney(totalExpense)} CAD\n          </Typography.Text>\n        </>\n      ),\n      value: 'expense',\n      disabled: !expenseTransactions.length,\n    });\n\n    return options;\n  }, [closedPositions, incomeTransactions, expenseTransactions]);\n\n  const show = closedPositions.length > 0 || incomeTransactions.length > 0 || expenseTransactions.length > 0;\n  return show ? (\n    <>\n      <Flex mt={2} mb={3} justifyContent=\"center\">\n        <Statistic\n          value={isPrivateMode ? '--' : closedPnL}\n          precision={2}\n          suffix=\"CAD\"\n          valueStyle={{ color: closedPnL >= 0 ? 'green' : 'red' }}\n          prefix={closedPnL >= 0 ? <ArrowUpOutlined /> : <ArrowDownOutlined />}\n        />\n      </Flex>\n\n      <Flex\n        mb={3}\n        mt={2}\n        width={1}\n        justifyContent=\"center\"\n        alignContent=\"center\"\n        justifyItems=\"center\"\n        alignItems=\"center\"\n      >\n        <Checkbox.Group\n          options={typesOptions}\n          value={types}\n          onChange={(checkedValues) => {\n            setTypes(checkedValues as TransactionType[]);\n            trackEvent('realized-pnl-types', { types: checkedValues });\n          }}\n        />\n      </Flex>\n\n      <Charts key={timeline} options={options} />\n\n      <Flex width={1} justifyContent=\"center\" py={2} mb={4}>\n        <Radio.Group\n          defaultValue={timeline}\n          size=\"large\"\n          buttonStyle=\"solid\"\n          onChange={(e) => {\n            trackEvent('realized-pnl-chart', { timeline: e.target.value });\n            setTimeline(e.target.value);\n          }}\n          options={[\n            { label: 'Day', value: 'day' },\n            { label: 'Week', value: 'week' },\n            { label: 'Month', value: 'month' },\n            { label: 'Year', value: 'year' },\n          ]}\n          optionType=\"button\"\n        />\n      </Flex>\n\n      <Collapsible title=\"Realized P&L Composition\">\n        <Charts key={timeline} options={accountSeriesOptions} />{' '}\n        <CompositionGroup changeGroup={setCompositionGroup} group={compositionGroup} tracker=\"realized-pnl-group\" />\n      </Collapsible>\n\n      {closedPositions.length > 0 && (\n        <RealizedPnLTable closedPositions={closedPositions} isPrivateMode={isPrivateMode} />\n      )}\n      {incomeTransactions.length > 0 && (\n        <IncomeTable transactions={incomeTransactions} isPrivateMode={isPrivateMode} accountById={accountById} />\n      )}\n      {expenseTransactions.length > 0 && (\n        <ExpensesTable transactions={expenseTransactions} isPrivateMode={isPrivateMode} accountById={accountById} />\n      )}\n    </>\n  ) : (\n    <Empty description=\"No realized gains/loss/income/expenses for the selected time period.\" />\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-template-curly-in-string */\nimport Empty from 'antd/lib/empty';\nimport Spin from 'antd/lib/spin';\nimport _ from 'lodash';\nimport moment, { Moment } from 'moment';\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { Flex } from 'rebass';\nimport { trackEvent } from '../analytics';\nimport { TYPE_TO_COLOR } from '../constants';\nimport { Position, Transaction } from '../types';\nimport { buildCorsFreeUrl, formatCurrency, formatMoney, getCurrencyInCAD, getDate, max, min } from '../utils';\nimport Charts from './Charts';\n\ntype Props = {\n  symbol: string;\n  position: Position;\n  isPrivateMode: boolean;\n  addon?: any;\n  showValueChart?: boolean;\n  currencyCache: { [K: string]: number };\n};\n\ntype StockPrice = {\n  timestamp: Moment;\n  closePrice: number;\n};\n\nconst POINT_FORMAT = `P/L (%): <b>{point.pnlRatio:.2f}%</b> <br />P/L ($): <b>{point.pnlValue} {point.currency}</b><br /><br />Book: {point.shares}@{point.price}<br /><br />Stock Price: {point.stockPrice} {point.currency}<br />`;\n\nfunction StockPnLTimeline({ isPrivateMode, symbol, position, addon, showValueChart, currencyCache }: Props) {\n  const [loading, setLoading] = useState(false);\n  const [prices, setPrices] = useState<StockPrice[]>([]);\n  const mounted = useRef<boolean>(false);\n  const crypto = position.security?.type === 'crypto';\n\n  useEffect(() => {\n    mounted.current = true;\n    return () => {\n      mounted.current = false;\n    };\n  }, []);\n\n  function parseSecuritiesResponse(response) {\n    if (!mounted.current) {\n      setPrices([]);\n      return;\n    }\n\n    const to = getDate(response.to);\n    const data: StockPrice[] = [];\n    let prevPrice;\n    response.data\n      .filter((closePrice) => closePrice)\n      .reverse()\n      .forEach((closePrice: number) => {\n        if (!prevPrice) {\n          prevPrice = closePrice;\n        }\n        const changePercentage = Math.abs((closePrice - prevPrice) / closePrice) * 100;\n        if (changePercentage > 100) {\n          closePrice = prevPrice;\n        }\n\n        // Only weekdays for non-crypto stocks.\n        if (to.isoWeekday() <= 5 || crypto) {\n          data.push({\n            timestamp: to.clone(),\n            closePrice: crypto ? getCurrencyInCAD(to, closePrice, currencyCache) : closePrice,\n          });\n        }\n\n        // Move the date forward.\n        to.subtract(1, 'days');\n        prevPrice = closePrice;\n      });\n\n    const sortedData = data.sort((a, b) => a.timestamp.valueOf() - b.timestamp.valueOf());\n    setPrices(sortedData);\n  }\n\n  useEffect(() => {\n    if (symbol && mounted.current) {\n      setLoading(true);\n\n      trackEvent('stock-pnl-timeline');\n\n      const startDate =\n        position.transactions && position.transactions.length ? position.transactions[0].date : moment();\n      if (addon) {\n        addon\n          .request({\n            query: {},\n            method: 'GET',\n            endpoint: `securities/${position.security.id}/history?from=${startDate.format('YYYY-MM-DD')}`,\n          })\n          .then((response) => parseSecuritiesResponse(response))\n          .catch((error) => {\n            console.log('Failed to load stock prices.', error);\n            setPrices([]);\n          })\n          .finally(() => setLoading(false));\n      } else {\n        const url = `https://app.wealthica.com/api/securities/${position.security.id}/history?from=${startDate.format(\n          'YYYY-MM-DD',\n        )}`;\n        fetch(buildCorsFreeUrl(url), {\n          cache: 'force-cache',\n          headers: { 'Content-Type': 'application/json' },\n        })\n          .then((response) => response.json())\n          .then((response) => parseSecuritiesResponse(response))\n          .catch((error) => {\n            console.log('Failed to load stock prices.', error);\n            setPrices([]);\n          })\n          .finally(() => setLoading(false));\n      }\n    }\n  }, [symbol, addon, position]);\n\n  function getNextWeekday(date) {\n    const referenceDate = moment(date);\n    let day = referenceDate.day();\n    let diff = day === 6 ? 2 : day === 0 ? 1 : 0;\n    return (diff ? referenceDate.add(diff, 'days') : referenceDate).format('YYYY-MM-DD');\n  }\n\n  function getSeries(): any[] {\n    const book: {\n      [K: string]: { shares: number; price: number; date: string }[];\n    } = { all: [] };\n\n    position.transactions\n      .filter((t) => ['buy', 'sell', 'split', 'reinvest'].includes(t.type))\n      .forEach((t) => {\n        if (t.type === 'split' && !t.splitRatio) {\n          return;\n        }\n\n        const date = crypto ? t.date.format('YYYY-MM-DD') : getNextWeekday(t.date.clone());\n        let accountBook = book[t.account];\n        if (!accountBook) {\n          accountBook = [];\n          book[t.account] = accountBook;\n        }\n\n        const isBuy = ['buy', 'reinvest'].includes(t.type);\n        const isSplit = t.type === 'split';\n\n        const tPrice = t.type === 'reinvest' ? 0 : t.price;\n        const splitRatio = t.splitRatio || 1;\n        let lastBuySell = accountBook.pop() || { shares: 0, price: 0, date };\n        const newPositionShares = Number(\n          (!isSplit ? lastBuySell.shares + t.shares : Math.floor(lastBuySell.shares / splitRatio)).toFixed(10),\n        );\n\n        const newPosition = {\n          price:\n            isBuy && newPositionShares\n              ? (lastBuySell.price * lastBuySell.shares + tPrice * t.shares) / newPositionShares\n              : isSplit\n              ? lastBuySell.price * splitRatio\n              : newPositionShares\n              ? lastBuySell.price\n              : 0,\n          shares: newPositionShares,\n          date,\n        };\n        if (newPosition.date !== lastBuySell.date) {\n          accountBook.push(lastBuySell);\n        }\n        accountBook.push(newPosition);\n\n        // Update all book.\n        let allLastBuySell = book.all.pop() || { shares: 0, price: 0, date };\n        const shares = Number(\n          (isSplit\n            ? allLastBuySell.shares - lastBuySell.shares + newPosition.shares\n            : allLastBuySell.shares + t.shares\n          ).toFixed(10),\n        );\n        const price = shares\n          ? isSplit\n            ? (allLastBuySell.price * allLastBuySell.shares -\n                lastBuySell.shares * lastBuySell.price +\n                newPosition.shares * newPosition.price) /\n              shares\n            : (allLastBuySell.price * allLastBuySell.shares + (isBuy ? tPrice : lastBuySell.price) * t.shares) / shares\n          : 0;\n\n        const allEntry = { price, shares, date };\n\n        if (allEntry.date !== allLastBuySell.date) {\n          book.all.push(allLastBuySell);\n        }\n        book.all.push(allEntry);\n      });\n\n    const allBook = book.all.reduce((hash, entry) => {\n      hash[entry.date] = { shares: entry.shares, price: entry.price };\n      return hash;\n    }, {} as { [K: string]: { shares: number; price: number } });\n    let data: any[] = [];\n    let _entry;\n    prices.forEach((price) => {\n      const entry = allBook[price.timestamp.format('YYYY-MM-DD')];\n      _entry = entry ? entry : _entry;\n      if (_entry) {\n        if (_entry.shares === 0) {\n          // nullify the book on selling shares.\n          data = [];\n        } else {\n          const bookValue = _entry.price * _entry.shares;\n          const marketValue = price.closePrice * _entry.shares;\n          const pnlRatio = ((price.closePrice - _entry.price) / _entry.price) * 100;\n          data.push({\n            x: price.timestamp.valueOf(),\n            y: showValueChart ? marketValue - bookValue : pnlRatio,\n            d: price.timestamp.format('YYYY-MM-DD'),\n            pnlRatio,\n            pnlValue: isPrivateMode ? '-' : formatMoney(marketValue - bookValue),\n            currency: position.security.currency.toUpperCase(),\n            stockPrice: formatMoney(price.closePrice),\n            price: formatMoney(_entry.price),\n            shares: _entry.shares.toLocaleString('en-US'),\n          });\n        }\n      }\n    });\n\n    return [\n      {\n        id: 'dataseries',\n        name: symbol,\n        data,\n        type: 'spline',\n\n        tooltip: {\n          pointFormat: POINT_FORMAT,\n          split: true,\n        },\n      },\n      {\n        type: 'flags',\n        name: 'Max Gain/Loss',\n        tooltip: {\n          pointFormat: `<b>{point.text}</b><br />${POINT_FORMAT}`,\n        },\n        data: [\n          {\n            ...min(data, 'y'),\n            title: 'L',\n            text: 'Max Loss',\n          },\n          {\n            ...max(data, 'y'),\n            title: 'G',\n            text: 'Max Gain',\n          },\n        ].sort((a, b) => a.x - b.x),\n        onSeries: 'dataseries',\n        shape: 'squarepin',\n        width: 16,\n      },\n      ...['buy', 'sell', 'income', 'dividend', 'distribution', 'tax', 'fee'].map((type) => getFlags(type)),\n    ];\n  }\n\n  function getFlags(type: string): any {\n    const isBuySell = ['buy', 'sell'].includes(type);\n\n    return {\n      name: _.startCase(type),\n      shape: 'squarepin',\n      type: 'flags',\n      width: 25,\n\n      tooltip: {\n        pointFormat: '<b>{point.text}</b>',\n      },\n\n      data: position.transactions\n        .filter((t) => t.type === type)\n        .sort((a, b) => a.date.valueOf() - b.date.valueOf())\n        .reduce((array, transaction) => {\n          const lastTransaction = array.pop();\n          if (lastTransaction && lastTransaction.date.valueOf() === transaction.date.valueOf()) {\n            array.push({\n              ...lastTransaction,\n              shares:\n                transaction.shares && lastTransaction.shares\n                  ? lastTransaction.shares + transaction.shares\n                  : lastTransaction.shares,\n              amount: transaction.amount + lastTransaction.amount,\n              price:\n                transaction.price && lastTransaction.price\n                  ? (Number(transaction.price) + Number(lastTransaction.price)) / 2\n                  : lastTransaction.price,\n            });\n          } else {\n            if (lastTransaction) {\n              array.push(lastTransaction);\n            }\n            array.push(transaction);\n          }\n          return array;\n        }, [] as Transaction[])\n        .map((transaction) => {\n          return {\n            transaction,\n            x: transaction.date.valueOf(),\n            title: isBuySell ? Math.round(transaction.shares!) : type.charAt(0).toUpperCase(),\n            text: isBuySell\n              ? `${_.startCase(type)}: ${transaction.shares}@${formatMoney(transaction.price)}`\n              : `${_.startCase(type)}: $${formatCurrency(transaction.amount, 2)}`,\n          };\n        }),\n      color: TYPE_TO_COLOR[type],\n      fillColor: TYPE_TO_COLOR[type],\n      style: {\n        color: 'white', // text style\n      },\n    };\n  }\n\n  function getOptions(series: Highcharts.SeriesLineOptions[]): Highcharts.Options {\n    const dividends = position.transactions\n      .filter((transaction) => transaction.type === 'dividend')\n      .reduce((dividend, transaction) => dividend + transaction.amount, 0);\n\n    return {\n      title: {\n        text: `P/L (${showValueChart ? '$' : '%'}) Timeline for ${symbol}`,\n        style: {\n          color: '#1F2A33',\n          textDecoration: 'underline',\n          fontWeight: 'bold',\n        },\n      },\n      subtitle: {\n        text: isPrivateMode\n          ? ''\n          : `Shares: ${position.quantity}@${formatMoney(\n              position.investments.reduce((cost, investment) => {\n                return cost + investment.book_value;\n              }, 0) / position.quantity,\n            )}, Market Value: ${formatCurrency(position.market_value, 2)} CAD, P/L: ${formatMoney(\n              position.gain_percent * 100,\n              2,\n            )}% / ${formatCurrency(position.gain_amount, 2)}  CAD${\n              dividends ? `, Dividends: ${formatCurrency(dividends, 2)} CAD` : ''\n            }`,\n        style: {\n          color: '#1F2A33',\n          fontWeight: 'bold',\n        },\n      },\n\n      rangeSelector: { selected: 1, enabled: true as any, inputEnabled: false },\n      navigator: { enabled: false },\n      scrollbar: { enabled: false },\n\n      plotOptions: {\n        spline: {\n          gapSize: 15,\n          zones: [\n            {\n              value: -0.00000001,\n              color: '#FF897C',\n            },\n            {\n              color: '#84C341',\n            },\n          ],\n        },\n      },\n\n      yAxis: [\n        {\n          crosshair: {\n            dashStyle: 'Dash',\n          },\n          labels: {\n            formatter() {\n              return showValueChart ? formatCurrency(this.value, 2) : `${formatMoney(this.value, 0)}%`;\n            },\n          },\n          title: {\n            text: undefined,\n          },\n          opposite: false,\n        },\n      ],\n      responsive: {\n        rules: [\n          {\n            condition: {\n              maxWidth: 500,\n            },\n            chartOptions: {\n              chart: {\n                height: 300,\n              },\n              subtitle: {\n                text: undefined,\n              },\n            },\n          },\n        ],\n      },\n      series,\n      legend: {\n        enabled: true,\n      },\n    };\n  }\n\n  const options = useMemo(() => {\n    return getOptions(getSeries());\n  }, [symbol, position, prices, showValueChart]);\n\n  return (\n    <>\n      <hr />\n      {loading ? (\n        <Flex justifyContent=\"center\" height={300} alignItems=\"center\">\n          <Spin size=\"large\" />\n        </Flex>\n      ) : !prices || !prices.length ? (\n        <Empty description={`Can't load stock price for ${symbol}`} />\n      ) : (\n        <Charts constructorType={'stockChart'} options={options} />\n      )}\n      <hr />\n    </>\n  );\n}\n\nexport default React.memo(StockPnLTimeline);\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport Typography from 'antd/es/typography';\nimport Empty from 'antd/lib/empty';\nimport Switch from 'antd/lib/switch';\nimport React, { useMemo, useState } from 'react';\nimport { Box, Flex } from 'rebass';\nimport { trackEvent } from '../analytics';\nimport { Position } from '../types';\nimport { formatCurrency, formatMoney, getSymbol } from '../utils';\nimport Charts from './Charts';\nimport StockPnLTimeline from './StockPnLTimeline';\n\nexport function TopGainersLosers(props: {\n  isPrivateMode: boolean;\n  positions: Position[];\n  addon: any;\n  currencyCache: { [K: string]: number };\n}) {\n  const [sortByValue, setSortByValue] = useState(false);\n  const [pnlSymbol, setPnlSymbol] = useState<string>();\n\n  function getTopGainersLosers(gainers: boolean): Highcharts.SeriesColumnOptions[] {\n    return [\n      {\n        name: gainers ? 'Top Gainers' : 'Top Losers',\n        type: 'column',\n        events: {\n          click(event) {\n            if (event.point.name && pnlSymbol !== event.point.name) {\n              setTimeout(() => {\n                setPnlSymbol(event.point.name);\n              }, 50);\n            }\n          },\n        },\n        colorByPoint: true,\n        data: props.positions\n          .filter(\n            (position) => position.gain_percent && (gainers ? position.gain_percent > 0 : position.gain_percent <= 0),\n          )\n          .sort((a, b) => (sortByValue ? a.gain_amount - b.gain_amount : a.gain_percent - b.gain_percent))\n          .map((position) => {\n            return {\n              name: getSymbol(position.security),\n              y: sortByValue ? position.gain_amount : position.gain_percent * 100,\n              gainRatio: position.gain_percent * 100,\n              gain: props.isPrivateMode ? '-' : formatMoney(position.gain_amount),\n              gainDisplay: props.isPrivateMode ? '-' : formatCurrency(position.gain_amount, 1),\n            };\n          }),\n        tooltip: {\n          headerFormat: '',\n          pointFormat: `<table>\n            <tr><th colspan=\"2\" style=\"text-align:center\">{point.name}</th></tr>\n            <tr>\n              <td>P&L %</td>\n              <td style=\"text-align: right;\"><b>{point.gainRatio:.1f}%</b></td>\n            </tr>\n            <tr>\n              <td>P&L $</td>\n              <td style=\"text-align: right; padding-left: 16px;\"><b>{point.gain} CAD</b></td>\n            </tr>\n          </table>`,\n        },\n        dataLabels: {\n          enabled: true,\n          format: sortByValue ? '{point.gainDisplay}' : '{point.y:.1f}%',\n        },\n        showInLegend: false,\n      },\n    ];\n  }\n\n  function getOptions({\n    title,\n    yAxisTitle,\n    subtitle,\n    series,\n  }: {\n    series: Highcharts.SeriesColumnOptions[];\n    title?: string;\n    subtitle?: string;\n    yAxisTitle?: string;\n  }): Highcharts.Options {\n    return {\n      series,\n\n      tooltip: {\n        outside: true,\n\n        useHTML: true,\n        backgroundColor: '#FFF',\n        style: {\n          color: '#1F2A33',\n        },\n      },\n\n      title: {\n        text: title,\n      },\n      subtitle: {\n        text: subtitle,\n        style: {\n          color: '#1F2A33',\n        },\n      },\n      xAxis: {\n        type: 'category',\n        labels: {\n          rotation: -45,\n          style: {\n            fontSize: '13px',\n            fontFamily: 'Verdana, sans-serif',\n          },\n        },\n      },\n\n      yAxis: {\n        labels: {\n          enabled: sortByValue ? true : !props.isPrivateMode,\n        },\n        title: {\n          text: yAxisTitle,\n        },\n      },\n\n      plotOptions: {\n        pie: {\n          allowPointSelect: true,\n          cursor: 'pointer',\n          dataLabels: {\n            enabled: true,\n            format: '<b>{point.name}</b>: {point.percentage:.1f} %',\n            style: {\n              color: 'black',\n            },\n          },\n        },\n      },\n      responsive: {\n        rules: [\n          {\n            condition: {\n              maxWidth: 500,\n            },\n            chartOptions: {\n              chart: {\n                height: 300,\n              },\n              yAxis: {\n                labels: {\n                  enabled: false,\n                },\n              },\n              subtitle: {\n                text: undefined,\n              },\n              navigator: {\n                enabled: false,\n              },\n            },\n          },\n        ],\n      },\n    };\n  }\n\n  const { gainers, losers } = useMemo(() => {\n    return {\n      gainers: getOptions({\n        title: 'Top Gainers',\n        subtitle: '(click on a stock to view the P/L timeline)',\n        yAxisTitle: `Gain (${sortByValue ? '$' : '%'})`,\n        series: getTopGainersLosers(true),\n      }),\n      losers: getOptions({\n        title: 'Top Losers',\n        subtitle: '(click on a stock to view the P/L timeline)',\n        yAxisTitle: `Loss (${sortByValue ? '$' : '%'})`,\n        series: getTopGainersLosers(false),\n      }),\n    };\n  }, [sortByValue, props.isPrivateMode, props.positions]);\n\n  const renderStockPnLTimeline = () => {\n    if (!pnlSymbol) {\n      return <></>;\n    }\n    const position = props.positions.filter((position) => getSymbol(position.security) === pnlSymbol)[0];\n\n    if (!position) {\n      return <></>;\n    }\n\n    return (\n      <StockPnLTimeline\n        isPrivateMode={props.isPrivateMode}\n        symbol={pnlSymbol}\n        position={position}\n        addon={props.addon}\n        showValueChart={sortByValue}\n        currencyCache={props.currencyCache}\n      />\n    );\n  };\n\n  return !!props.positions.length ? (\n    <>\n      <Flex\n        mb={3}\n        mt={2}\n        width={1}\n        justifyContent=\"center\"\n        alignContent=\"center\"\n        justifyItems=\"center\"\n        alignItems=\"center\"\n      >\n        <Switch\n          checked={sortByValue}\n          onChange={(checked) => {\n            setSortByValue(checked);\n            trackEvent('gainers-show-by-pnl-value', { checked });\n          }}\n        />\n        <Box px={1} />\n        <Typography.Text strong mark={sortByValue} style={{ fontSize: 17 }}>\n          Show By P&amp;L Value ($)\n        </Typography.Text>\n      </Flex>\n\n      {!!(gainers.series && gainers.series[0] && (gainers.series[0] as any).data.length) && (\n        <Charts options={gainers} />\n      )}\n\n      {renderStockPnLTimeline()}\n\n      {!!(losers.series && losers.series[0] && (losers.series[0] as any).data.length) && <Charts options={losers} />}\n    </>\n  ) : (\n    <Empty description=\"No Holdings\" />\n  );\n}\n","/* eslint-disable react/jsx-no-target-blank */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport moment, { Moment } from 'moment';\nimport React, { useMemo } from 'react';\nimport { trackEvent } from '../analytics';\nimport { Portfolio } from '../types';\nimport { formatCurrency, getPreviousWeekday } from '../utils';\nimport Charts from './Charts';\nimport Collapsible from './Collapsible';\n\ntype Props = {\n  portfolios: Portfolio[];\n  isPrivateMode: boolean;\n};\n\nconst DATE_DISPLAY_FORMAT = 'MMM DD, YYYY';\n\nfunction YoYPnLChart(props: Props) {\n  const portfoliosByDate = props.portfolios.reduce((hash, portfolio) => {\n    hash[portfolio.date] = portfolio;\n    return hash;\n  }, {});\n\n  const getOptions = ({ series }: { series: any }): Highcharts.Options => {\n    return {\n      series,\n\n      tooltip: {\n        outside: true,\n\n        useHTML: true,\n        backgroundColor: '#FFF',\n        style: {\n          color: '#1F2A33',\n        },\n      },\n\n      title: {\n        text: 'P&L % Change Over Multiple Time Periods',\n      },\n      subtitle: {\n        text: 'This chart shows how your portfolio had performed in multiple time slices. This chart is inspired based on YoY growth. You might want to see the change in your P&L in the last few days, weeks, months, years etc.,',\n        style: {\n          color: '#1F2A33',\n        },\n      },\n      xAxis: {\n        type: 'category',\n        labels: {\n          // rotation: -45,\n          style: {\n            fontSize: '13px',\n            fontFamily: 'Verdana, sans-serif',\n          },\n        },\n      },\n\n      yAxis: {\n        labels: {\n          enabled: !props.isPrivateMode,\n          format: '{value}%',\n        },\n        title: {\n          text: 'P&L Change (%)',\n        },\n      },\n\n      plotOptions: {\n        column: {\n          zones: [\n            {\n              value: -0.00000001,\n              color: '#FF897C',\n            },\n            {\n              color: '#84C341',\n            },\n          ],\n        },\n      },\n      responsive: {\n        rules: [\n          {\n            condition: {\n              maxWidth: 500,\n            },\n            chartOptions: {\n              chart: {\n                height: 300,\n              },\n              yAxis: {\n                labels: {\n                  enabled: false,\n                },\n              },\n              subtitle: {\n                text: undefined,\n              },\n              navigator: {\n                enabled: false,\n              },\n            },\n          },\n        ],\n      },\n    };\n  };\n\n  const getNearestPortfolioDate = (date: string): Portfolio | undefined => {\n    return portfoliosByDate[date];\n  };\n\n  const getData = () => {\n    let currentPortfolio = props.portfolios[props.portfolios.length - 1];\n    const currentDate = moment().utc();\n    if (\n      currentDate.format('YYYY-MM-DD') === currentPortfolio.date &&\n      currentDate.hour() < 20 &&\n      props.portfolios.length > 1\n    ) {\n      currentPortfolio = props.portfolios[props.portfolios.length - 2];\n    }\n    if (moment(currentPortfolio.date).isoWeekday() > 5) {\n      const weekday = getPreviousWeekday(currentPortfolio.date).format('YYYY-MM-DD');\n      currentPortfolio = portfoliosByDate[weekday];\n    }\n\n    const lastDate = currentPortfolio.date;\n\n    const portfolioKeys = new Set();\n    const portfolioValues: {\n      id: string;\n      label: string;\n      date: Moment;\n      startPortfolio: Portfolio;\n      endPortfolio: Portfolio;\n    }[] = [];\n\n    [\n      { id: '1D', label: '1 Day', date: getPreviousWeekday(lastDate) },\n      { id: '1W', label: '1 Week', date: moment(lastDate).subtract(1, 'weeks') },\n      { id: '1M', label: '1 Month', date: moment(lastDate).subtract(1, 'months').add(1, 'days') },\n      { id: '3M', label: '3 Months', date: moment(lastDate).subtract(3, 'months').add(1, 'days') },\n      { id: '6M', label: '6 Months', date: moment(lastDate).subtract(6, 'months').add(1, 'days') },\n      { id: '1Y', label: '1 Year', date: moment(lastDate).subtract(1, 'years').add(1, 'days') },\n      { id: '2Y', label: '2 Years', date: moment(lastDate).subtract(2, 'years').add(1, 'days') },\n      { id: '3Y', label: '3 Years', date: moment(lastDate).subtract(3, 'years').add(1, 'days') },\n      { id: '5Y', label: '5 Years', date: moment(lastDate).subtract(5, 'years').add(1, 'days') },\n      { id: 'MTD', label: 'Month To Date', date: moment(lastDate).startOf('month') },\n      { id: 'WTD', label: 'Week To Date', date: moment(lastDate).startOf('week') },\n      { id: 'YTD', label: 'Year To Date', date: moment(lastDate).startOf('year') },\n    ].map((value) => {\n      const portfolio = getNearestPortfolioDate(value.date.format('YYYY-MM-DD'));\n      if (portfolio) {\n        const key = `${portfolio.date}-${currentPortfolio.date}`;\n        if (!portfolioKeys.has(key)) {\n          portfolioValues.push({\n            id: value.id,\n            label: value.label,\n            date: value.date,\n            startPortfolio: portfolio,\n            endPortfolio: currentPortfolio,\n          });\n          portfolioKeys.add(key);\n        }\n      }\n      return null;\n    });\n\n    [1, 2, 3, 4].forEach((value) => {\n      const year = moment(lastDate).subtract(value, 'years').year();\n      const startDate = moment().year(year).month('Jan').startOf('month');\n      const startPortfolio = getNearestPortfolioDate(startDate.format('YYYY-MM-DD'));\n      const endPortfolio = getNearestPortfolioDate(\n        moment().year(year).month('Dec').endOf('month').format('YYYY-MM-DD'),\n      );\n\n      if (startPortfolio && endPortfolio) {\n        const key = `${startPortfolio.date}-${endPortfolio.date}`;\n        if (!portfolioKeys.has(key)) {\n          portfolioValues.push({\n            id: `FY ${year}`,\n            label: `Jan - Dec ${year}`,\n            date: startDate,\n            startPortfolio,\n            endPortfolio,\n          });\n          portfolioKeys.add(key);\n        }\n      }\n    });\n\n    const data = portfolioValues\n      .filter((value) => value.endPortfolio.date !== value.startPortfolio.date)\n      .sort((a, b) => (a.date.valueOf() > b.date.valueOf() ? 1 : -1))\n      .map((value) => {\n        const startPnl = value.startPortfolio.value - value.startPortfolio.deposits;\n        const endPnl = value.endPortfolio.value - value.endPortfolio.deposits;\n\n        const startRatio = (startPnl / value.startPortfolio.deposits) * 100;\n        const endRatio = (endPnl / value.endPortfolio.deposits) * 100;\n\n        const changeValue = endPnl - startPnl;\n        const changeRatio = endRatio - startRatio;\n\n        return {\n          id: value.id,\n          label: value.label,\n          date: value.date.format(DATE_DISPLAY_FORMAT),\n          startDate: moment(value.startPortfolio.date).format(DATE_DISPLAY_FORMAT),\n          endDate: moment(value.endPortfolio.date).format(DATE_DISPLAY_FORMAT),\n          startPnl,\n          startRatio,\n          endPnl,\n          endRatio,\n          changeRatio,\n          changeValue,\n          color: changeRatio >= 0 ? 'green' : 'red',\n        };\n      });\n\n    const series: Highcharts.SeriesColumnOptions[] = [\n      {\n        name: 'PnL Change %',\n        type: 'column',\n        data: data.map((value) => ({\n          key: value.id,\n          name: value.id,\n          label: value.label,\n          y: value.changeRatio,\n\n          startDate: value.startDate,\n          startPnl: !props.isPrivateMode ? formatCurrency(value.startPnl, 2) : '-',\n          startRatio: value.startRatio,\n\n          endDate: value.endDate,\n          endPnl: !props.isPrivateMode ? formatCurrency(value.endPnl, 2) : '-',\n          endRatio: value.endRatio,\n\n          changeValue: !props.isPrivateMode ? `$${formatCurrency(value.changeValue, 1)}` : '-',\n        })),\n        point: {\n          events: {\n            mouseOver: (e: any) => {\n              trackEvent('mouse-over-point', {\n                chart: 'pnl-change-over-periods',\n                name: e && e.target ? e.target.key : null,\n              });\n            },\n          },\n        },\n        tooltip: {\n          headerFormat: '',\n          pointFormat: `<b style=\"font-size: 13px;\">{point.label} ({point.key})</b><br /><b style=\"color: {point.color};font-size: 14px;\">{point.y:.1f}% ({point.changeValue})</b><br /><hr />\n            {point.startDate}: <b>{point.startRatio:.2f}%</b> (\\${point.startPnl})<br />\n            {point.endDate}: <b>{point.endRatio:.2f}%</b> (\\${point.endPnl})<br />`,\n        },\n        dataLabels: {\n          enabled: true,\n          format: '{point.y:.1f}% ({point.changeValue})',\n        },\n        showInLegend: false,\n      },\n    ];\n\n    return series;\n  };\n\n  const options = useMemo(() => {\n    return getOptions({ series: getData() });\n  }, [props.isPrivateMode, props.portfolios]);\n\n  return (\n    <Collapsible title=\"P&L % Change Over Multiple Time Periods\">\n      <Charts options={options} />\n    </Collapsible>\n  );\n}\n\nexport default React.memo(YoYPnLChart);\n","export const CURRENCIES_API_RESPONSE = {\n  from: '2004-01-02T00:00:00.000Z',\n  to: '2021-05-15T00:00:00.000Z',\n  high: {\n    date: '2007-11-07T00:00:00.000Z',\n    value: 1.0905,\n  },\n  low: {\n    date: '2016-01-20T00:00:00.000Z',\n    value: 0.6854,\n  },\n  first: {\n    date: '2007-01-02T00:00:00.000Z',\n    value: 0.8584,\n  },\n  last: {\n    date: '2021-05-14T00:00:00.000Z',\n    value: 0.82583203,\n  },\n  difference: -0.03256797,\n  change: -0.0379,\n  data: [\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    0.8584,\n    0.8548,\n    0.8498,\n    0.8507,\n    0.8507,\n    0.8507,\n    0.8491,\n    0.8486,\n    0.8495,\n    0.8502,\n    0.8546,\n    0.8546,\n    0.8546,\n    0.8561,\n    0.8514,\n    0.852,\n    0.8509,\n    0.8532,\n    0.8532,\n    0.8532,\n    0.8504,\n    0.8463,\n    0.8457,\n    0.8487,\n    0.8476,\n    0.8476,\n    0.8476,\n    0.8463,\n    0.8465,\n    0.848,\n    0.8507,\n    0.8447,\n    0.8447,\n    0.8447,\n    0.8462,\n    0.846,\n    0.8437,\n    0.8437,\n    0.8519,\n    0.8519,\n    0.8519,\n    0.8514,\n    0.8557,\n    0.8576,\n    0.8592,\n    0.8593,\n    0.8593,\n    0.8593,\n    0.8592,\n    0.8548,\n    0.8612,\n    0.8609,\n    0.8632,\n    0.8632,\n    0.8632,\n    0.8621,\n    0.8592,\n    0.8547,\n    0.8538,\n    0.8508,\n    0.8508,\n    0.8508,\n    0.8467,\n    0.8503,\n    0.8485,\n    0.8474,\n    0.8538,\n    0.8538,\n    0.8538,\n    0.8553,\n    0.8557,\n    0.8508,\n    0.8505,\n    0.8518,\n    0.8518,\n    0.8518,\n    0.8509,\n    0.8592,\n    0.8637,\n    0.8639,\n    0.8621,\n    0.8621,\n    0.8621,\n    0.8601,\n    0.8633,\n    0.8636,\n    0.8637,\n    0.8674,\n    0.8674,\n    0.8674,\n    0.865,\n    0.8641,\n    0.8633,\n    0.8689,\n    0.8689,\n    0.8689,\n    0.8689,\n    0.8679,\n    0.8711,\n    0.8734,\n    0.88,\n    0.8787,\n    0.8787,\n    0.8787,\n    0.8842,\n    0.8854,\n    0.8859,\n    0.8861,\n    0.8907,\n    0.8907,\n    0.8907,\n    0.8907,\n    0.8906,\n    0.8973,\n    0.8927,\n    0.8966,\n    0.8966,\n    0.8966,\n    0.9036,\n    0.9018,\n    0.902,\n    0.9033,\n    0.9034,\n    0.9034,\n    0.9034,\n    0.9071,\n    0.9051,\n    0.9038,\n    0.9031,\n    0.8981,\n    0.8981,\n    0.8981,\n    0.9034,\n    0.911,\n    0.9067,\n    0.911,\n    0.9188,\n    0.9188,\n    0.9188,\n    0.9188,\n    0.9212,\n    0.9244,\n    0.9224,\n    0.9263,\n    0.9263,\n    0.9263,\n    0.9258,\n    0.9329,\n    0.9299,\n    0.9347,\n    0.943,\n    0.943,\n    0.943,\n    0.9452,\n    0.9429,\n    0.9446,\n    0.9422,\n    0.9414,\n    0.9414,\n    0.9414,\n    0.9422,\n    0.9403,\n    0.9375,\n    0.936,\n    0.9364,\n    0.9364,\n    0.9364,\n    0.9327,\n    0.9399,\n    0.9393,\n    0.932,\n    0.9367,\n    0.9367,\n    0.9367,\n    0.9334,\n    0.9352,\n    0.9332,\n    0.941,\n    0.9404,\n    0.9404,\n    0.9404,\n    0.9404,\n    0.9438,\n    0.9461,\n    0.9464,\n    0.9542,\n    0.9542,\n    0.9542,\n    0.9543,\n    0.9505,\n    0.9471,\n    0.9552,\n    0.9545,\n    0.9545,\n    0.9545,\n    0.9588,\n    0.9582,\n    0.9581,\n    0.9591,\n    0.9579,\n    0.9579,\n    0.9579,\n    0.9568,\n    0.9641,\n    0.9592,\n    0.9519,\n    0.9443,\n    0.9443,\n    0.9443,\n    0.9358,\n    0.9384,\n    0.9462,\n    0.9499,\n    0.9498,\n    0.9498,\n    0.9498,\n    0.9498,\n    0.9476,\n    0.9525,\n    0.9465,\n    0.9491,\n    0.9491,\n    0.9491,\n    0.9516,\n    0.9402,\n    0.9306,\n    0.9298,\n    0.9403,\n    0.9403,\n    0.9403,\n    0.945,\n    0.9433,\n    0.9415,\n    0.9463,\n    0.9501,\n    0.9501,\n    0.9501,\n    0.9509,\n    0.9421,\n    0.9441,\n    0.9463,\n    0.9466,\n    0.9466,\n    0.9466,\n    0.9466,\n    0.9527,\n    0.9517,\n    0.9494,\n    0.9482,\n    0.9482,\n    0.9482,\n    0.9494,\n    0.9587,\n    0.9642,\n    0.9684,\n    0.9715,\n    0.9715,\n    0.9715,\n    0.9701,\n    0.9769,\n    0.9855,\n    0.9984,\n    0.9991,\n    0.9991,\n    0.9991,\n    0.9988,\n    0.999,\n    0.9952,\n    0.9969,\n    1.0037,\n    1.0037,\n    1.0037,\n    1.0069,\n    0.9996,\n    1.0039,\n    1.0017,\n    1.0192,\n    1.0192,\n    1.0192,\n    1.0192,\n    1.0156,\n    1.019,\n    1.0264,\n    1.0268,\n    1.0268,\n    1.0268,\n    1.0248,\n    1.0226,\n    1.027,\n    1.0273,\n    1.0376,\n    1.0376,\n    1.0376,\n    1.0193,\n    1.0337,\n    1.0297,\n    1.0337,\n    1.0396,\n    1.0396,\n    1.0396,\n    1.0473,\n    1.0488,\n    1.0527,\n    1.0527,\n    1.0685,\n    1.0685,\n    1.0685,\n    1.0708,\n    1.0817,\n    1.0905,\n    1.0746,\n    1.0648,\n    1.0648,\n    1.0648,\n    1.0648,\n    1.037,\n    1.0409,\n    1.0196,\n    1.0279,\n    1.0279,\n    1.0279,\n    1.0166,\n    1.0152,\n    1.0106,\n    1.0156,\n    1.0117,\n    1.0117,\n    1.0117,\n    1.0125,\n    1.0035,\n    1.0093,\n    1.0072,\n    0.9992,\n    0.9992,\n    0.9992,\n    0.9995,\n    0.9897,\n    0.9871,\n    0.9878,\n    0.9947,\n    0.9947,\n    0.9947,\n    0.9898,\n    0.9893,\n    0.9894,\n    0.9788,\n    0.9865,\n    0.9865,\n    0.9865,\n    0.9928,\n    0.9896,\n    0.9944,\n    1.0017,\n    1.0056,\n    1.0056,\n    1.0056,\n    1.0131,\n    1.0131,\n    1.0131,\n    1.0193,\n    1.022,\n    1.022,\n    1.022,\n    1.012,\n    1.012,\n    1.0074,\n    1.0096,\n    1.0009,\n    1.0009,\n    1.0009,\n    0.9949,\n    1.0014,\n    0.9916,\n    0.9863,\n    0.9805,\n    0.9805,\n    0.9805,\n    0.9793,\n    0.9834,\n    0.9767,\n    0.9715,\n    0.9713,\n    0.9713,\n    0.9713,\n    0.9686,\n    0.9753,\n    0.9722,\n    0.9929,\n    0.9956,\n    0.9956,\n    0.9956,\n    0.9956,\n    1.0023,\n    1.0063,\n    0.9978,\n    1.0057,\n    1.0057,\n    1.0057,\n    1.0069,\n    0.9957,\n    0.9974,\n    0.9886,\n    1.0009,\n    1.0009,\n    1.0009,\n    0.9983,\n    1.0037,\n    1.0005,\n    1.003,\n    0.9984,\n    0.9984,\n    0.9984,\n    0.993,\n    0.9843,\n    0.9814,\n    0.9914,\n    0.9846,\n    0.9846,\n    0.9846,\n    1.002,\n    1.0143,\n    1.0227,\n    1.0289,\n    1.0206,\n    1.0206,\n    1.0206,\n    1.0132,\n    1.0044,\n    1.0103,\n    1.0154,\n    1.0086,\n    1.0086,\n    1.0086,\n    1.0024,\n    1.0047,\n    1.0104,\n    1.0161,\n    1.0132,\n    1.0132,\n    1.0132,\n    1.0022,\n    1.0062,\n    0.9972,\n    0.9738,\n    0.9738,\n    0.9738,\n    0.9738,\n    0.9801,\n    0.9826,\n    0.9823,\n    0.9855,\n    0.9822,\n    0.9822,\n    0.9822,\n    0.9729,\n    0.9737,\n    0.9826,\n    0.9919,\n    0.991,\n    0.991,\n    0.991,\n    0.9891,\n    0.9852,\n    0.981,\n    0.9824,\n    0.979,\n    0.979,\n    0.979,\n    0.9796,\n    0.9822,\n    0.9975,\n    0.9888,\n    0.9917,\n    0.9917,\n    0.9917,\n    0.9934,\n    0.9967,\n    0.9809,\n    0.987,\n    0.9839,\n    0.9839,\n    0.9839,\n    0.9843,\n    0.9871,\n    0.9906,\n    0.9815,\n    0.982,\n    0.982,\n    0.982,\n    0.9877,\n    0.9965,\n    0.9979,\n    0.9853,\n    0.9939,\n    0.9939,\n    0.9939,\n    0.9961,\n    0.9995,\n    0.998,\n    1.0002,\n    1.0032,\n    1.0032,\n    1.0032,\n    1.0032,\n    1.007,\n    1.0158,\n    1.0141,\n    1.0118,\n    1.0118,\n    1.0118,\n    1.0105,\n    1.0068,\n    1.0086,\n    1.013,\n    1.0058,\n    1.0058,\n    1.0058,\n    0.9987,\n    0.9949,\n    0.9857,\n    0.9806,\n    0.9816,\n    0.9816,\n    0.9816,\n    0.978,\n    0.9763,\n    0.9829,\n    0.9773,\n    0.9726,\n    0.9726,\n    0.9726,\n    0.9793,\n    0.9805,\n    0.9817,\n    0.987,\n    0.9831,\n    0.9831,\n    0.9831,\n    0.984,\n    0.9866,\n    0.9867,\n    0.988,\n    0.9878,\n    0.9878,\n    0.9878,\n    0.9817,\n    0.9817,\n    0.9873,\n    0.9798,\n    0.9847,\n    0.9847,\n    0.9847,\n    0.983,\n    0.9797,\n    0.9893,\n    0.9899,\n    0.9909,\n    0.9909,\n    0.9909,\n    0.9939,\n    0.998,\n    0.9983,\n    0.9984,\n    0.9947,\n    0.9947,\n    0.9947,\n    0.9979,\n    0.9916,\n    0.9913,\n    0.9887,\n    0.9839,\n    0.9839,\n    0.9839,\n    0.9783,\n    0.9746,\n    0.9764,\n    0.9749,\n    0.9753,\n    0.9753,\n    0.9753,\n    0.9753,\n    0.9591,\n    0.9551,\n    0.9514,\n    0.9365,\n    0.9365,\n    0.9365,\n    0.9367,\n    0.9398,\n    0.9384,\n    0.9416,\n    0.9426,\n    0.9426,\n    0.9426,\n    0.943,\n    0.9428,\n    0.9409,\n    0.9564,\n    0.9562,\n    0.9562,\n    0.9562,\n    0.9557,\n    0.9539,\n    0.9537,\n    0.95,\n    0.9411,\n    0.9411,\n    0.9411,\n    0.9411,\n    0.9345,\n    0.9428,\n    0.9397,\n    0.9398,\n    0.9398,\n    0.9398,\n    0.9349,\n    0.9364,\n    0.9313,\n    0.9263,\n    0.9426,\n    0.9426,\n    0.9426,\n    0.9366,\n    0.9316,\n    0.9274,\n    0.9345,\n    0.9551,\n    0.9551,\n    0.9551,\n    0.9632,\n    0.9657,\n    0.9661,\n    0.9673,\n    0.9663,\n    0.9663,\n    0.9663,\n    0.9621,\n    0.9435,\n    0.9426,\n    0.9286,\n    0.9249,\n    0.9249,\n    0.9249,\n    0.9069,\n    0.9043,\n    0.889,\n    0.8706,\n    0.8398,\n    0.8398,\n    0.8398,\n    0.8398,\n    0.8619,\n    0.8473,\n    0.8367,\n    0.8458,\n    0.8458,\n    0.8458,\n    0.835,\n    0.8195,\n    0.8001,\n    0.7954,\n    0.7854,\n    0.7854,\n    0.7854,\n    0.7734,\n    0.7726,\n    0.8125,\n    0.8183,\n    0.822,\n    0.822,\n    0.822,\n    0.8421,\n    0.8696,\n    0.8624,\n    0.8462,\n    0.845,\n    0.845,\n    0.845,\n    0.8374,\n    0.8374,\n    0.8133,\n    0.812,\n    0.8165,\n    0.8165,\n    0.8165,\n    0.8189,\n    0.8171,\n    0.8084,\n    0.7779,\n    0.778,\n    0.778,\n    0.778,\n    0.8163,\n    0.8191,\n    0.8102,\n    0.8111,\n    0.8083,\n    0.8083,\n    0.8083,\n    0.808,\n    0.8051,\n    0.7954,\n    0.7974,\n    0.7711,\n    0.7711,\n    0.7711,\n    0.7954,\n    0.7935,\n    0.7964,\n    0.8208,\n    0.8031,\n    0.8031,\n    0.8031,\n    0.8096,\n    0.8171,\n    0.8293,\n    0.8358,\n    0.8147,\n    0.8147,\n    0.8147,\n    0.8205,\n    0.822,\n    0.8247,\n    0.8247,\n    0.8247,\n    0.8247,\n    0.8247,\n    0.8219,\n    0.8185,\n    0.8166,\n    0.8166,\n    0.826,\n    0.826,\n    0.826,\n    0.8393,\n    0.8458,\n    0.8437,\n    0.8412,\n    0.8387,\n    0.8387,\n    0.8387,\n    0.828,\n    0.8159,\n    0.8076,\n    0.7921,\n    0.7973,\n    0.7973,\n    0.7973,\n    0.7987,\n    0.7933,\n    0.7849,\n    0.7918,\n    0.8013,\n    0.8013,\n    0.8013,\n    0.8193,\n    0.8131,\n    0.8266,\n    0.8205,\n    0.8088,\n    0.8088,\n    0.8088,\n    0.8062,\n    0.8106,\n    0.8153,\n    0.8128,\n    0.8072,\n    0.8072,\n    0.8072,\n    0.8202,\n    0.8109,\n    0.8049,\n    0.8015,\n    0.8043,\n    0.8043,\n    0.8043,\n    0.8041,\n    0.7936,\n    0.7939,\n    0.794,\n    0.7974,\n    0.7974,\n    0.7974,\n    0.7992,\n    0.8019,\n    0.7964,\n    0.8028,\n    0.787,\n    0.787,\n    0.787,\n    0.7758,\n    0.7729,\n    0.7834,\n    0.7766,\n    0.7774,\n    0.7774,\n    0.7774,\n    0.7692,\n    0.7814,\n    0.7808,\n    0.7749,\n    0.7844,\n    0.7844,\n    0.7844,\n    0.7859,\n    0.7863,\n    0.7862,\n    0.8114,\n    0.8083,\n    0.8083,\n    0.8083,\n    0.8115,\n    0.8155,\n    0.8167,\n    0.811,\n    0.807,\n    0.807,\n    0.807,\n    0.7943,\n    0.7935,\n    0.791,\n    0.8075,\n    0.8106,\n    0.8106,\n    0.8106,\n    0.8046,\n    0.8103,\n    0.8095,\n    0.8147,\n    0.8147,\n    0.8147,\n    0.8147,\n    0.8189,\n    0.827,\n    0.8307,\n    0.829,\n    0.8233,\n    0.8233,\n    0.8233,\n    0.8102,\n    0.8092,\n    0.8091,\n    0.8137,\n    0.8269,\n    0.8269,\n    0.8269,\n    0.826,\n    0.8171,\n    0.8328,\n    0.8375,\n    0.8423,\n    0.8423,\n    0.8423,\n    0.8488,\n    0.8503,\n    0.8524,\n    0.8537,\n    0.8635,\n    0.8635,\n    0.8635,\n    0.8627,\n    0.8565,\n    0.8559,\n    0.8527,\n    0.8506,\n    0.8506,\n    0.8506,\n    0.8506,\n    0.8644,\n    0.8746,\n    0.8761,\n    0.8902,\n    0.8902,\n    0.8902,\n    0.8883,\n    0.8929,\n    0.8993,\n    0.899,\n    0.9123,\n    0.9123,\n    0.9123,\n    0.9198,\n    0.9236,\n    0.9111,\n    0.9092,\n    0.8972,\n    0.8972,\n    0.8972,\n    0.8905,\n    0.9057,\n    0.9008,\n    0.9106,\n    0.8947,\n    0.8947,\n    0.8947,\n    0.8818,\n    0.8828,\n    0.8794,\n    0.8871,\n    0.886,\n    0.886,\n    0.886,\n    0.866,\n    0.8651,\n    0.8725,\n    0.8636,\n    0.8672,\n    0.8672,\n    0.8672,\n    0.8633,\n    0.8602,\n    0.8602,\n    0.8618,\n    0.8605,\n    0.8605,\n    0.8605,\n    0.8612,\n    0.8598,\n    0.858,\n    0.8604,\n    0.8584,\n    0.8584,\n    0.8584,\n    0.8666,\n    0.8797,\n    0.8933,\n    0.8952,\n    0.8954,\n    0.8954,\n    0.8954,\n    0.9036,\n    0.9027,\n    0.9107,\n    0.9202,\n    0.9223,\n    0.9223,\n    0.9223,\n    0.9229,\n    0.9191,\n    0.9184,\n    0.9246,\n    0.9268,\n    0.9268,\n    0.9268,\n    0.9268,\n    0.9358,\n    0.9328,\n    0.9295,\n    0.9228,\n    0.9228,\n    0.9228,\n    0.9218,\n    0.9101,\n    0.9195,\n    0.9215,\n    0.9115,\n    0.9115,\n    0.9115,\n    0.9026,\n    0.9061,\n    0.9117,\n    0.9173,\n    0.926,\n    0.926,\n    0.926,\n    0.9309,\n    0.9275,\n    0.9098,\n    0.9124,\n    0.9192,\n    0.9192,\n    0.9192,\n    0.9118,\n    0.9065,\n    0.9038,\n    0.9063,\n    0.9184,\n    0.9184,\n    0.9184,\n    0.9184,\n    0.929,\n    0.927,\n    0.9249,\n    0.9306,\n    0.9306,\n    0.9306,\n    0.9211,\n    0.9291,\n    0.9378,\n    0.9422,\n    0.9325,\n    0.9325,\n    0.9325,\n    0.9279,\n    0.9361,\n    0.9325,\n    0.92,\n    0.9162,\n    0.9162,\n    0.9162,\n    0.9207,\n    0.9199,\n    0.9327,\n    0.9282,\n    0.9221,\n    0.9221,\n    0.9221,\n    0.9296,\n    0.946,\n    0.9417,\n    0.9492,\n    0.9593,\n    0.9593,\n    0.9593,\n    0.9593,\n    0.9711,\n    0.9716,\n    0.9706,\n    0.9626,\n    0.9626,\n    0.9626,\n    0.9701,\n    0.9524,\n    0.9604,\n    0.9537,\n    0.9517,\n    0.9517,\n    0.9517,\n    0.942,\n    0.9391,\n    0.9297,\n    0.9341,\n    0.9282,\n    0.9282,\n    0.9282,\n    0.9308,\n    0.9342,\n    0.9392,\n    0.9389,\n    0.9328,\n    0.9328,\n    0.9328,\n    0.9464,\n    0.9508,\n    0.9508,\n    0.9507,\n    0.9517,\n    0.9517,\n    0.9517,\n    0.956,\n    0.9441,\n    0.9524,\n    0.94,\n    0.9349,\n    0.9349,\n    0.9349,\n    0.9478,\n    0.9427,\n    0.9523,\n    0.9438,\n    0.9413,\n    0.9413,\n    0.9413,\n    0.9457,\n    0.9586,\n    0.9553,\n    0.9486,\n    0.9508,\n    0.9508,\n    0.9508,\n    0.9514,\n    0.943,\n    0.9477,\n    0.9507,\n    0.9447,\n    0.9447,\n    0.9447,\n    0.944,\n    0.9416,\n    0.9452,\n    0.9334,\n    0.9365,\n    0.9365,\n    0.9365,\n    0.9439,\n    0.9473,\n    0.9546,\n    0.9535,\n    0.9535,\n    0.9535,\n    0.9535,\n    0.9535,\n    0.9611,\n    0.9501,\n    0.9555,\n    0.9555,\n    0.9555,\n    0.9555,\n    0.9636,\n    0.9641,\n    0.9677,\n    0.9661,\n    0.9667,\n    0.9667,\n    0.9667,\n    0.9693,\n    0.9639,\n    0.9688,\n    0.9746,\n    0.9721,\n    0.9721,\n    0.9721,\n    0.9755,\n    0.9682,\n    0.9544,\n    0.9536,\n    0.9466,\n    0.9466,\n    0.9466,\n    0.945,\n    0.9429,\n    0.9384,\n    0.9396,\n    0.939,\n    0.939,\n    0.939,\n    0.9387,\n    0.9428,\n    0.9426,\n    0.9316,\n    0.9324,\n    0.9324,\n    0.9324,\n    0.9353,\n    0.9355,\n    0.9371,\n    0.9503,\n    0.9496,\n    0.9496,\n    0.9496,\n    0.9542,\n    0.9591,\n    0.9565,\n    0.9568,\n    0.9597,\n    0.9597,\n    0.9597,\n    0.959,\n    0.9508,\n    0.9479,\n    0.9368,\n    0.95,\n    0.95,\n    0.95,\n    0.9596,\n    0.9684,\n    0.9721,\n    0.97,\n    0.9722,\n    0.9722,\n    0.9722,\n    0.9722,\n    0.9755,\n    0.9763,\n    0.9742,\n    0.9816,\n    0.9816,\n    0.9816,\n    0.9788,\n    0.9854,\n    0.9888,\n    0.9863,\n    0.9847,\n    0.9847,\n    0.9847,\n    0.9811,\n    0.9825,\n    0.974,\n    0.9815,\n    0.9723,\n    0.9723,\n    0.9723,\n    0.9801,\n    0.9815,\n    0.9846,\n    0.9926,\n    0.9926,\n    0.9926,\n    0.9926,\n    0.9975,\n    0.9999,\n    0.997,\n    0.998,\n    0.9945,\n    0.9945,\n    0.9945,\n    0.9985,\n    0.9972,\n    1.0039,\n    0.9986,\n    0.9854,\n    0.9854,\n    0.9854,\n    0.9803,\n    1.0014,\n    1.0016,\n    0.9987,\n    0.9973,\n    0.9973,\n    0.9973,\n    0.9991,\n    0.983,\n    0.9874,\n    0.9946,\n    0.9885,\n    0.9885,\n    0.9885,\n    0.9868,\n    0.9789,\n    0.9741,\n    0.9581,\n    0.9587,\n    0.9587,\n    0.9587,\n    0.976,\n    0.9809,\n    0.9803,\n    0.9853,\n    0.9667,\n    0.9667,\n    0.9667,\n    0.9611,\n    0.9681,\n    0.951,\n    0.9382,\n    0.9461,\n    0.9461,\n    0.9461,\n    0.9461,\n    0.9278,\n    0.9389,\n    0.9527,\n    0.9525,\n    0.9525,\n    0.9525,\n    0.9558,\n    0.9543,\n    0.9612,\n    0.9601,\n    0.9509,\n    0.9509,\n    0.9509,\n    0.9488,\n    0.9508,\n    0.962,\n    0.9674,\n    0.9678,\n    0.9678,\n    0.9678,\n    0.9753,\n    0.972,\n    0.9769,\n    0.9724,\n    0.9768,\n    0.9768,\n    0.9768,\n    0.9805,\n    0.9803,\n    0.9584,\n    0.9586,\n    0.9643,\n    0.9643,\n    0.9643,\n    0.9674,\n    0.9498,\n    0.9429,\n    0.9429,\n    0.9391,\n    0.9391,\n    0.9391,\n    0.9381,\n    0.9526,\n    0.9499,\n    0.9573,\n    0.9682,\n    0.9682,\n    0.9682,\n    0.9635,\n    0.9724,\n    0.9703,\n    0.9613,\n    0.949,\n    0.949,\n    0.949,\n    0.9471,\n    0.95,\n    0.959,\n    0.9638,\n    0.964,\n    0.964,\n    0.964,\n    0.9697,\n    0.9655,\n    0.9655,\n    0.9643,\n    0.9718,\n    0.9718,\n    0.9718,\n    0.9718,\n    0.978,\n    0.9818,\n    0.9844,\n    0.9734,\n    0.9734,\n    0.9734,\n    0.9741,\n    0.9664,\n    0.9564,\n    0.9584,\n    0.9614,\n    0.9614,\n    0.9614,\n    0.9586,\n    0.9697,\n    0.9719,\n    0.9616,\n    0.9524,\n    0.9524,\n    0.9524,\n    0.9511,\n    0.9467,\n    0.9397,\n    0.9482,\n    0.9482,\n    0.9482,\n    0.9482,\n    0.9468,\n    0.9399,\n    0.9527,\n    0.9506,\n    0.9605,\n    0.9605,\n    0.9605,\n    0.9605,\n    0.959,\n    0.9653,\n    0.9682,\n    0.9654,\n    0.9654,\n    0.9654,\n    0.9729,\n    0.9783,\n    0.9726,\n    0.9733,\n    0.968,\n    0.968,\n    0.968,\n    0.9727,\n    0.9695,\n    0.9683,\n    0.9699,\n    0.9744,\n    0.9744,\n    0.9744,\n    0.9747,\n    0.9703,\n    0.9709,\n    0.9711,\n    0.979,\n    0.979,\n    0.979,\n    0.9771,\n    0.9835,\n    0.9928,\n    0.9837,\n    0.9866,\n    0.9866,\n    0.9866,\n    0.9866,\n    0.9891,\n    0.997,\n    0.9964,\n    0.9893,\n    0.9893,\n    0.9893,\n    0.9853,\n    0.9711,\n    0.9761,\n    0.9772,\n    0.9744,\n    0.9744,\n    0.9744,\n    0.9806,\n    0.9782,\n    0.969,\n    0.9802,\n    0.9815,\n    0.9815,\n    0.9815,\n    0.9866,\n    0.9902,\n    0.9909,\n    0.9976,\n    0.9985,\n    0.9985,\n    0.9985,\n    0.9978,\n    0.9987,\n    0.9983,\n    0.9983,\n    0.9921,\n    0.9921,\n    0.9921,\n    0.9935,\n    0.9774,\n    0.9797,\n    0.9829,\n    0.9796,\n    0.9796,\n    0.9796,\n    0.9816,\n    0.9761,\n    0.9893,\n    0.9918,\n    0.9813,\n    0.9813,\n    0.9813,\n    0.9778,\n    0.9743,\n    0.9843,\n    0.9954,\n    0.994,\n    0.994,\n    0.994,\n    0.9942,\n    0.9908,\n    0.9902,\n    0.9903,\n    0.9908,\n    0.9908,\n    0.9908,\n    0.9954,\n    0.9959,\n    0.9965,\n    0.9944,\n    0.9878,\n    0.9878,\n    0.9878,\n    0.9825,\n    0.9828,\n    0.9854,\n    0.9906,\n    0.9936,\n    0.9936,\n    0.9936,\n    0.9936,\n    0.9936,\n    0.9997,\n    0.9991,\n    1.0054,\n    1.0054,\n    1.0054,\n    1.0054,\n    1.0014,\n    1.0053,\n    1.0046,\n    1.0066,\n    1.0066,\n    1.0066,\n    1.0076,\n    1.0098,\n    1.0138,\n    1.0134,\n    1.0097,\n    1.0097,\n    1.0097,\n    1.014,\n    1.009,\n    1.0061,\n    0.9999,\n    1.0055,\n    1.0055,\n    1.0055,\n    1.0066,\n    1.0014,\n    1.0047,\n    1.0059,\n    1.001,\n    1.001,\n    1.001,\n    0.9978,\n    1.0079,\n    1.0118,\n    1.01,\n    1.01,\n    1.01,\n    1.01,\n    1.0115,\n    1.0095,\n    1.0053,\n    1.0045,\n    1.0098,\n    1.0098,\n    1.0098,\n    1.0116,\n    1.0114,\n    1.0147,\n    1.0164,\n    1.0173,\n    1.0173,\n    1.0173,\n    1.0165,\n    1.0143,\n    1.0077,\n    1.0161,\n    1.0195,\n    1.0195,\n    1.0195,\n    1.0268,\n    1.0264,\n    1.0273,\n    1.026,\n    1.0294,\n    1.0294,\n    1.0294,\n    1.0269,\n    1.0295,\n    1.0324,\n    1.0276,\n    1.0273,\n    1.0273,\n    1.0273,\n    1.0247,\n    1.0173,\n    1.0083,\n    1.0116,\n    1.0158,\n    1.0158,\n    1.0158,\n    1.0231,\n    1.0238,\n    1.0182,\n    1.0259,\n    1.0227,\n    1.0227,\n    1.0227,\n    1.0248,\n    1.0245,\n    1.0294,\n    1.029,\n    1.0385,\n    1.0385,\n    1.0385,\n    1.0332,\n    1.0378,\n    1.043,\n    1.0424,\n    1.0454,\n    1.0454,\n    1.0454,\n    1.0474,\n    1.039,\n    1.0373,\n    1.0389,\n    1.04,\n    1.04,\n    1.04,\n    1.0319,\n    1.0448,\n    1.05,\n    1.0505,\n    1.0505,\n    1.0505,\n    1.0505,\n    1.0481,\n    1.0519,\n    1.0472,\n    1.0514,\n    1.0542,\n    1.0542,\n    1.0542,\n    1.0535,\n    1.0537,\n    1.0438,\n    1.0342,\n    1.0398,\n    1.0398,\n    1.0398,\n    1.0351,\n    1.0406,\n    1.0436,\n    1.0354,\n    1.03,\n    1.03,\n    1.03,\n    1.0306,\n    1.0232,\n    1.0285,\n    1.0308,\n    1.0272,\n    1.0272,\n    1.0272,\n    1.0272,\n    1.0231,\n    1.0241,\n    1.0195,\n    1.0234,\n    1.0234,\n    1.0234,\n    1.0241,\n    1.0322,\n    1.0294,\n    1.0211,\n    1.0235,\n    1.0235,\n    1.0235,\n    1.022,\n    1.0262,\n    1.0225,\n    1.0275,\n    1.0238,\n    1.0238,\n    1.0238,\n    1.0226,\n    1.0324,\n    1.0225,\n    1.016,\n    1.0207,\n    1.0207,\n    1.0207,\n    1.022,\n    1.0284,\n    1.0282,\n    1.0205,\n    1.0153,\n    1.0153,\n    1.0153,\n    1.0141,\n    1.0182,\n    1.0304,\n    1.037,\n    1.037,\n    1.037,\n    1.037,\n    1.0419,\n    1.0408,\n    1.0355,\n    1.0432,\n    1.0387,\n    1.0387,\n    1.0387,\n    1.0346,\n    1.0343,\n    1.0436,\n    1.0433,\n    1.0487,\n    1.0487,\n    1.0487,\n    1.04,\n    1.052,\n    1.055,\n    1.0581,\n    1.0524,\n    1.0524,\n    1.0524,\n    1.0583,\n    1.0583,\n    1.0555,\n    1.0544,\n    1.0484,\n    1.0484,\n    1.0484,\n    1.0484,\n    1.0438,\n    1.038,\n    1.0239,\n    1.016,\n    1.016,\n    1.016,\n    1.0111,\n    1.0108,\n    1.0091,\n    1.0109,\n    1.0122,\n    1.0122,\n    1.0122,\n    1.0165,\n    1.0186,\n    1.0183,\n    1.01,\n    1.0153,\n    1.0153,\n    1.0153,\n    1.01,\n    1.0125,\n    1.0121,\n    1.016,\n    1.0149,\n    1.0149,\n    1.0149,\n    1.0225,\n    1.0211,\n    1.0221,\n    1.0254,\n    1.0188,\n    1.0188,\n    1.0188,\n    1.0188,\n    1.0091,\n    1.0118,\n    1.0143,\n    1.0029,\n    1.0029,\n    1.0029,\n    1.0043,\n    1.0099,\n    1.0088,\n    1.0133,\n    1.019,\n    1.019,\n    1.019,\n    1.0103,\n    1.0077,\n    1.0014,\n    0.9681,\n    0.9726,\n    0.9726,\n    0.9726,\n    0.9672,\n    0.9813,\n    0.978,\n    0.9673,\n    0.9626,\n    0.9626,\n    0.9626,\n    0.9579,\n    0.943,\n    0.957,\n    0.9588,\n    0.9682,\n    0.9682,\n    0.9682,\n    0.9682,\n    0.9721,\n    0.9839,\n    0.9768,\n    0.9855,\n    0.9855,\n    0.9855,\n    0.985,\n    0.984,\n    0.9866,\n    0.9787,\n    0.991,\n    0.991,\n    0.991,\n    0.9961,\n    0.9858,\n    0.99,\n    1.0058,\n    1.0043,\n    1.0043,\n    1.0043,\n    1.0065,\n    0.9806,\n    0.9876,\n    0.9875,\n    0.9823,\n    0.9823,\n    0.9823,\n    0.9831,\n    0.9862,\n    0.983,\n    0.9814,\n    0.9814,\n    0.9814,\n    0.9814,\n    0.9825,\n    0.977,\n    0.9798,\n    0.9779,\n    0.9745,\n    0.9745,\n    0.9745,\n    0.9629,\n    0.9645,\n    0.9542,\n    0.9552,\n    0.9536,\n    0.9536,\n    0.9536,\n    0.9683,\n    0.9713,\n    0.9807,\n    0.9829,\n    0.9838,\n    0.9838,\n    0.9838,\n    0.9861,\n    0.9884,\n    0.9896,\n    0.9811,\n    0.9803,\n    0.9803,\n    0.9803,\n    0.9732,\n    0.9724,\n    0.961,\n    0.9674,\n    0.9626,\n    0.9626,\n    0.9626,\n    0.9649,\n    0.9723,\n    0.9722,\n    0.979,\n    0.9796,\n    0.9796,\n    0.9796,\n    0.9796,\n    0.9796,\n    0.9771,\n    0.9794,\n    0.9833,\n    0.9833,\n    0.9833,\n    0.9833,\n    0.9911,\n    0.9867,\n    0.9807,\n    0.9773,\n    0.9773,\n    0.9773,\n    0.9735,\n    0.9839,\n    0.9812,\n    0.9806,\n    0.9761,\n    0.9761,\n    0.9761,\n    0.9833,\n    0.987,\n    0.9862,\n    0.9906,\n    0.9859,\n    0.9859,\n    0.9859,\n    0.9921,\n    0.9904,\n    0.9881,\n    1.0014,\n    0.9987,\n    0.9987,\n    0.9987,\n    0.9968,\n    0.9948,\n    1.0029,\n    1.0015,\n    1.0055,\n    1.0055,\n    1.0055,\n    1.0046,\n    1.0052,\n    1.003,\n    1.0059,\n    0.9984,\n    0.9984,\n    0.9984,\n    1.0004,\n    1.0009,\n    1.0035,\n    1.0038,\n    1.003,\n    1.003,\n    1.003,\n    1.0077,\n    1.0045,\n    1,\n    1.0015,\n    1.0012,\n    1.0012,\n    1.0012,\n    1.0017,\n    1.0044,\n    1.0136,\n    1.0153,\n    1.0113,\n    1.0113,\n    1.0113,\n    1.0064,\n    0.9985,\n    1.0007,\n    1.008,\n    1.0106,\n    1.0106,\n    1.0106,\n    1.0065,\n    1.0096,\n    1.0086,\n    1.0072,\n    1.0087,\n    1.0087,\n    1.0087,\n    1.0121,\n    1.0067,\n    1.0069,\n    0.9997,\n    1.0018,\n    1.0018,\n    1.0018,\n    1.0079,\n    1.0073,\n    1.0016,\n    1.0001,\n    1.0009,\n    1.0009,\n    1.0009,\n    1.0084,\n    1.0091,\n    1.0038,\n    1.0073,\n    1.0073,\n    1.0073,\n    1.0073,\n    1.0028,\n    0.9972,\n    0.9961,\n    1.005,\n    1.0021,\n    1.0021,\n    1.0021,\n    0.9976,\n    1.0124,\n    1.0099,\n    1.0074,\n    1.009,\n    1.009,\n    1.009,\n    1.0064,\n    1.0118,\n    1.0154,\n    1.0162,\n    1.0197,\n    1.0197,\n    1.0197,\n    1.0117,\n    1.0164,\n    1.011,\n    1.0134,\n    1.0044,\n    1.0044,\n    1.0044,\n    1.0065,\n    1.0003,\n    0.9985,\n    0.9983,\n    1.0032,\n    1.0032,\n    1.0032,\n    0.9981,\n    0.9971,\n    0.9899,\n    0.9839,\n    0.9794,\n    0.9794,\n    0.9794,\n    0.9794,\n    0.9813,\n    0.9732,\n    0.9732,\n    0.9723,\n    0.9723,\n    0.9723,\n    0.9765,\n    0.9753,\n    0.9722,\n    0.9663,\n    0.9634,\n    0.9634,\n    0.9634,\n    0.9599,\n    0.9602,\n    0.9712,\n    0.9762,\n    0.9679,\n    0.9679,\n    0.9679,\n    0.9725,\n    0.9739,\n    0.9737,\n    0.9759,\n    0.9762,\n    0.9762,\n    0.9762,\n    0.9741,\n    0.9825,\n    0.981,\n    0.9755,\n    0.9747,\n    0.9747,\n    0.9747,\n    0.9706,\n    0.9742,\n    0.9749,\n    0.9678,\n    0.9813,\n    0.9813,\n    0.9813,\n    0.9813,\n    0.9878,\n    0.9874,\n    0.9871,\n    0.9805,\n    0.9805,\n    0.9805,\n    0.9792,\n    0.9801,\n    0.9809,\n    0.979,\n    0.9851,\n    0.9851,\n    0.9851,\n    0.9845,\n    0.9861,\n    0.9889,\n    0.9924,\n    0.9887,\n    0.9887,\n    0.9887,\n    0.9831,\n    0.9796,\n    0.9822,\n    0.99,\n    0.994,\n    0.994,\n    0.994,\n    0.9967,\n    0.9986,\n    0.9983,\n    0.9938,\n    1.0014,\n    1.0014,\n    1.0014,\n    1.0014,\n    1.0036,\n    1.0053,\n    1.0077,\n    1.0085,\n    1.0085,\n    1.0085,\n    1.0067,\n    1.0087,\n    1.011,\n    1.012,\n    1.0116,\n    1.0116,\n    1.0116,\n    1.0111,\n    1.0138,\n    1.0072,\n    1.0073,\n    1.0081,\n    1.0081,\n    1.0081,\n    1.0109,\n    1.0138,\n    1.0127,\n    1.0075,\n    1.0139,\n    1.0139,\n    1.0139,\n    1.0139,\n    1.0139,\n    1.0099,\n    1.0178,\n    1.0227,\n    1.0227,\n    1.0227,\n    1.0244,\n    1.0284,\n    1.0249,\n    1.0253,\n    1.0299,\n    1.0299,\n    1.0299,\n    1.0285,\n    1.0265,\n    1.0262,\n    1.0231,\n    1.0252,\n    1.0252,\n    1.0252,\n    1.0203,\n    1.0235,\n    1.0161,\n    1.019,\n    1.0166,\n    1.0166,\n    1.0166,\n    1.0176,\n    1.0174,\n    1.0132,\n    1.0181,\n    1.0243,\n    1.0243,\n    1.0243,\n    1.0243,\n    1.0217,\n    1.0218,\n    1.0223,\n    1.0205,\n    1.0205,\n    1.0205,\n    1.0221,\n    1.0148,\n    1.0208,\n    1.0196,\n    1.0068,\n    1.0068,\n    1.0068,\n    1.0062,\n    1.0066,\n    1.0054,\n    1.0058,\n    1.001,\n    1.001,\n    1.001,\n    0.9996,\n    1.0006,\n    1.0004,\n    1.0027,\n    1.0036,\n    1.0036,\n    1.0036,\n    1.0035,\n    1.0064,\n    1.0028,\n    1.0014,\n    0.9994,\n    0.9994,\n    0.9994,\n    0.9994,\n    0.9984,\n    0.9982,\n    0.9975,\n    0.9972,\n    0.9972,\n    0.9972,\n    1.0036,\n    1.003,\n    1.002,\n    1.0026,\n    1.0074,\n    1.0074,\n    1.0074,\n    1.0051,\n    1.0064,\n    1.0072,\n    1.007,\n    1.0068,\n    1.0068,\n    1.0068,\n    1.0073,\n    1.0074,\n    1.0089,\n    1.0091,\n    1.0111,\n    1.0111,\n    1.0111,\n    1.013,\n    1.0135,\n    1.0148,\n    1.0155,\n    1.0142,\n    1.0142,\n    1.0142,\n    1.0162,\n    1.0148,\n    1.0134,\n    1.0118,\n    1.0058,\n    1.0058,\n    1.0058,\n    1.0088,\n    1.0088,\n    1.0088,\n    1.0051,\n    1.0048,\n    1.0048,\n    1.0048,\n    1.0051,\n    1.0051,\n    1.0143,\n    1.0149,\n    1.0146,\n    1.0146,\n    1.0146,\n    1.0142,\n    1.0129,\n    1.0134,\n    1.0142,\n    1.0162,\n    1.0162,\n    1.0162,\n    1.0163,\n    1.0164,\n    1.0152,\n    1.0149,\n    1.0063,\n    1.0063,\n    1.0063,\n    1.0067,\n    1.0066,\n    1.0014,\n    0.9974,\n    0.9923,\n    0.9923,\n    0.9923,\n    0.9931,\n    0.9971,\n    0.9967,\n    1.0008,\n    1.0013,\n    1.0013,\n    1.0013,\n    1.0023,\n    1.0028,\n    1.004,\n    1.0007,\n    0.998,\n    0.998,\n    0.998,\n    0.9935,\n    0.9971,\n    0.998,\n    0.9992,\n    0.993,\n    0.993,\n    0.993,\n    0.993,\n    0.9883,\n    0.984,\n    0.9818,\n    0.9781,\n    0.9781,\n    0.9781,\n    0.9742,\n    0.9728,\n    0.9756,\n    0.9723,\n    0.9723,\n    0.9723,\n    0.9723,\n    0.9711,\n    0.9718,\n    0.9696,\n    0.9707,\n    0.9734,\n    0.9734,\n    0.9734,\n    0.9739,\n    0.9752,\n    0.9734,\n    0.9746,\n    0.9811,\n    0.9811,\n    0.9811,\n    0.9788,\n    0.9733,\n    0.9739,\n    0.9765,\n    0.978,\n    0.978,\n    0.978,\n    0.9787,\n    0.9837,\n    0.9833,\n    0.9846,\n    0.9846,\n    0.9846,\n    0.9846,\n    0.9836,\n    0.9854,\n    0.9868,\n    0.9863,\n    0.9813,\n    0.9813,\n    0.9813,\n    0.9806,\n    0.9841,\n    0.9852,\n    0.9894,\n    0.9868,\n    0.9868,\n    0.9868,\n    0.9798,\n    0.9775,\n    0.9745,\n    0.9751,\n    0.9743,\n    0.9743,\n    0.9743,\n    0.9744,\n    0.9748,\n    0.9737,\n    0.981,\n    0.9833,\n    0.9833,\n    0.9833,\n    0.9864,\n    0.9929,\n    0.9917,\n    0.9918,\n    0.9922,\n    0.9922,\n    0.9922,\n    0.9926,\n    0.9948,\n    0.9977,\n    0.9973,\n    0.9878,\n    0.9878,\n    0.9878,\n    0.9893,\n    0.9854,\n    0.983,\n    0.984,\n    0.9738,\n    0.9738,\n    0.9738,\n    0.9738,\n    0.973,\n    0.9678,\n    0.9699,\n    0.9687,\n    0.9687,\n    0.9687,\n    0.9681,\n    0.9642,\n    0.9643,\n    0.97,\n    0.9672,\n    0.9672,\n    0.9672,\n    0.9717,\n    0.9664,\n    0.9667,\n    0.9768,\n    0.9794,\n    0.9794,\n    0.9794,\n    0.9816,\n    0.9814,\n    0.9802,\n    0.9833,\n    0.9826,\n    0.9826,\n    0.9826,\n    0.9827,\n    0.9795,\n    0.9816,\n    0.9627,\n    0.9551,\n    0.9551,\n    0.9551,\n    0.9495,\n    0.9512,\n    0.9552,\n    0.9542,\n    0.9513,\n    0.9513,\n    0.9513,\n    0.9513,\n    0.9497,\n    0.9503,\n    0.9512,\n    0.9463,\n    0.9463,\n    0.9463,\n    0.9455,\n    0.9497,\n    0.9514,\n    0.9626,\n    0.9623,\n    0.9623,\n    0.9623,\n    0.9603,\n    0.9626,\n    0.9592,\n    0.9619,\n    0.965,\n    0.965,\n    0.965,\n    0.9674,\n    0.9705,\n    0.9711,\n    0.9725,\n    0.9717,\n    0.9717,\n    0.9717,\n    0.9746,\n    0.9715,\n    0.9721,\n    0.9673,\n    0.9632,\n    0.9632,\n    0.9632,\n    0.9632,\n    0.9635,\n    0.9601,\n    0.9664,\n    0.9706,\n    0.9706,\n    0.9706,\n    0.9712,\n    0.9667,\n    0.9688,\n    0.9671,\n    0.9667,\n    0.9667,\n    0.9667,\n    0.9677,\n    0.9638,\n    0.9576,\n    0.9513,\n    0.951,\n    0.951,\n    0.951,\n    0.9511,\n    0.9521,\n    0.9533,\n    0.95,\n    0.9476,\n    0.9476,\n    0.9476,\n    0.9476,\n    0.9494,\n    0.954,\n    0.9524,\n    0.9625,\n    0.9625,\n    0.9625,\n    0.9647,\n    0.9655,\n    0.9674,\n    0.969,\n    0.967,\n    0.967,\n    0.967,\n    0.9694,\n    0.9717,\n    0.9697,\n    0.9768,\n    0.9721,\n    0.9721,\n    0.9721,\n    0.9725,\n    0.9713,\n    0.9713,\n    0.9689,\n    0.9709,\n    0.9709,\n    0.9709,\n    0.9723,\n    0.9678,\n    0.9679,\n    0.9687,\n    0.9703,\n    0.9703,\n    0.9703,\n    0.9703,\n    0.968,\n    0.9618,\n    0.9631,\n    0.9629,\n    0.9629,\n    0.9629,\n    0.9629,\n    0.9642,\n    0.9667,\n    0.9723,\n    0.9721,\n    0.9721,\n    0.9721,\n    0.9712,\n    0.9724,\n    0.9629,\n    0.9595,\n    0.9569,\n    0.9569,\n    0.9569,\n    0.9574,\n    0.9574,\n    0.9564,\n    0.9589,\n    0.9576,\n    0.9576,\n    0.9576,\n    0.9602,\n    0.9571,\n    0.9598,\n    0.9577,\n    0.9536,\n    0.9536,\n    0.9536,\n    0.9536,\n    0.9522,\n    0.9553,\n    0.9527,\n    0.9562,\n    0.9562,\n    0.9562,\n    0.959,\n    0.9555,\n    0.9574,\n    0.9518,\n    0.9492,\n    0.9492,\n    0.9492,\n    0.9475,\n    0.9481,\n    0.9438,\n    0.944,\n    0.9435,\n    0.9435,\n    0.9435,\n    0.9404,\n    0.9379,\n    0.9349,\n    0.94,\n    0.9378,\n    0.9378,\n    0.9378,\n    0.9398,\n    0.9414,\n    0.9428,\n    0.9398,\n    0.9438,\n    0.9438,\n    0.9438,\n    0.9454,\n    0.9425,\n    0.9394,\n    0.9367,\n    0.9363,\n    0.9363,\n    0.9363,\n    0.9431,\n    0.9417,\n    0.9417,\n    0.9417,\n    0.9348,\n    0.9348,\n    0.9348,\n    0.9398,\n    0.9402,\n    0.9402,\n    0.9405,\n    0.9422,\n    0.9422,\n    0.9422,\n    0.9382,\n    0.9309,\n    0.9256,\n    0.9216,\n    0.916,\n    0.916,\n    0.916,\n    0.92,\n    0.9146,\n    0.9147,\n    0.9152,\n    0.9123,\n    0.9123,\n    0.9123,\n    0.9122,\n    0.9114,\n    0.9034,\n    0.8985,\n    0.904,\n    0.904,\n    0.904,\n    0.9011,\n    0.897,\n    0.897,\n    0.8952,\n    0.8994,\n    0.8994,\n    0.8994,\n    0.9029,\n    0.9046,\n    0.9008,\n    0.9037,\n    0.9076,\n    0.9076,\n    0.9076,\n    0.9051,\n    0.907,\n    0.9097,\n    0.9107,\n    0.9107,\n    0.9107,\n    0.9107,\n    0.9107,\n    0.913,\n    0.9054,\n    0.9006,\n    0.8986,\n    0.8986,\n    0.8986,\n    0.9043,\n    0.9022,\n    0.8995,\n    0.8977,\n    0.9029,\n    0.9029,\n    0.9029,\n    0.9016,\n    0.8998,\n    0.9049,\n    0.9119,\n    0.9018,\n    0.9018,\n    0.9018,\n    0.9005,\n    0.9021,\n    0.8983,\n    0.9044,\n    0.902,\n    0.902,\n    0.902,\n    0.9048,\n    0.902,\n    0.8945,\n    0.8888,\n    0.8933,\n    0.8933,\n    0.8933,\n    0.8915,\n    0.8948,\n    0.8974,\n    0.9044,\n    0.9038,\n    0.9038,\n    0.9038,\n    0.9047,\n    0.9069,\n    0.9065,\n    0.9062,\n    0.9109,\n    0.9109,\n    0.9109,\n    0.9115,\n    0.9156,\n    0.9172,\n    0.9164,\n    0.9124,\n    0.9124,\n    0.9124,\n    0.9116,\n    0.9107,\n    0.9068,\n    0.9093,\n    0.9093,\n    0.9093,\n    0.9093,\n    0.9074,\n    0.9069,\n    0.9065,\n    0.9069,\n    0.9056,\n    0.9056,\n    0.9056,\n    0.9064,\n    0.9122,\n    0.9127,\n    0.912,\n    0.9113,\n    0.9113,\n    0.9113,\n    0.9128,\n    0.9183,\n    0.9178,\n    0.921,\n    0.9174,\n    0.9174,\n    0.9174,\n    0.9185,\n    0.9181,\n    0.9185,\n    0.9185,\n    0.9189,\n    0.9189,\n    0.9189,\n    0.9189,\n    0.9173,\n    0.9147,\n    0.9176,\n    0.92,\n    0.92,\n    0.92,\n    0.9213,\n    0.92,\n    0.9202,\n    0.9228,\n    0.9202,\n    0.9202,\n    0.9202,\n    0.9179,\n    0.9162,\n    0.9143,\n    0.9146,\n    0.9144,\n    0.9144,\n    0.9144,\n    0.9166,\n    0.9162,\n    0.9202,\n    0.9216,\n    0.9201,\n    0.9201,\n    0.9201,\n    0.9217,\n    0.9215,\n    0.92,\n    0.9235,\n    0.9289,\n    0.9289,\n    0.9289,\n    0.9319,\n    0.9311,\n    0.9327,\n    0.934,\n    0.9367,\n    0.9367,\n    0.9367,\n    0.9367,\n    0.9367,\n    0.9375,\n    0.9404,\n    0.9399,\n    0.9399,\n    0.9399,\n    0.9379,\n    0.9369,\n    0.939,\n    0.9383,\n    0.9328,\n    0.9328,\n    0.9328,\n    0.9327,\n    0.9289,\n    0.9302,\n    0.93,\n    0.9314,\n    0.9314,\n    0.9314,\n    0.9314,\n    0.9307,\n    0.931,\n    0.9309,\n    0.9247,\n    0.9247,\n    0.9247,\n    0.9258,\n    0.9216,\n    0.9167,\n    0.9183,\n    0.9158,\n    0.9158,\n    0.9158,\n    0.9158,\n    0.9116,\n    0.9152,\n    0.9156,\n    0.9106,\n    0.9106,\n    0.9106,\n    0.9145,\n    0.9137,\n    0.915,\n    0.9165,\n    0.9166,\n    0.9166,\n    0.9166,\n    0.9184,\n    0.915,\n    0.9137,\n    0.9134,\n    0.9132,\n    0.9132,\n    0.9132,\n    0.9107,\n    0.9132,\n    0.9182,\n    0.9211,\n    0.921,\n    0.921,\n    0.921,\n    0.921,\n    0.9153,\n    0.9197,\n    0.9206,\n    0.9183,\n    0.9183,\n    0.9183,\n    0.9147,\n    0.9081,\n    0.9128,\n    0.9065,\n    0.9029,\n    0.9029,\n    0.9029,\n    0.9049,\n    0.9099,\n    0.9131,\n    0.9136,\n    0.9117,\n    0.9117,\n    0.9117,\n    0.9084,\n    0.9042,\n    0.9017,\n    0.9004,\n    0.8957,\n    0.8957,\n    0.8957,\n    0.8973,\n    0.8922,\n    0.8952,\n    0.8968,\n    0.8884,\n    0.8884,\n    0.8884,\n    0.8949,\n    0.8943,\n    0.8943,\n    0.8969,\n    0.8947,\n    0.8947,\n    0.8947,\n    0.8947,\n    0.89,\n    0.8858,\n    0.8876,\n    0.889,\n    0.889,\n    0.889,\n    0.8868,\n    0.8913,\n    0.8913,\n    0.8899,\n    0.8918,\n    0.8918,\n    0.8918,\n    0.8891,\n    0.8946,\n    0.898,\n    0.8934,\n    0.8869,\n    0.8869,\n    0.8869,\n    0.8834,\n    0.8774,\n    0.879,\n    0.8754,\n    0.8803,\n    0.8803,\n    0.8803,\n    0.8814,\n    0.8814,\n    0.8862,\n    0.8811,\n    0.8854,\n    0.8854,\n    0.8854,\n    0.8843,\n    0.8846,\n    0.8811,\n    0.884,\n    0.8898,\n    0.8898,\n    0.8898,\n    0.8864,\n    0.888,\n    0.89,\n    0.8824,\n    0.8751,\n    0.8751,\n    0.8751,\n    0.8815,\n    0.8772,\n    0.8803,\n    0.8793,\n    0.8754,\n    0.8754,\n    0.8754,\n    0.8717,\n    0.8755,\n    0.8709,\n    0.8669,\n    0.8666,\n    0.8666,\n    0.8666,\n    0.8598,\n    0.8602,\n    0.8599,\n    0.8625,\n    0.8599,\n    0.8599,\n    0.8599,\n    0.8589,\n    0.8601,\n    0.8604,\n    0.8604,\n    0.8604,\n    0.8604,\n    0.8604,\n    0.8597,\n    0.8621,\n    0.862,\n    0.862,\n    0.8527,\n    0.8527,\n    0.8527,\n    0.8484,\n    0.8472,\n    0.8438,\n    0.8466,\n    0.8434,\n    0.8434,\n    0.8434,\n    0.8382,\n    0.837,\n    0.8363,\n    0.8381,\n    0.8343,\n    0.8343,\n    0.8343,\n    0.8357,\n    0.8275,\n    0.8081,\n    0.8083,\n    0.8063,\n    0.8063,\n    0.8063,\n    0.8057,\n    0.8062,\n    0.8031,\n    0.7909,\n    0.7863,\n    0.7863,\n    0.7863,\n    0.795,\n    0.8028,\n    0.7968,\n    0.805,\n    0.7985,\n    0.7985,\n    0.7985,\n    0.8033,\n    0.7982,\n    0.7915,\n    0.8024,\n    0.8033,\n    0.8033,\n    0.8033,\n    0.8033,\n    0.8063,\n    0.8029,\n    0.8009,\n    0.7996,\n    0.7996,\n    0.7996,\n    0.7949,\n    0.7935,\n    0.8052,\n    0.8006,\n    0.7995,\n    0.7995,\n    0.7995,\n    0.7978,\n    0.8031,\n    0.8039,\n    0.8012,\n    0.7926,\n    0.7926,\n    0.7926,\n    0.7938,\n    0.7916,\n    0.7835,\n    0.788,\n    0.7811,\n    0.7811,\n    0.7811,\n    0.7834,\n    0.7831,\n    0.783,\n    0.7847,\n    0.794,\n    0.794,\n    0.794,\n    0.799,\n    0.7993,\n    0.7992,\n    0.8019,\n    0.7949,\n    0.7949,\n    0.7949,\n    0.7881,\n    0.7885,\n    0.7929,\n    0.7946,\n    0.7946,\n    0.7946,\n    0.7946,\n    0.8031,\n    0.8008,\n    0.7995,\n    0.7949,\n    0.794,\n    0.794,\n    0.794,\n    0.7935,\n    0.8014,\n    0.8078,\n    0.8193,\n    0.8177,\n    0.8177,\n    0.8177,\n    0.8194,\n    0.8147,\n    0.8163,\n    0.8232,\n    0.822,\n    0.822,\n    0.822,\n    0.8261,\n    0.8319,\n    0.8365,\n    0.8252,\n    0.8202,\n    0.8202,\n    0.8202,\n    0.8257,\n    0.8306,\n    0.8327,\n    0.8238,\n    0.8273,\n    0.8273,\n    0.8273,\n    0.8261,\n    0.8342,\n    0.8368,\n    0.8339,\n    0.8326,\n    0.8326,\n    0.8326,\n    0.8326,\n    0.8189,\n    0.8189,\n    0.8196,\n    0.8138,\n    0.8138,\n    0.8138,\n    0.8127,\n    0.8045,\n    0.801,\n    0.8015,\n    0.8022,\n    0.8022,\n    0.8022,\n    0.7968,\n    0.805,\n    0.8041,\n    0.8015,\n    0.8007,\n    0.8007,\n    0.8007,\n    0.8042,\n    0.8119,\n    0.8152,\n    0.8121,\n    0.8127,\n    0.8127,\n    0.8127,\n    0.8115,\n    0.811,\n    0.8125,\n    0.8191,\n    0.8144,\n    0.8144,\n    0.8144,\n    0.8138,\n    0.8112,\n    0.8055,\n    0.8099,\n    0.8091,\n    0.8091,\n    0.8091,\n    0.8076,\n    0.8017,\n    0.8017,\n    0.7958,\n    0.7955,\n    0.7955,\n    0.7955,\n    0.792,\n    0.7849,\n    0.786,\n    0.7856,\n    0.7865,\n    0.7865,\n    0.7865,\n    0.7836,\n    0.7844,\n    0.773,\n    0.7729,\n    0.7693,\n    0.7693,\n    0.7693,\n    0.7703,\n    0.7715,\n    0.7677,\n    0.7675,\n    0.7657,\n    0.7657,\n    0.7657,\n    0.7687,\n    0.7732,\n    0.7756,\n    0.7677,\n    0.7665,\n    0.7665,\n    0.7665,\n    0.7665,\n    0.7619,\n    0.7586,\n    0.7603,\n    0.7621,\n    0.7621,\n    0.7621,\n    0.7659,\n    0.7606,\n    0.7708,\n    0.7646,\n    0.7646,\n    0.7646,\n    0.7646,\n    0.7639,\n    0.7649,\n    0.7596,\n    0.7645,\n    0.7605,\n    0.7605,\n    0.7605,\n    0.7568,\n    0.7521,\n    0.7517,\n    0.7577,\n    0.7536,\n    0.7536,\n    0.7536,\n    0.7563,\n    0.7588,\n    0.7513,\n    0.7576,\n    0.7534,\n    0.7534,\n    0.7534,\n    0.7534,\n    0.7579,\n    0.7563,\n    0.7565,\n    0.7532,\n    0.7532,\n    0.7532,\n    0.7536,\n    0.754,\n    0.7588,\n    0.7584,\n    0.7606,\n    0.7606,\n    0.7606,\n    0.7547,\n    0.7531,\n    0.751,\n    0.749,\n    0.7505,\n    0.7505,\n    0.7505,\n    0.7484,\n    0.7455,\n    0.7466,\n    0.7552,\n    0.7568,\n    0.7568,\n    0.7568,\n    0.7642,\n    0.7659,\n    0.7671,\n    0.7682,\n    0.7724,\n    0.7724,\n    0.7724,\n    0.7724,\n    0.7701,\n    0.7703,\n    0.775,\n    0.7732,\n    0.7732,\n    0.7732,\n    0.7693,\n    0.7708,\n    0.7624,\n    0.7641,\n    0.7592,\n    0.7592,\n    0.7592,\n    0.7614,\n    0.7552,\n    0.7606,\n    0.7593,\n    0.7644,\n    0.7644,\n    0.7644,\n    0.7637,\n    0.763,\n    0.7596,\n    0.7595,\n    0.7514,\n    0.7514,\n    0.7514,\n    0.7533,\n    0.7542,\n    0.7542,\n    0.7515,\n    0.7501,\n    0.7501,\n    0.7501,\n    0.7489,\n    0.7505,\n    0.7489,\n    0.7537,\n    0.7497,\n    0.7497,\n    0.7497,\n    0.7487,\n    0.7514,\n    0.7518,\n    0.7519,\n    0.7485,\n    0.7485,\n    0.7485,\n    0.75,\n    0.7478,\n    0.7485,\n    0.7466,\n    0.7482,\n    0.7482,\n    0.7482,\n    0.7403,\n    0.7357,\n    0.7356,\n    0.7353,\n    0.7301,\n    0.7301,\n    0.7301,\n    0.7282,\n    0.7284,\n    0.7244,\n    0.7158,\n    0.7204,\n    0.7204,\n    0.7204,\n    0.7148,\n    0.7179,\n    0.7215,\n    0.7223,\n    0.7223,\n    0.7223,\n    0.7223,\n    0.7223,\n    0.722,\n    0.7203,\n    0.7225,\n    0.7225,\n    0.7225,\n    0.7225,\n    0.7159,\n    0.7146,\n    0.71,\n    0.7112,\n    0.7067,\n    0.7067,\n    0.7067,\n    0.704,\n    0.6997,\n    0.6996,\n    0.6957,\n    0.6883,\n    0.6883,\n    0.6883,\n    0.6893,\n    0.689,\n    0.6854,\n    0.7021,\n    0.7067,\n    0.7067,\n    0.7067,\n    0.7017,\n    0.7111,\n    0.7121,\n    0.7106,\n    0.7102,\n    0.7102,\n    0.7102,\n    0.714,\n    0.7123,\n    0.7222,\n    0.7285,\n    0.7207,\n    0.7207,\n    0.7207,\n    0.7183,\n    0.7236,\n    0.7159,\n    0.7179,\n    0.7228,\n    0.7228,\n    0.7228,\n    0.7228,\n    0.7215,\n    0.7308,\n    0.7288,\n    0.7246,\n    0.7246,\n    0.7246,\n    0.7307,\n    0.7251,\n    0.7264,\n    0.7366,\n    0.7382,\n    0.7382,\n    0.7382,\n    0.7395,\n    0.7459,\n    0.7425,\n    0.7459,\n    0.7498,\n    0.7498,\n    0.7498,\n    0.7518,\n    0.7469,\n    0.7555,\n    0.7478,\n    0.7567,\n    0.7567,\n    0.7567,\n    0.7523,\n    0.7486,\n    0.7484,\n    0.7702,\n    0.7703,\n    0.7703,\n    0.7703,\n    0.7652,\n    0.7662,\n    0.7574,\n    0.7536,\n    0.7536,\n    0.7536,\n    0.7536,\n    0.7585,\n    0.7602,\n    0.7715,\n    0.771,\n    0.7665,\n    0.7665,\n    0.7665,\n    0.7671,\n    0.7593,\n    0.7647,\n    0.7597,\n    0.7695,\n    0.7695,\n    0.7695,\n    0.7744,\n    0.7813,\n    0.7817,\n    0.7791,\n    0.7777,\n    0.7777,\n    0.7777,\n    0.7803,\n    0.7901,\n    0.792,\n    0.7868,\n    0.789,\n    0.789,\n    0.789,\n    0.7886,\n    0.7928,\n    0.7915,\n    0.7972,\n    0.7969,\n    0.7969,\n    0.7969,\n    0.7969,\n    0.7883,\n    0.7762,\n    0.778,\n    0.7739,\n    0.7739,\n    0.7739,\n    0.7696,\n    0.7717,\n    0.7791,\n    0.7777,\n    0.7728,\n    0.7728,\n    0.7728,\n    0.776,\n    0.7761,\n    0.7735,\n    0.7624,\n    0.7613,\n    0.7613,\n    0.7613,\n    0.7613,\n    0.7623,\n    0.7623,\n    0.7623,\n    0.7623,\n    0.7623,\n    0.7623,\n    0.7623,\n    0.7634,\n    0.7639,\n    0.7645,\n    0.7723,\n    0.7723,\n    0.7723,\n    0.7778,\n    0.7819,\n    0.7877,\n    0.7855,\n    0.7852,\n    0.7852,\n    0.7852,\n    0.7817,\n    0.7791,\n    0.7744,\n    0.7668,\n    0.7765,\n    0.7765,\n    0.7765,\n    0.7808,\n    0.7802,\n    0.78,\n    0.7842,\n    0.7721,\n    0.7721,\n    0.7721,\n    0.7646,\n    0.7639,\n    0.7698,\n    0.7687,\n    0.7687,\n    0.7687,\n    0.7687,\n    0.7786,\n    0.7723,\n    0.7689,\n    0.7702,\n    0.7649,\n    0.7649,\n    0.7649,\n    0.7618,\n    0.7683,\n    0.7713,\n    0.7743,\n    0.7707,\n    0.7707,\n    0.7707,\n    0.7702,\n    0.7675,\n    0.7669,\n    0.7659,\n    0.7588,\n    0.7588,\n    0.7588,\n    0.7561,\n    0.7571,\n    0.7564,\n    0.7593,\n    0.7668,\n    0.7668,\n    0.7668,\n    0.7668,\n    0.764,\n    0.7645,\n    0.7678,\n    0.7587,\n    0.7587,\n    0.7587,\n    0.7596,\n    0.7624,\n    0.7657,\n    0.7688,\n    0.7725,\n    0.7725,\n    0.7725,\n    0.7739,\n    0.7775,\n    0.7761,\n    0.7828,\n    0.7765,\n    0.7765,\n    0.7765,\n    0.7727,\n    0.7751,\n    0.7728,\n    0.773,\n    0.7724,\n    0.7724,\n    0.7724,\n    0.7681,\n    0.7648,\n    0.762,\n    0.763,\n    0.7693,\n    0.7693,\n    0.7693,\n    0.7693,\n    0.7786,\n    0.7755,\n    0.7747,\n    0.7673,\n    0.7673,\n    0.7673,\n    0.7647,\n    0.7595,\n    0.7582,\n    0.7607,\n    0.7568,\n    0.7568,\n    0.7568,\n    0.7587,\n    0.756,\n    0.7584,\n    0.7669,\n    0.7596,\n    0.7596,\n    0.7596,\n    0.7577,\n    0.7548,\n    0.7552,\n    0.7633,\n    0.7624,\n    0.7624,\n    0.7624,\n    0.7612,\n    0.7593,\n    0.7588,\n    0.757,\n    0.7517,\n    0.7517,\n    0.7517,\n    0.7517,\n    0.7553,\n    0.7532,\n    0.7565,\n    0.7594,\n    0.7594,\n    0.7594,\n    0.7612,\n    0.7631,\n    0.763,\n    0.7577,\n    0.7505,\n    0.7505,\n    0.7505,\n    0.7469,\n    0.75,\n    0.7485,\n    0.747,\n    0.7471,\n    0.7471,\n    0.7471,\n    0.7461,\n    0.7474,\n    0.7468,\n    0.747,\n    0.7456,\n    0.7456,\n    0.7456,\n    0.7472,\n    0.7498,\n    0.7458,\n    0.7421,\n    0.7421,\n    0.7421,\n    0.7421,\n    0.7363,\n    0.7425,\n    0.7454,\n    0.7447,\n    0.7397,\n    0.7397,\n    0.7397,\n    0.7442,\n    0.7438,\n    0.7424,\n    0.7415,\n    0.74,\n    0.74,\n    0.74,\n    0.7462,\n    0.7443,\n    0.7448,\n    0.7501,\n    0.752,\n    0.752,\n    0.752,\n    0.7535,\n    0.753,\n    0.7546,\n    0.7564,\n    0.7596,\n    0.7596,\n    0.7596,\n    0.761,\n    0.7622,\n    0.762,\n    0.7464,\n    0.7497,\n    0.7497,\n    0.7497,\n    0.7464,\n    0.7475,\n    0.7462,\n    0.7425,\n    0.7388,\n    0.7388,\n    0.7388,\n    0.7388,\n    0.7388,\n    0.7377,\n    0.7414,\n    0.7448,\n    0.7448,\n    0.7448,\n    0.7448,\n    0.74432,\n    0.75103,\n    0.75506,\n    0.75677,\n    0.7567,\n    0.7567,\n    0.75529,\n    0.75683,\n    0.75472,\n    0.76301,\n    0.76098,\n    0.7613,\n    0.7613,\n    0.76034,\n    0.76587,\n    0.76342,\n    0.75171,\n    0.74873,\n    0.7497,\n    0.7497,\n    0.75239,\n    0.75907,\n    0.76406,\n    0.76318,\n    0.76202,\n    0.7629,\n    0.7629,\n    0.76254,\n    0.76746,\n    0.76488,\n    0.76829,\n    0.76829,\n    0.769,\n    0.769,\n    0.76342,\n    0.75947,\n    0.76005,\n    0.76179,\n    0.76429,\n    0.7649,\n    0.7649,\n    0.76441,\n    0.76511,\n    0.76406,\n    0.76599,\n    0.76324,\n    0.7624,\n    0.7624,\n    0.7624,\n    0.76057,\n    0.75867,\n    0.76278,\n    0.76365,\n    0.7631,\n    0.7631,\n    0.76231,\n    0.75477,\n    0.74974,\n    0.74699,\n    0.74599,\n    0.7452,\n    0.7452,\n    0.74605,\n    0.74532,\n    0.74212,\n    0.74003,\n    0.74272,\n    0.7424,\n    0.7424,\n    0.74366,\n    0.74162,\n    0.74471,\n    0.75081,\n    0.74979,\n    0.748,\n    0.748,\n    0.74862,\n    0.75092,\n    0.7485,\n    0.74985,\n    0.74772,\n    0.7478,\n    0.7478,\n    0.74778,\n    0.74772,\n    0.74828,\n    0.75165,\n    0.75131,\n    0.7506,\n    0.7506,\n    0.74716,\n    0.74488,\n    0.74577,\n    0.74527,\n    0.74655,\n    0.7464,\n    0.7464,\n    0.74912,\n    0.75008,\n    0.75188,\n    0.7533,\n    0.7539,\n    0.7539,\n    0.7539,\n    0.7525,\n    0.74755,\n    0.74294,\n    0.74173,\n    0.74041,\n    0.7406,\n    0.7406,\n    0.74118,\n    0.73573,\n    0.73567,\n    0.734,\n    0.73196,\n    0.7318,\n    0.7318,\n    0.73206,\n    0.72886,\n    0.72918,\n    0.72764,\n    0.72929,\n    0.7318,\n    0.7318,\n    0.72966,\n    0.72844,\n    0.73142,\n    0.72955,\n    0.72918,\n    0.7318,\n    0.7318,\n    0.73308,\n    0.73551,\n    0.73454,\n    0.7347,\n    0.73833,\n    0.7318,\n    0.7318,\n    0.7318,\n    0.74129,\n    0.74294,\n    0.74333,\n    0.74316,\n    0.7318,\n    0.7318,\n    0.74372,\n    0.74245,\n    0.74074,\n    0.74074,\n    0.74052,\n    0.7318,\n    0.7318,\n    0.74167,\n    0.74289,\n    0.74118,\n    0.74058,\n    0.74333,\n    0.7318,\n    0.7318,\n    0.74543,\n    0.7554,\n    0.75706,\n    0.75284,\n    0.75574,\n    0.75574,\n    0.75574,\n    0.75643,\n    0.75375,\n    0.75131,\n    0.75523,\n    0.75369,\n    0.75369,\n    0.75369,\n    0.7554,\n    0.75827,\n    0.7657,\n    0.76834,\n    0.77059,\n    0.77059,\n    0.77059,\n    0.77059,\n    0.77274,\n    0.7703,\n    0.77244,\n    0.77598,\n    0.77598,\n    0.77598,\n    0.77592,\n    0.77399,\n    0.78162,\n    0.78474,\n    0.78914,\n    0.78914,\n    0.78914,\n    0.78933,\n    0.79189,\n    0.79397,\n    0.7946,\n    0.79688,\n    0.79688,\n    0.79688,\n    0.79923,\n    0.79955,\n    0.79968,\n    0.79872,\n    0.80341,\n    0.80341,\n    0.80341,\n    0.80096,\n    0.79911,\n    0.79618,\n    0.79504,\n    0.79126,\n    0.79126,\n    0.79126,\n    0.79126,\n    0.78914,\n    0.78709,\n    0.78672,\n    0.78833,\n    0.78833,\n    0.78833,\n    0.78709,\n    0.78401,\n    0.78746,\n    0.7907,\n    0.79453,\n    0.79453,\n    0.79453,\n    0.79523,\n    0.79669,\n    0.79592,\n    0.79815,\n    0.80051,\n    0.80051,\n    0.80051,\n    0.80115,\n    0.79904,\n    0.79334,\n    0.7977,\n    0.8071,\n    0.8071,\n    0.8071,\n    0.8071,\n    0.80834,\n    0.81539,\n    0.82318,\n    0.82427,\n    0.82427,\n    0.82427,\n    0.82454,\n    0.82244,\n    0.82055,\n    0.81981,\n    0.82088,\n    0.82088,\n    0.82088,\n    0.81713,\n    0.81453,\n    0.8148,\n    0.81044,\n    0.81189,\n    0.81189,\n    0.81189,\n    0.81031,\n    0.80841,\n    0.80567,\n    0.80321,\n    0.80128,\n    0.80128,\n    0.80128,\n    0.79968,\n    0.8,\n    0.80135,\n    0.79694,\n    0.79688,\n    0.79688,\n    0.79688,\n    0.79688,\n    0.79994,\n    0.80013,\n    0.8018,\n    0.80083,\n    0.80083,\n    0.80083,\n    0.79815,\n    0.79694,\n    0.8009,\n    0.80141,\n    0.79359,\n    0.79359,\n    0.79359,\n    0.79089,\n    0.78952,\n    0.78302,\n    0.77936,\n    0.77676,\n    0.77676,\n    0.77676,\n    0.779,\n    0.77561,\n    0.7761,\n    0.77991,\n    0.78345,\n    0.78345,\n    0.78345,\n    0.78456,\n    0.78217,\n    0.78561,\n    0.7879,\n    0.78846,\n    0.78846,\n    0.78846,\n    0.78846,\n    0.78536,\n    0.7829,\n    0.78462,\n    0.78229,\n    0.78229,\n    0.78229,\n    0.78168,\n    0.7826,\n    0.78561,\n    0.78647,\n    0.78691,\n    0.78691,\n    0.78691,\n    0.78524,\n    0.78082,\n    0.77803,\n    0.77592,\n    0.78561,\n    0.78561,\n    0.78561,\n    0.78771,\n    0.78864,\n    0.78388,\n    0.77863,\n    0.7776,\n    0.7776,\n    0.7776,\n    0.77797,\n    0.77694,\n    0.77809,\n    0.78094,\n    0.77918,\n    0.77918,\n    0.77918,\n    0.7773,\n    0.77604,\n    0.77869,\n    0.7853,\n    0.78376,\n    0.78376,\n    0.78376,\n    0.78376,\n    0.78376,\n    0.79108,\n    0.79441,\n    0.79713,\n    0.79713,\n    0.79713,\n    0.79713,\n    0.79891,\n    0.79789,\n    0.79904,\n    0.80626,\n    0.80626,\n    0.80626,\n    0.80502,\n    0.80295,\n    0.80026,\n    0.79777,\n    0.79974,\n    0.79974,\n    0.79974,\n    0.80502,\n    0.80522,\n    0.80483,\n    0.80347,\n    0.80263,\n    0.80263,\n    0.80263,\n    0.8027,\n    0.80295,\n    0.81031,\n    0.81149,\n    0.81162,\n    0.81162,\n    0.81162,\n    0.8107,\n    0.81116,\n    0.81347,\n    0.8138,\n    0.80775,\n    0.80775,\n    0.80775,\n    0.80109,\n    0.79808,\n    0.79707,\n    0.7946,\n    0.79308,\n    0.79308,\n    0.79308,\n    0.79346,\n    0.79365,\n    0.79605,\n    0.79605,\n    0.79745,\n    0.79745,\n    0.79745,\n    0.79745,\n    0.79227,\n    0.7892,\n    0.78684,\n    0.78939,\n    0.78939,\n    0.78939,\n    0.78827,\n    0.78493,\n    0.7807,\n    0.77815,\n    0.77574,\n    0.77574,\n    0.77574,\n    0.77059,\n    0.77531,\n    0.77531,\n    0.77357,\n    0.77882,\n    0.77882,\n    0.77882,\n    0.77942,\n    0.77447,\n    0.77256,\n    0.76734,\n    0.76406,\n    0.76406,\n    0.76406,\n    0.76458,\n    0.7647,\n    0.77172,\n    0.77471,\n    0.77785,\n    0.77785,\n    0.77785,\n    0.77604,\n    0.77706,\n    0.77507,\n    0.77555,\n    0.77555,\n    0.77555,\n    0.77555,\n    0.77471,\n    0.78052,\n    0.7807,\n    0.78272,\n    0.78345,\n    0.78345,\n    0.78345,\n    0.78561,\n    0.79252,\n    0.79466,\n    0.7939,\n    0.79384,\n    0.79384,\n    0.79384,\n    0.79498,\n    0.79669,\n    0.79277,\n    0.79158,\n    0.78567,\n    0.78567,\n    0.78567,\n    0.77924,\n    0.77954,\n    0.77706,\n    0.77748,\n    0.77779,\n    0.77779,\n    0.77779,\n    0.77906,\n    0.77718,\n    0.77815,\n    0.77748,\n    0.77754,\n    0.77754,\n    0.77754,\n    0.77736,\n    0.77143,\n    0.77785,\n    0.78278,\n    0.78253,\n    0.78253,\n    0.78253,\n    0.78278,\n    0.77664,\n    0.7807,\n    0.78119,\n    0.7764,\n    0.7764,\n    0.7764,\n    0.7764,\n    0.78211,\n    0.77664,\n    0.77574,\n    0.77077,\n    0.77077,\n    0.77077,\n    0.76917,\n    0.76805,\n    0.77537,\n    0.77232,\n    0.77137,\n    0.77137,\n    0.77137,\n    0.77351,\n    0.76965,\n    0.77441,\n    0.77089,\n    0.77149,\n    0.77149,\n    0.77149,\n    0.76965,\n    0.76899,\n    0.76994,\n    0.76617,\n    0.7589,\n    0.7589,\n    0.7589,\n    0.7589,\n    0.75324,\n    0.75182,\n    0.75131,\n    0.75143,\n    0.75143,\n    0.75143,\n    0.75171,\n    0.75154,\n    0.75148,\n    0.75375,\n    0.75942,\n    0.75942,\n    0.75942,\n    0.75942,\n    0.76023,\n    0.76086,\n    0.76167,\n    0.76307,\n    0.76307,\n    0.76307,\n    0.76353,\n    0.7619,\n    0.7604,\n    0.75953,\n    0.75924,\n    0.75924,\n    0.75924,\n    0.76121,\n    0.75832,\n    0.75735,\n    0.75443,\n    0.76092,\n    0.76092,\n    0.76092,\n    0.76011,\n    0.76005,\n    0.76406,\n    0.7654,\n    0.76558,\n    0.76558,\n    0.76558,\n    0.76799,\n    0.76823,\n    0.76911,\n    0.7684,\n    0.77024,\n    0.77024,\n    0.77024,\n    0.77024,\n    0.76787,\n    0.76617,\n    0.76687,\n    0.7626,\n    0.7626,\n    0.7626,\n    0.76127,\n    0.76412,\n    0.76115,\n    0.76034,\n    0.76447,\n    0.76447,\n    0.76447,\n    0.7654,\n    0.76711,\n    0.76829,\n    0.76552,\n    0.76711,\n    0.76711,\n    0.76711,\n    0.77006,\n    0.77417,\n    0.77334,\n    0.77042,\n    0.76599,\n    0.76599,\n    0.76599,\n    0.76599,\n    0.75861,\n    0.75844,\n    0.75827,\n    0.75965,\n    0.75965,\n    0.75965,\n    0.75971,\n    0.76098,\n    0.7684,\n    0.76941,\n    0.76728,\n    0.76728,\n    0.76728,\n    0.76811,\n    0.7697,\n    0.77238,\n    0.77489,\n    0.77423,\n    0.77423,\n    0.77423,\n    0.7731,\n    0.77232,\n    0.77071,\n    0.76658,\n    0.7725,\n    0.7725,\n    0.7725,\n    0.78107,\n    0.78021,\n    0.7793,\n    0.77519,\n    0.77304,\n    0.77304,\n    0.77304,\n    0.77304,\n    0.77131,\n    0.7697,\n    0.76699,\n    0.7674,\n    0.7674,\n    0.7674,\n    0.76965,\n    0.77292,\n    0.76959,\n    0.76587,\n    0.76313,\n    0.76313,\n    0.76313,\n    0.76307,\n    0.76348,\n    0.76752,\n    0.76476,\n    0.76289,\n    0.76289,\n    0.76289,\n    0.76225,\n    0.76144,\n    0.76092,\n    0.76406,\n    0.76307,\n    0.76307,\n    0.76307,\n    0.76359,\n    0.76161,\n    0.76359,\n    0.76254,\n    0.75723,\n    0.75723,\n    0.75723,\n    0.75723,\n    0.75523,\n    0.75523,\n    0.75746,\n    0.76023,\n    0.76023,\n    0.76023,\n    0.75861,\n    0.7542,\n    0.75358,\n    0.75729,\n    0.75597,\n    0.75597,\n    0.75597,\n    0.75586,\n    0.7525,\n    0.75177,\n    0.7533,\n    0.75182,\n    0.75182,\n    0.75182,\n    0.75809,\n    0.75649,\n    0.7489,\n    0.74605,\n    0.75194,\n    0.75194,\n    0.75194,\n    0.74744,\n    0.74616,\n    0.74929,\n    0.74856,\n    0.74744,\n    0.74744,\n    0.74744,\n    0.74632,\n    0.74327,\n    0.74349,\n    0.74102,\n    0.73714,\n    0.73714,\n    0.73714,\n    0.73589,\n    0.73589,\n    0.73589,\n    0.73308,\n    0.73325,\n    0.73325,\n    0.73325,\n    0.73303,\n    0.73303,\n    0.73529,\n    0.74069,\n    0.74571,\n    0.74571,\n    0.74571,\n    0.75115,\n    0.75228,\n    0.75637,\n    0.75563,\n    0.75563,\n    0.7542,\n    0.7542,\n    0.75364,\n    0.75381,\n    0.75483,\n    0.75222,\n    0.75415,\n    0.75415,\n    0.75415,\n    0.75205,\n    0.74963,\n    0.74918,\n    0.74901,\n    0.75438,\n    0.75438,\n    0.75438,\n    0.75415,\n    0.75381,\n    0.75804,\n    0.7608,\n    0.76365,\n    0.76365,\n    0.76365,\n    0.76179,\n    0.76138,\n    0.75815,\n    0.75273,\n    0.75358,\n    0.75358,\n    0.75358,\n    0.75222,\n    0.75483,\n    0.75529,\n    0.75199,\n    0.75381,\n    0.75381,\n    0.75381,\n    0.75381,\n    0.7554,\n    0.75936,\n    0.75781,\n    0.75913,\n    0.75913,\n    0.75913,\n    0.75907,\n    0.75786,\n    0.76075,\n    0.75936,\n    0.75415,\n    0.75415,\n    0.75415,\n    0.75092,\n    0.74934,\n    0.74516,\n    0.74416,\n    0.74505,\n    0.74505,\n    0.74505,\n    0.74549,\n    0.7475,\n    0.75041,\n    0.75036,\n    0.74951,\n    0.74951,\n    0.74951,\n    0.74934,\n    0.75233,\n    0.75092,\n    0.74817,\n    0.74566,\n    0.74566,\n    0.74566,\n    0.74516,\n    0.74705,\n    0.74549,\n    0.74466,\n    0.74833,\n    0.74833,\n    0.74833,\n    0.74979,\n    0.7494,\n    0.75053,\n    0.74867,\n    0.74705,\n    0.74705,\n    0.74705,\n    0.75047,\n    0.75098,\n    0.75041,\n    0.7475,\n    0.75024,\n    0.75024,\n    0.75024,\n    0.74884,\n    0.74845,\n    0.75008,\n    0.74727,\n    0.74727,\n    0.74727,\n    0.74727,\n    0.7489,\n    0.7451,\n    0.74212,\n    0.74113,\n    0.74294,\n    0.74294,\n    0.74294,\n    0.74316,\n    0.74499,\n    0.74538,\n    0.74283,\n    0.74466,\n    0.74466,\n    0.74466,\n    0.74316,\n    0.74206,\n    0.74261,\n    0.74167,\n    0.74527,\n    0.74527,\n    0.74527,\n    0.74311,\n    0.74245,\n    0.74344,\n    0.7441,\n    0.7425,\n    0.7425,\n    0.7425,\n    0.7425,\n    0.74555,\n    0.74571,\n    0.74195,\n    0.74366,\n    0.74366,\n    0.74366,\n    0.74394,\n    0.742,\n    0.73997,\n    0.74069,\n    0.73926,\n    0.73926,\n    0.73926,\n    0.74239,\n    0.74239,\n    0.74621,\n    0.7475,\n    0.75284,\n    0.75284,\n    0.75284,\n    0.75375,\n    0.75313,\n    0.75171,\n    0.75053,\n    0.7471,\n    0.7471,\n    0.7471,\n    0.74588,\n    0.7466,\n    0.74946,\n    0.75809,\n    0.75689,\n    0.75689,\n    0.75689,\n    0.75792,\n    0.75907,\n    0.76161,\n    0.76272,\n    0.76412,\n    0.76412,\n    0.76412,\n    0.76412,\n    0.76254,\n    0.76494,\n    0.76576,\n    0.76342,\n    0.76342,\n    0.76342,\n    0.76447,\n    0.76179,\n    0.76383,\n    0.76505,\n    0.76699,\n    0.76699,\n    0.76699,\n    0.76693,\n    0.76617,\n    0.76611,\n    0.76517,\n    0.76505,\n    0.76505,\n    0.76505,\n    0.76318,\n    0.76092,\n    0.76121,\n    0.76069,\n    0.75861,\n    0.75861,\n    0.75861,\n    0.75994,\n    0.75942,\n    0.76057,\n    0.7566,\n    0.75614,\n    0.75614,\n    0.75614,\n    0.75614,\n    0.75455,\n    0.75064,\n    0.75432,\n    0.75637,\n    0.75637,\n    0.75637,\n    0.75563,\n    0.75552,\n    0.7513,\n    0.75047,\n    0.75267,\n    0.75267,\n    0.75267,\n    0.75199,\n    0.75058,\n    0.75313,\n    0.75228,\n    0.75131,\n    0.75131,\n    0.75131,\n    0.75307,\n    0.75375,\n    0.75182,\n    0.75211,\n    0.75216,\n    0.75216,\n    0.75216,\n    0.75216,\n    0.74946,\n    0.75398,\n    0.75597,\n    0.75907,\n    0.75907,\n    0.75907,\n    0.76017,\n    0.76028,\n    0.75867,\n    0.75729,\n    0.75432,\n    0.75432,\n    0.75432,\n    0.75483,\n    0.75432,\n    0.75352,\n    0.7542,\n    0.7533,\n    0.7533,\n    0.7533,\n    0.75358,\n    0.75477,\n    0.75358,\n    0.75415,\n    0.75477,\n    0.75477,\n    0.75477,\n    0.75512,\n    0.75506,\n    0.75222,\n    0.75019,\n    0.75092,\n    0.75092,\n    0.75092,\n    0.75154,\n    0.75058,\n    0.75053,\n    0.75222,\n    0.75769,\n    0.75769,\n    0.75769,\n    0.75769,\n    0.75694,\n    0.75752,\n    0.76086,\n    0.7615,\n    0.7615,\n    0.7615,\n    0.76359,\n    0.76371,\n    0.76418,\n    0.76482,\n    0.76546,\n    0.76546,\n    0.76546,\n    0.76593,\n    0.76482,\n    0.76034,\n    0.75988,\n    0.76005,\n    0.76005,\n    0.76005,\n    0.76057,\n    0.76028,\n    0.75878,\n    0.75896,\n    0.75626,\n    0.75626,\n    0.75626,\n    0.75626,\n    0.75597,\n    0.75477,\n    0.75426,\n    0.7558,\n    0.7558,\n    0.7558,\n    0.75677,\n    0.75546,\n    0.75165,\n    0.75273,\n    0.75262,\n    0.75262,\n    0.75262,\n    0.75148,\n    0.75256,\n    0.75313,\n    0.75273,\n    0.7525,\n    0.7525,\n    0.7525,\n    0.75205,\n    0.75177,\n    0.75626,\n    0.75907,\n    0.75443,\n    0.75443,\n    0.75443,\n    0.75557,\n    0.75569,\n    0.75752,\n    0.75861,\n    0.75855,\n    0.75855,\n    0.75855,\n    0.76092,\n    0.75988,\n    0.76225,\n    0.76208,\n    0.75965,\n    0.75965,\n    0.75965,\n    0.75988,\n    0.76005,\n    0.76005,\n    0.76005,\n    0.76464,\n    0.76464,\n    0.76464,\n    0.76576,\n    0.76994,\n    0.76994,\n    0.76994,\n    0.76994,\n    0.76994,\n    0.76994,\n    0.76994,\n    0.76994,\n    0.7677,\n    0.76458,\n    0.76622,\n    0.76622,\n    0.76622,\n    0.7664,\n    0.76558,\n    0.76628,\n    0.76658,\n    0.76558,\n    0.76558,\n    0.76558,\n    0.76611,\n    0.76529,\n    0.76243,\n    0.76086,\n    0.76104,\n    0.76104,\n    0.76104,\n    0.75861,\n    0.75878,\n    0.75781,\n    0.7566,\n    0.75569,\n    0.75569,\n    0.75569,\n    0.7533,\n    0.75313,\n    0.7525,\n    0.75245,\n    0.7516,\n    0.7516,\n    0.7516,\n    0.75081,\n    0.75233,\n    0.75449,\n    0.75438,\n    0.75477,\n    0.75477,\n    0.75477,\n    0.75477,\n    0.75426,\n    0.7558,\n    0.75449,\n    0.7562,\n    0.7562,\n    0.7562,\n    0.75307,\n    0.75296,\n    0.75148,\n    0.74845,\n    0.74466,\n    0.74466,\n    0.74466,\n    0.74873,\n    0.74833,\n    0.74671,\n    0.74543,\n    0.7451,\n    0.7451,\n    0.7451,\n    0.7354,\n    0.72828,\n    0.72754,\n    0.72359,\n    0.71937,\n    0.71937,\n    0.71937,\n    0.71613,\n    0.70547,\n    0.68985,\n    0.68989,\n    0.69774,\n    0.69774,\n    0.69774,\n    0.69051,\n    0.69008,\n    0.6992,\n    0.71038,\n    0.71144,\n    0.71144,\n    0.71144,\n    0.70641,\n    0.70487,\n    0.70338,\n    0.70527,\n    0.70711,\n    0.70711,\n    0.70711,\n    0.70786,\n    0.715,\n    0.71256,\n    0.71505,\n    0.71505,\n    0.71505,\n    0.71505,\n    0.71757,\n    0.71922,\n    0.70992,\n    0.70811,\n    0.7124,\n    0.7124,\n    0.7124,\n    0.70992,\n    0.70408,\n    0.70646,\n    0.71109,\n    0.70972,\n    0.70972,\n    0.70972,\n    0.71159,\n    0.71541,\n    0.71829,\n    0.71891,\n    0.71093,\n    0.71093,\n    0.71093,\n    0.70998,\n    0.71266,\n    0.70801,\n    0.71352,\n    0.71767,\n    0.71767,\n    0.71767,\n    0.71367,\n    0.71352,\n    0.71058,\n    0.70972,\n    0.70952,\n    0.70952,\n    0.70952,\n    0.70952,\n    0.71979,\n    0.71984,\n    0.71762,\n    0.71352,\n    0.71352,\n    0.71352,\n    0.7151,\n    0.72443,\n    0.72569,\n    0.72653,\n    0.72532,\n    0.72532,\n    0.72532,\n    0.73368,\n    0.73992,\n    0.74052,\n    0.7403,\n    0.74466,\n    0.74466,\n    0.74466,\n    0.74722,\n    0.74499,\n    0.74683,\n    0.73784,\n    0.73551,\n    0.73551,\n    0.73551,\n    0.73508,\n    0.73757,\n    0.73774,\n    0.73589,\n    0.736,\n    0.736,\n    0.736,\n    0.73828,\n    0.73986,\n    0.73578,\n    0.73287,\n    0.73121,\n    0.73121,\n    0.73121,\n    0.73089,\n    0.73378,\n    0.73378,\n    0.73605,\n    0.73719,\n    0.73719,\n    0.73719,\n    0.73839,\n    0.73621,\n    0.73866,\n    0.73774,\n    0.73562,\n    0.73562,\n    0.73562,\n    0.73708,\n    0.73443,\n    0.73888,\n    0.73839,\n    0.7367,\n    0.7367,\n    0.7367,\n    0.73839,\n    0.74372,\n    0.74516,\n    0.74671,\n    0.7451,\n    0.7451,\n    0.7451,\n    0.7475,\n    0.74778,\n    0.7485,\n    0.74449,\n    0.74605,\n    0.74605,\n    0.74605,\n    0.74605,\n    0.74783,\n    0.75403,\n    0.75233,\n    0.74755,\n    0.74755,\n    0.74755,\n    0.74884,\n    0.75239,\n    0.75449,\n    0.7566,\n    0.75472,\n    0.75472,\n    0.75472,\n    0.75717,\n    0.7593,\n    0.75924,\n    0.75786,\n    0.75729,\n    0.75729,\n    0.75729,\n    0.75717,\n    0.75792,\n    0.76017,\n    0.76167,\n    0.76353,\n    0.76353,\n    0.76353,\n    0.76675,\n    0.76599,\n    0.76529,\n    0.76202,\n    0.764,\n    0.764,\n    0.764,\n    0.764,\n    0.75809,\n    0.75913,\n    0.75976,\n    0.75838,\n    0.75838,\n    0.75838,\n    0.75901,\n    0.75896,\n    0.75942,\n    0.75758,\n    0.75838,\n    0.75838,\n    0.75838,\n    0.75228,\n    0.75131,\n    0.74862,\n    0.74772,\n    0.74649,\n    0.74649,\n    0.74649,\n    0.7475,\n    0.74677,\n    0.74968,\n    0.75233,\n    0.75131,\n    0.75131,\n    0.75131,\n    0.75364,\n    0.75347,\n    0.7533,\n    0.75643,\n    0.76127,\n    0.76127,\n    0.76127,\n    0.76127,\n    0.76144,\n    0.76109,\n    0.75586,\n    0.75804,\n    0.75804,\n    0.75804,\n    0.75959,\n    0.76115,\n    0.76208,\n    0.76092,\n    0.76104,\n    0.76104,\n    0.76104,\n    0.75752,\n    0.75965,\n    0.75177,\n    0.74912,\n    0.75086,\n    0.75086,\n    0.75086,\n    0.75432,\n    0.76075,\n    0.76115,\n    0.76622,\n    0.76693,\n    0.76693,\n    0.76693,\n    0.77101,\n    0.76823,\n    0.76823,\n    0.76202,\n    0.76063,\n    0.76063,\n    0.76063,\n    0.76423,\n    0.76371,\n    0.76552,\n    0.76435,\n    0.76505,\n    0.76505,\n    0.76505,\n    0.76441,\n    0.76728,\n    0.76905,\n    0.76846,\n    0.77012,\n    0.77012,\n    0.77012,\n    0.77131,\n    0.77208,\n    0.77316,\n    0.7764,\n    0.78119,\n    0.78119,\n    0.78119,\n    0.78119,\n    0.78076,\n    0.78107,\n    0.7853,\n    0.78315,\n    0.78315,\n    0.78315,\n    0.78388,\n    0.78604,\n    0.78413,\n    0.78629,\n    0.78277886,\n    0.78277886,\n    0.78277886,\n    0.77827068,\n    0.77471336,\n    0.77784692,\n    0.77911959,\n    0.77911959,\n    0.77911959,\n    0.77911959,\n    0.77911959,\n    0.78088396,\n    0.78314668,\n    0.78542256,\n    0.78542256,\n    0.78542256,\n    0.78542256,\n    0.78425222,\n    0.78696781,\n    0.78833268,\n    0.78696781,\n    0.7870917,\n    0.7870917,\n    0.7870917,\n    0.78198311,\n    0.78455986,\n    0.78678206,\n    0.79026395,\n    0.78573112,\n    0.78573112,\n    0.78573112,\n    0.78357624,\n    0.78523753,\n    0.79013906,\n    0.79195375,\n    0.78641082,\n    0.78641082,\n    0.78641082,\n    0.7850526,\n    0.78727759,\n    0.78277886,\n    0.78064012,\n    0.78247261,\n    0.78247261,\n    0.78247261,\n    0.7797879,\n    0.78015291,\n    0.78228898,\n    0.77954475,\n    0.78265634,\n    0.78265634,\n    0.78265634,\n    0.78412922,\n    0.78622533,\n    0.78808417,\n    0.78827053,\n    0.78672016,\n    0.78672016,\n    0.78672016,\n    0.78672016,\n    0.78839483,\n    0.78665828,\n    0.78764965,\n    0.79276994,\n    0.79276994,\n    0.79276994,\n    0.79283279,\n    0.79346187,\n    0.79693975,\n    0.7980846,\n    0.78833268,\n    0.78833268,\n    0.78833268,\n    0.78982703,\n    0.79201647,\n    0.79170295,\n    0.79132706,\n    0.78939059,\n    0.78939059,\n    0.78939059,\n    0.78988942,\n    0.79145231,\n    0.79132706,\n    0.79611496,\n    0.80044825,\n    0.80044825,\n    0.80044825,\n    0.80128205,\n    0.80289041,\n    0.80224629,\n    0.80269706,\n    0.79961618,\n    0.79961618,\n    0.79961618,\n    0.79916886,\n    0.79605158,\n    0.79605158,\n    0.79327304,\n    0.79491256,\n    0.79491256,\n    0.79491256,\n    0.7940289,\n    0.79170295,\n    0.79522863,\n    0.79586152,\n    0.79586152,\n    0.79586152,\n    0.79586152,\n    0.79840319,\n    0.79624174,\n    0.79258144,\n    0.79497575,\n    0.79719388,\n    0.79719388,\n    0.79719388,\n    0.79662232,\n    0.79655887,\n    0.79789356,\n    0.7980846,\n    0.79980805,\n    0.79980805,\n    0.79980805,\n    0.79878585,\n    0.79541839,\n    0.7985307,\n    0.8,\n    0.80070462,\n    0.80070462,\n    0.80070462,\n    0.80567193,\n    0.80625655,\n    0.80925791,\n    0.81353726,\n    0.81400081,\n    0.81400081,\n    0.81400081,\n    0.81439857,\n    0.81201786,\n    0.8148631,\n    0.81967213,\n    0.82263903,\n    0.82263903,\n    0.82263903,\n    0.82678793,\n    0.82671958,\n    0.82671958,\n    0.82304527,\n    0.82583203,\n    0.82583203,\n  ],\n};\n","import { Addon } from '@wealthica/wealthica.js/index';\nimport { Badge } from 'antd';\nimport Typography from 'antd/es/typography';\nimport Text from 'antd/es/typography/Text';\nimport Alert from 'antd/es/alert';\nimport Empty from 'antd/lib/empty';\nimport Spin from 'antd/lib/spin';\nimport Tabs from 'antd/lib/tabs';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport React, { Component } from 'react';\nimport { Flex } from 'rebass';\nimport { initTracking, trackEvent } from './analytics';\nimport {\n  parseAccountTransactionsResponse,\n  parseCurrencyReponse,\n  parseInstitutionsResponse,\n  parsePortfolioResponse,\n  parsePositionsResponse,\n  parseSecurityTransactionsResponse,\n  parseTransactionsResponse,\n} from './api';\nimport './App.less';\nimport ChangeLog, { getNewChangeLogsCount, setChangeLogViewDate } from './components/ChangeLog';\nimport DepositVsPortfolioValueTimeline from './components/DepositsVsPortfolioValueTimeline';\nimport { Events } from './components/Events';\nimport HoldingsCharts from './components/HoldingsCharts';\nimport HoldingsTable from './components/HoldingsTable';\nimport News from './components/News';\nimport PnLStatistics from './components/PnLStatistics';\nimport PortfolioVisualizer from './components/PortfolioVisualizer';\nimport ProfitLossPercentageTimeline from './components/ProfitLossPercentageTimeline';\nimport ProfitLossTimeline from './components/ProfitLossTimeline';\nimport RealizedPnL from './components/RealizedPnL';\nimport { TopGainersLosers } from './components/TopGainersLosers';\nimport YoYPnLChart from './components/YoYPnLChart';\nimport { TRANSACTIONS_FROM_DATE } from './constants';\nimport { CURRENCIES_API_RESPONSE } from './mocks/currencies';\nimport { Account, AccountTransaction, Portfolio, Position, Transaction } from './types';\nimport { computeBookValue, getCurrencyInCAD, getSymbol } from './utils';\n\ntype State = {\n  addon: any;\n  currencyCache?: { [key: string]: number };\n  securityTransactions: Transaction[];\n  accountTransactions: AccountTransaction[];\n  portfolios: Portfolio[];\n  allPortfolios: Portfolio[];\n  positions: Position[];\n  accounts: Account[];\n  isLoaded: boolean;\n  privateMode: boolean;\n  fromDate: string;\n\n  options?: any;\n  isLoadingOnUpdate?: boolean;\n  newChangeLogsCount?: number;\n};\ntype Props = {};\n\nclass App extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      addon: this.getAddon(),\n      currencyCache: undefined,\n      securityTransactions: [],\n      accountTransactions: [],\n      portfolios: [],\n      allPortfolios: [],\n      positions: [],\n      accounts: [],\n      isLoaded: false,\n      privateMode: false,\n      fromDate: TRANSACTIONS_FROM_DATE,\n    };\n  }\n\n  getAddon = (): any => {\n    try {\n      const addon = new Addon({});\n\n      addon.on('init', (options) => {\n        console.debug('Addon initialization', options);\n        this.load(options);\n        initTracking(options.authUser && options.authUser.id);\n      });\n\n      addon.on('reload', () => {\n        // Start reloading\n        console.debug('Reload invoked!');\n      });\n\n      addon.on('update', (options) => {\n        // Update according to the received options\n        console.debug('Addon update - options: ', options);\n        this.setState({ isLoadingOnUpdate: true });\n        this.load(options);\n        trackEvent('update');\n      });\n\n      return addon;\n    } catch (error) {\n      console.warn('Falied to load the addon -- ', error);\n    }\n\n    return null;\n  };\n\n  loadCurrenciesCache() {\n    if (this.state.currencyCache) {\n      return null;\n    }\n\n    console.debug('Loading currencies data.');\n    return this.state.addon\n      .request({\n        method: 'GET',\n        endpoint: 'currencies/usd/history',\n        query: {\n          base: 'cad',\n        },\n      })\n      .then((response) => parseCurrencyReponse(response))\n      .catch((error) => {\n        console.error('Failed to load currency data.', error);\n      });\n  }\n\n  // loadGroupsCache() {\n  //   if (this.state.groupsCache) {\n  //     return;\n  //   }\n\n  //   console.debug('Loading groups data.');\n  //   return this.state.addon\n  //     .request({ method: 'GET', endpoint: 'groups' })\n  //     .then((response) => parseGroupNameByIdReponse(response))\n  //     .catch((error) => {\n  //       console.error('Failed to load groups data.', error);\n  //     });\n  // }\n\n  load = _.debounce(\n    (options: any) => {\n      this.loadData(options);\n    },\n    100,\n    { leading: true },\n  );\n\n  mergeOptions(options) {\n    if (!this.state.options) {\n      this.setState({ options });\n    }\n    const oldOptions = this.state.options;\n    Object.keys(options).forEach((key) => {\n      oldOptions[key] = options[key];\n    });\n    this.setState({ options: oldOptions });\n    return oldOptions;\n  }\n\n  async loadData(options) {\n    options = this.mergeOptions(options);\n    this.setState({ privateMode: options.privateMode, fromDate: options.fromDate });\n\n    const [positions, portfolioByDate, transactions, accounts, currencyCache] = await Promise.all([\n      this.loadPositions(options),\n      this.loadPortfolioData(options),\n      this.loadTransactions(options),\n      this.loadInstitutionsData(options),\n      this.loadCurrenciesCache(),\n    ]);\n\n    const _currencyCache = currencyCache || this.state.currencyCache;\n\n    console.debug('Loaded data', {\n      positions,\n      portfolioByDate,\n      transactions,\n      accounts,\n      currencyCache: _currencyCache,\n    });\n\n    this.computePortfolios(positions, portfolioByDate, transactions, accounts, _currencyCache);\n  }\n\n  computePortfolios = (\n    positions: Position[],\n    portfolioByDate: any,\n    transactions: any,\n    accounts: Account[],\n    currencyCache: any,\n  ) => {\n    const securityTransactions = parseSecurityTransactionsResponse(transactions, currencyCache);\n    const securityTransactionsBySymbol = securityTransactions.reduce((hash, transaction) => {\n      if (!hash[transaction.symbol]) {\n        hash[transaction.symbol] = [];\n      }\n      hash[transaction.symbol].push(transaction);\n      return hash;\n    }, {});\n\n    positions.forEach((position) => {\n      if (position.security.type === 'crypto') {\n        position.currency = position.security.currency = 'cad';\n        position.security.last_price = getCurrencyInCAD(\n          position.security?.last_date ? moment(position.security.last_date.slice(0, 10)) : moment(),\n          position.security.last_price,\n          currencyCache,\n        );\n      }\n      position.transactions = securityTransactionsBySymbol[getSymbol(position.security)] || [];\n      computeBookValue(position);\n    });\n\n    const transactionsByDate = parseTransactionsResponse(transactions, currencyCache, accounts);\n    const portfolioPerDay = Object.keys(portfolioByDate).reduce((hash, date) => {\n      const data = transactionsByDate[date] || {};\n      hash[date] = {\n        value: portfolioByDate[date],\n        deposit: data.deposit || 0,\n        withdrawal: data.withdrawal || 0,\n        income: data.income || 0,\n        interest: data.interest || 0,\n      };\n      return hash;\n    }, {});\n\n    const portfolios: Portfolio[] = [];\n\n    const sortedDates = Object.keys(portfolioPerDay).sort();\n    let deposits = Object.keys(transactionsByDate)\n      .filter((date) => date < sortedDates[0])\n      .reduce((totalDeposits, date) => {\n        const transaction = transactionsByDate[date];\n        totalDeposits += transaction.deposit - transaction.withdrawal;\n        return totalDeposits;\n      }, 0);\n\n    sortedDates.forEach((date) => {\n      const portfolio = portfolioPerDay[date];\n      deposits += portfolio.deposit - portfolio.withdrawal;\n      portfolios.push({\n        date: date,\n        value: portfolio.value,\n        deposits: deposits,\n      });\n    });\n\n    this.setState({\n      positions,\n      securityTransactions,\n      accountTransactions: parseAccountTransactionsResponse(transactions, currencyCache),\n\n      allPortfolios: portfolios,\n      portfolios: portfolios.filter((portfolio) => moment(portfolio.date).isoWeekday() <= 5),\n      isLoaded: true,\n      isLoadingOnUpdate: false,\n      accounts,\n      currencyCache,\n    });\n  };\n\n  loadPortfolioData(options) {\n    console.debug('Loading portfolio data.');\n    const query = {\n      from: options.fromDate,\n      to: options.toDate,\n      assets: false,\n      groups: options.groupsFilter,\n      institutions: options.institutionsFilter,\n      investments: options.investmentsFilter === 'all' ? null : options.investmentsFilter,\n    };\n    return this.state.addon\n      .request({\n        query,\n        method: 'GET',\n        endpoint: 'portfolio',\n      })\n      .then((response) => parsePortfolioResponse(response))\n      .catch((error) => {\n        console.error('Failed to load portfolio data.', error);\n      });\n  }\n\n  loadPositions(options) {\n    console.debug('Loading positions data.');\n    const query = {\n      assets: false,\n      groups: options.groupsFilter,\n      institutions: options.institutionsFilter,\n      investments: options.investmentsFilter === 'all' ? null : options.investmentsFilter,\n    };\n    return this.state.addon\n      .request({\n        query,\n        method: 'GET',\n        endpoint: 'positions',\n      })\n      .then((response) => parsePositionsResponse(response))\n      .catch((error) => {\n        console.error('Failed to load position data.', error);\n      });\n  }\n\n  loadInstitutionsData(options) {\n    console.debug('Loading institutions data..');\n    const query = {\n      assets: false,\n      groups: options.groupsFilter,\n      institutions: options.institutionsFilter,\n      investments: options.investmentsFilter === 'all' ? null : options.investmentsFilter,\n    };\n    return this.state.addon\n      .request({\n        query,\n        method: 'GET',\n        endpoint: 'institutions',\n      })\n      .then((response) =>\n        parseInstitutionsResponse(\n          response,\n          options.groupsFilter ? options.groupsFilter.split(',') : [],\n          options.institutionsFilter ? options.institutionsFilter.split(',') : [],\n        ),\n      )\n      .catch((error) => {\n        console.error('Failed to load institutions data.', error);\n      });\n  }\n\n  loadTransactions(options) {\n    console.debug('Loading transactions data.');\n    const fromDate = options.fromDate;\n    const query = {\n      assets: false,\n      from: fromDate && fromDate < TRANSACTIONS_FROM_DATE ? fromDate : TRANSACTIONS_FROM_DATE,\n      groups: options.groupsFilter,\n      institutions: options.institutionsFilter,\n      investments: options.investmentsFilter === 'all' ? null : options.investmentsFilter,\n    };\n    return this.state.addon\n      .request({\n        query,\n        method: 'GET',\n        endpoint: 'transactions',\n      })\n      .then((response) => response)\n      .catch((error) => {\n        console.error('Failed to load transactions data.', error);\n      });\n  }\n\n  async loadStaticPortfolioData() {\n    let institutionsData, portfolioData, positionsData, transactionsData;\n    if (process.env.NODE_ENV === 'development') {\n      [institutionsData, portfolioData, positionsData, transactionsData] = await Promise.all([\n        import('./mocks/institutions-prod').then((response) => response.DATA),\n        import('./mocks/portfolio-prod').then((response) => response.DATA),\n        import('./mocks/positions-prod').then((response) => response.DATA),\n        import('./mocks/transactions-prod').then((response) => response.DATA),\n      ]);\n    } else {\n      [institutionsData, portfolioData, positionsData, transactionsData] = await Promise.all([\n        import('./mocks/institutions').then((response) => response.DATA),\n        import('./mocks/portfolio').then((response) => response.DATA),\n        import('./mocks/positions').then((response) => response.DATA),\n        import('./mocks/transactions').then((response) => response.DATA),\n      ]);\n    }\n    const currencyCache = parseCurrencyReponse(CURRENCIES_API_RESPONSE);\n    const portfolioByDate = parsePortfolioResponse(portfolioData);\n    const positions = parsePositionsResponse(positionsData);\n    const accounts = parseInstitutionsResponse(institutionsData);\n\n    this.computePortfolios(positions, portfolioByDate, transactionsData, accounts, currencyCache);\n    console.debug('State:', this.state);\n  }\n\n  componentDidMount() {\n    if (!this.state.addon) {\n      setTimeout(() => this.loadStaticPortfolioData(), 0);\n    }\n\n    setTimeout(() => this.computeChangeLogCount(), 1000);\n  }\n\n  computeChangeLogCount() {\n    const newChangeLogsCount = getNewChangeLogsCount();\n    if (newChangeLogsCount) {\n      this.setState({ newChangeLogsCount });\n    }\n  }\n\n  render() {\n    return (\n      <Flex width={1} justifyContent=\"center\">\n        <div style={{ padding: 4, maxWidth: this.state.addon ? '100%' : 1100, width: '100%' }}>\n          <Flex py={2} width=\"100%\" justifyContent=\"center\">\n            <Alert\n              style={{ width: '100%' }}\n              type=\"warning\"\n              message=\"DEPRECATED\"\n              description={\n                <>\n                  <Typography.Text type=\"warning\" strong>\n                    This addon is deprecated and has been moved to a new URL.{' '}\n                  </Typography.Text>\n                  <Typography.Link\n                    href=\"https://github.com/mani-coder/wealthica-portfolio-addon#migration\"\n                    target=\"_blank\"\n                  >\n                    Read More about the migration guide.\n                  </Typography.Link>\n                </>\n              }\n              showIcon\n            />\n          </Flex>\n\n          {this.state.isLoaded ? (\n            <>\n              {!this.state.addon && (\n                <>\n                  <p\n                    style={{ fontWeight: 'bolder', textAlign: 'center', color: '#C00316', textDecoration: 'underline' }}\n                  >\n                    <img\n                      src=\"/wealthica-portfolio-addon/favicon.png\"\n                      alt=\"favicon\"\n                      width=\"50\"\n                      height=\"50\"\n                      style={{ backgroundColor: '#fff' }}\n                    />\n                    !! This is sample data !!\n                  </p>\n                </>\n              )}\n              {this.state.isLoadingOnUpdate && (\n                <Flex width={1} justifyContent=\"center\" alignItems=\"center\">\n                  <Spin size=\"small\" />\n                </Flex>\n              )}\n\n              <Tabs\n                defaultActiveKey=\"pnl\"\n                onChange={(tab) => {\n                  if (tab === 'change-log' && this.state.newChangeLogsCount) {\n                    setChangeLogViewDate();\n                    this.setState({ newChangeLogsCount: undefined });\n                  }\n                  trackEvent('tab-change', { tab });\n                }}\n                size=\"large\"\n              >\n                <Tabs.TabPane destroyInactiveTabPane forceRender tab=\"P&L Charts\" key=\"pnl\">\n                  <PnLStatistics\n                    portfolios={this.state.portfolios}\n                    privateMode={this.state.privateMode}\n                    positions={this.state.positions}\n                  />\n\n                  <DepositVsPortfolioValueTimeline\n                    portfolios={this.state.portfolios}\n                    isPrivateMode={this.state.privateMode}\n                  />\n\n                  <YoYPnLChart portfolios={this.state.allPortfolios} isPrivateMode={this.state.privateMode} />\n                  <ProfitLossPercentageTimeline\n                    portfolios={this.state.portfolios}\n                    isPrivateMode={this.state.privateMode}\n                  />\n                  <ProfitLossTimeline portfolios={this.state.portfolios} isPrivateMode={this.state.privateMode} />\n                </Tabs.TabPane>\n\n                <Tabs.TabPane forceRender tab=\"Holdings Analyzer\" key=\"holdings\">\n                  {!!this.state.positions.length ? (\n                    <>\n                      <HoldingsCharts\n                        currencyCache={this.state.currencyCache || {}}\n                        positions={this.state.positions}\n                        accounts={this.state.accounts}\n                        isPrivateMode={this.state.privateMode}\n                        addon={this.state.addon}\n                      />\n\n                      <PortfolioVisualizer positions={this.state.positions} />\n\n                      <HoldingsTable positions={this.state.positions} isPrivateMode={this.state.privateMode} />\n                    </>\n                  ) : (\n                    <Empty description=\"No Holdings\" />\n                  )}\n                </Tabs.TabPane>\n\n                <Tabs.TabPane destroyInactiveTabPane tab=\"Gainers/Losers\" key=\"gainers-losers\">\n                  <TopGainersLosers\n                    positions={this.state.positions}\n                    isPrivateMode={this.state.privateMode}\n                    addon={this.state.addon}\n                    currencyCache={this.state.currencyCache || {}}\n                  />\n                </Tabs.TabPane>\n\n                <Tabs.TabPane destroyInactiveTabPane tab=\"Realized P&L\" key=\"realized-pnl\">\n                  <RealizedPnL\n                    currencyCache={this.state.currencyCache || {}}\n                    fromDate={this.state.fromDate}\n                    transactions={this.state.securityTransactions}\n                    accountTransactions={this.state.accountTransactions}\n                    accounts={this.state.accounts}\n                    isPrivateMode={this.state.privateMode}\n                  />\n                </Tabs.TabPane>\n\n                <Tabs.TabPane destroyInactiveTabPane tab=\"News\" key=\"news\">\n                  <News positions={this.state.positions} />\n                </Tabs.TabPane>\n\n                <Tabs.TabPane destroyInactiveTabPane tab=\"Events\" key=\"events\">\n                  <Events positions={this.state.positions} />\n                </Tabs.TabPane>\n\n                <Tabs.TabPane\n                  destroyInactiveTabPane\n                  tab={\n                    <Badge count={this.state.newChangeLogsCount} overflowCount={9} offset={[15, 2]}>\n                      Latest Changes\n                    </Badge>\n                  }\n                  key=\"change-log\"\n                >\n                  <ChangeLog />\n                </Tabs.TabPane>\n              </Tabs>\n            </>\n          ) : (\n            <Flex justifyContent=\"center\" width={1}>\n              <Spin size=\"large\" />\n            </Flex>\n          )}\n\n          <br />\n          <hr />\n          <Typography.Title level={4} type=\"secondary\">\n            Disclaimer\n          </Typography.Title>\n          <Text type=\"secondary\">\n            This tool is simply a calculator of profit and loss using the deposits/withdrawals and daily portfolio\n            values. Results provided by this tool do not constitute investment advice. The makers of this tool are not\n            responsible for the consequences of any decisions or actions taken in reliance upon or as a result of the\n            information provided by this tool. The information on the add-on may contain errors or inaccuracies. The use\n            of the add-on is at your own risk and is provided without any warranty.\n            <br />\n            <br />\n            Please trade responsibly. For any issues or feedback, contact the developer at{' '}\n            <a href=\"mailto:k.elayamani@gmail.com\">k.elayamani@gmail.com</a> or create a github issue{' '}\n            <a\n              href=\"https://github.com/mani-coder/wealthica-portfolio-addon/issues/new?assignees=&labels=&template=custom.md&title=\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              here\n            </a>\n            .\n          </Text>\n          <br />\n          <hr />\n        </div>\n      </Flex>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}