(this["webpackJsonpwealthica-portfolio-addon"]=this["webpackJsonpwealthica-portfolio-addon"]||[]).push([[0],{288:function(t,e,n){},292:function(t,e,n){},568:function(t,e,n){"use strict";n.r(e);var l=n(0),a=n.n(l),o=n(32),i=n.n(o),r=(n(288),n(120)),u=n.n(r),s=n(31),c=n(193),d=n(137),p=n(138),h=n(163),b=n(161),f=n(267),m=n(575),y=n(26),g=n(144),v=n(65),j=n.n(v),x=n(53),O=n.n(x),A=n(67),k=n.n(A),w=n(54),P=n.n(w),C=n(14),D=n.n(C),M=n(17),_=!1;function S(t){window.analytics&&((_=!0)&&window.analytics.page(),E("init"),window.analytics.identify(t))}function E(t,e){_?window.analytics.track(t,e||{}):console.debug("[analytics] track event",{action:t,data:e})}var F=n(24),Y="YYYY-MM-DD",T="2010-01-01",L={buy:"#9948d1",sell:"#FF897C",income:"green",dividend:"green",distribution:"green",tax:"brown",fee:"brown"},Q="__pnl_change_log_date__",z=function(t){return D()(t.slice(0,10),Y)},I=function(t,e,n){var l=n["string"===typeof t?t:t.format(Y)];return l?e/l:e},B=function(t,e){return e=void 0===e||null===e?2:e,void 0===t||null===t?"-":t.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:e})};var R=function(t){return"".concat(t.symbol||t.name).concat("usd"===t.currency?"":".TO")},N=function(t,e){return t.reduce((function(t,n){return n[e]<t[e]?n:t}),t[0])},q=function(t,e){return t.reduce((function(t,n){return n[e]>t[e]?n:t}),t[0])},U=function(t,e){var n,l=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}];for(n=l.length-1;n>0&&!(Math.abs(t)>=l[n].value);n--);var a=(Math.abs(t)/l[n].value).toFixed(e).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+l[n].symbol;return t<0?"-".concat(a):a};function V(t){return"https://cors.bridged.cc/".concat(t)}function H(t){var e=D()(t),n=e.day(),l=1;return 0!==n&&1!==n||(l=n+2),e.subtract(l,"days")}var J=function(t){var e=z(t.from);return t.data.reduce((function(t,n){return n&&(t[e.format(Y)]=Number(n)),e.add(1,"days"),t}),{})},G=function(t,e,n){return t.filter((function(t){return!n||!n.length||n.includes(t.id)})).reduce((function(t,n){return t.concat(n.investments.filter((function(t){return(!e||!e.length||e.includes(t.group))&&!t.ignored})).map((function(t){return{id:t._id,institution:n.id,name:n.name,created_at:z(n.creation_date),type:(e=t.type?t.type:t.name&&t.name.includes("-")?t.name.split("-")[1].trim():t.name,(e=e?e.toUpperCase():"").includes("SRRSP")?"SRRSP":e.includes("RRSP")||e.includes("REGISTERED RETIREMENT SAVINGS PLAN")?"RRSP":e.includes("TFSA")||e.includes("TAX FREE SAVINGS PLAN")?"TFSA":e),group:t.group,cash:t.cash,value:t.value,currency_value:t.currency_value,currency:t.currency,positions:(t.positions||[]).map((function(t){return Object(F.a)(Object(F.a)({},t),{},{symbol:R(t.security)})}))};var e})))}),[])},W=function(t){var e=t.history.total,n=z(e.from);return e.data.reduce((function(t,e){return e&&(t[n.format(Y)]=Number(e)),n.add(1,"days"),t}),{})},K=function(t){return t.map((function(t){return t}))},Z=(n(292),n(273)),X=n.n(Z),$=n(272),tt=n.n($),et=n(72),nt=n.n(et),lt=n(271),at=n.n(lt),ot=n(162),it=n(2),rt=[{date:"2021-04-12",tab:"Gainers/Losers",title:"Stock Level P/L Ratio (%) & P/L Value ($) Timeline",description:"These new charts show the P/L timeline at a stock level based on your cost basis. You can access these charts in the Gainers/Losers tab by clicking on the stock.",images:["https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/stock-pnl-ratio-timeline_Rsh-BbaNk.png","https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/stock-pnl-value-timeline_d8yk4s7Zb.png","https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/stock-pnl-timeline-chart_xAEevDsMn.png"]},{date:"2021-04-11",tab:"Events",title:"Upcoming Earnings & Dividends dates for your holdings",description:"A new tab called Events has been added. This tab will show the upcoming earnings & dividend dates in a calendar.",images:["https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/events_CT25iZoKb.png"]},{date:"2021-04-10",tab:"News",title:"News articles related to your holdings from multiple sources",description:"A new tab called News has been added. This tab will list some of the recent news corresponding to your holdings. It also has a sentiment toggle.",images:["https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/news-all_-ezDjr1C1.png","https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/news-sentiment_WokC226oS.png"]},{date:"2021-04-05",tab:"Holdings Analyzer",title:"Holdings Composition Visualizer",description:'You can now visualize your holdings composition using multiple groups like currency, institution, accounts & account type. This is available under the "Holdings Analyzer" tab. You can now analyze your holdings composition for a specific group by clicking the buttons below the chart. By default a donut chart is displayed and you can hide the positions using the radio toggle below.',images:["https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/holdings-composition-1_UVfpFJBzK.png","https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/holdings-composition-2_oGAlHs6Fn.png","https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/holdings-composition-3_-6MNRFG8u.png"]},{date:"2021-04-02",tab:"Holdings Analyzer",title:"Portfolio Visualizer Tool Links",description:"Portfolio Visualizer (https://www.portfoliovisualizer.com/) is an online software platform for portfolio and investment analytics to help you make informed decisions when comparing and analyzing portfolios and investment products. We have added links to portfolio visualizer tools with your holdings and allocation populated so that you can just click and run the reports easily.",link:Object(it.jsx)(y.a.Link,{href:"https://www.portfoliovisualizer.com/",target:"_blank",children:"Portfolio Visualizer"}),images:["https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/portfolio-visualizer-1__UpG0quyW.png","https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/portfolio-visualizer-2_J54JNE5ON.png","https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/portfolio-visualizer-3_HOu1gLKPp.png"]},{date:"2021-03-31",tab:"Realized P&L",title:"Your realized/closed P/L aggregated by day/week/month/year & complete history",description:'If you are an active trader you would definitely want to keep track of your daily/weekly/monthly/yearly closed P/L. The new tab "Realized P&L" is exclusively added to simplify this usecase. You can see your closed/realized P/L aggregated by day/week/month/year. You can also see your closed/realized P/L transactions history with details.',images:["https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/realized-pnl-1_sbd3OZJL4.png","https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/realized-pnl-2_fHY3wBRDI.png","https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/realized-pnl-3_Lrlpbuenv.png"]},{date:"2021-03-23",tab:"Gainers/Losers",title:"View Gainers & Losers by P/L Value or Ratio",description:"You can now view the gainers & losers by P/L value in addition to P/L ratio. You can do this by using the new toggle in the Gainers/Losers tab.",images:["https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/show-by-pnl-value_GE8t6tOqe.png","https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/show-by-pnl-ratio_Q83tHPI5J.png"]},{date:"2021-03-20",title:"P/L Ratio (%) Change Developer Widget",description:"P/L Ratio (%) Change chart in the P/L charts is written as an elegant developer widget. The widget is submitted to wealthica team for publication. Incase you are interested in trying it out, click on the link below.",link:Object(it.jsx)(y.a.Link,{href:"https://github.com/mani-coder/wealthica-pnl-widget",target:"_blank",children:"P/L Ratio (%) Change Developer Widget"}),images:["https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/pnl-widget-2_NEbh-d-O6.png","https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/pnl-widget-1_q9ZHNXGdU.png"]},{date:"2021-03-05",tab:"P&L Charts",title:"P&L % Change Over Multiple Time Periods Chart",description:"You can now view your P/L ratio (%) change across multiple pre-defined time periods like 1D(1 day), WTD(Week To Date), MTD(Month To Date), 1M(1 Month), YTD(Year To Date), FY 2020(Jan 1 -Dec 31, 2020) in the P&L Charts tab.",images:["https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/pnl-yoy-chart_F_NqYoQNP.png"]},{date:"2021-03-01",tab:"Holdings Analyzer",title:"Visualize Your Holdings Using Column/Pie Charts",description:'In this new tab "Holdings Analyzer", you can visualize your holdings in a column & pie chart. You can also click on a stock and view the details and load the stock price timeline with your transactions plotted on it for better visualization. You can also use the search bar to select a stock in case your aren\'t able to locate your stock in the charts. There is also a holdings table, incase you want to skim through all your holdings in a table view.',images:["https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/holdings-analyzer-1_SvA5pT4QD.png","https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/holdings-analyzer-2_6dh19zbOd.png","https://ik.imagekit.io/manicoder/wealthica-portfolio-addon/holdings-table_D9eT7TaFo.png"]}];function ut(t){var e=t.index,n=t.style,l=rt[e];return Object(it.jsx)(M.a,{py:2,style:n,children:Object(it.jsxs)(at.a.Item,{children:[Object(it.jsx)(y.a.Title,{level:4,children:l.title}),Object(it.jsxs)(M.b,{pb:3,children:[Object(it.jsx)(nt.a,{color:"magenta",children:D()(l.date).format("MMM DD, YYYY")}),l.tab&&Object(it.jsxs)(nt.a,{color:"purple",children:[l.tab," Tab"]})]}),l.description&&Object(it.jsx)(y.a.Text,{children:l.description}),l.link&&Object(it.jsx)(M.a,{py:1,children:l.link}),Object(it.jsx)(M.b,{my:3,flexWrap:"wrap",children:l.images&&l.images.map((function(t){return Object(it.jsx)(M.a,{mr:2,mb:2,children:Object(it.jsx)(tt.a,{src:"".concat(t,"?tr=w-200,fo-auto"),width:200,preview:{src:t},fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg=="})})}))}),Object(it.jsx)(X.a,{})]},e)})}function st(){return Object(it.jsx)(M.a,{py:3,children:Object(it.jsx)(ot.b,{height:800,itemCount:rt.length,itemSize:function(){return 400},width:"100%",children:ut})})}function ct(){var t=function(t){try{return window.localStorage.getItem(t)}catch(e){}}(Q);if(t){var e=D()(t);return rt.filter((function(t){return D()(t.date).isSameOrAfter(e)})).length}return rt.length}function dt(){!function(t,e){try{window.localStorage.setItem(t,e)}catch(n){}}(Q,D()().format("YYYY-MM-DD"))}var pt=n(188),ht=n.n(pt),bt=n(274),ft=n.n(bt),mt=n(194),yt=n(275);function gt(t){var e=t.options;return e.series&&e.series.length?Object(it.jsx)(ht.a,{message:"Failed to load the chart!",children:Object(it.jsx)(ft.a,{highcharts:mt,constructorType:t.constructorType,options:e,oneToOne:!0})}):Object(it.jsx)(it.Fragment,{})}n.n(yt)()(mt);var vt=a.a.memo(gt),jt=n(195),xt=n.n(jt);function Ot(t){var e=t.title,n=t.closed,l=t.children;return Object(it.jsx)(M.a,{my:3,children:Object(it.jsx)(xt.a,{defaultActiveKey:n?[]:["1"],expandIconPosition:"right",children:Object(it.jsx)(xt.a.Panel,{header:e,style:{backgroundColor:"#f9f0ff"},children:l},"1")})})}function At(t){return Object(it.jsx)(Ot,{title:"Deposits Vs Portfolio Value Timeline",children:Object(it.jsx)(vt,{constructorType:"stockChart",options:{title:{text:"Deposits Vs Portfolio Value"},subtitle:{text:"This chart shows the total (deposits - withdrawals) made by you and the value of your portfolio value over the selected period of time.",style:{color:"#1F2A33"}},rangeSelector:{selected:1,enabled:!1,inputEnabled:!1},navigator:{enabled:!0},scrollbar:{enabled:!1},yAxis:[{crosshair:{dashStyle:"Dash"},labels:{enabled:!t.isPrivateMode},opposite:!1}],plotOptions:{},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.displayValue}</b><br/>',valueDecimals:2,split:!0},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{chart:{height:300},subtitle:{text:void 0},yAxis:[{labels:{enabled:!1}},{labels:{enabled:!1}}],navigator:{enabled:!1}}}]},series:[{id:"portfolio",name:"Portfolio",data:t.portfolios.map((function(e){return{x:D()(e.date).valueOf(),y:e.value,displayValue:t.isPrivateMode?"-":Number(e.value.toFixed(2)).toLocaleString()}})),type:"spline",color:"#4E2E5E"},{id:"deposits",name:"Deposits",data:t.portfolios.map((function(e){return{x:D()(e.date).valueOf(),y:e.deposits,displayValue:t.isPrivateMode?"-":Number(e.deposits.toFixed(2)).toLocaleString()}})),type:"spline",color:"#C00316"}]}})})}var kt=a.a.memo(At),wt=n(110),Pt=n.n(wt),Ct=n(80),Dt=n.n(Ct),Mt=n(197),_t=n(276),St=n.n(_t);function Et(t){var e=t.positions,n=Object(l.useState)(),a=Object(s.a)(n,2),o=a[0],i=a[1],r=Object(l.useState)(!1),u=Object(s.a)(r,2),c=u[0],d=u[1],p=Object(l.useState)(D()().startOf("month")),h=Object(s.a)(p,2),b=h[0],f=h[1],m=Object(l.useMemo)((function(){return{start:D()().startOf("month").subtract(1,"month"),end:D()().endOf("month").add(1,"year")}}),[]);Object(l.useEffect)((function(){var t=e.filter((function(t){var e=t.security.symbol||t.security.name;return!(e.includes("-")||e.includes("."))})).map((function(t){return t.security.symbol})).join(",");if(t.length){var n=V("https://portfolio.nasdaq.com/api/portfolio/getPortfolioEvents/?fromDate=".concat(b.format("YYYY-MM-DD"),"&toDate=").concat(b.clone().endOf("month").format("YYYY-MM-DD"),"&tickers=").concat(t));d(!0),fetch(n,{cache:"force-cache",method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){t&&i({dividends:t.dividends,earnings:t.earnings})})).catch((function(t){return console.info("Failed to load events.",t)})).finally((function(){return d(!1)}))}}),[e,b]);var g=Object(l.useMemo)((function(){if(!o)return{};var t=o.earnings.reduce((function(t,e){var n=D()(e.date).format("YYYY-MM-DD"),l=t[n];return l||(l=[],t[n]=l),l.push({ticker:e.ticker,name:e.company,type:"earning"}),t}),{});return o.dividends.reduce((function(t,e){return["exDate","payDate","recDate"].forEach((function(n){if(e[n]){var l=D()(e[n]).format("YYYY-MM-DD"),a=t[l];a||(a=[],t[l]=a),a.push({ticker:e.ticker,name:e.company,type:"exDate"===n?"ex-dividend":"payDate"===n?"pay-dividend":"rec-dividend"})}})),t}),t)}),[o]);return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(y.a.Title,{level:3,style:{textAlign:"center"},children:"Earnings & Dividends"}),Object(it.jsx)(St.a,{value:b,validRange:[D()().startOf("month"),D()().endOf("month").add(1,"year")],dateCellRender:function(t){var e=g[t.format("YYYY-MM-DD")];return e&&e.length?Object(it.jsx)(M.b,{flexWrap:"wrap",children:e.map((function(t){return Object(it.jsx)(M.a,{mr:1,mb:1,children:Object(it.jsxs)(nt.a,{color:"earning"===t.type?"magenta":"ex-dividend"===t.type?"blue":"pay-dividend"===t.type?"green":"geekblue",children:["earning"===t.type?"":"ex-dividend"===t.type?"ED: ":"pay-dividend"===t.type?"PD: ":"RD: ",t.ticker]})},t.ticker)}))}):Object(it.jsx)(it.Fragment,{})},headerRender:function(){return Object(it.jsxs)(M.a,{children:[Object(it.jsxs)(M.b,{justifyContent:"space-between",alignItems:"center",children:[Object(it.jsx)(Mt.a,{loading:c,disabled:b.isSameOrBefore(m.start),type:"primary",icon:Object(it.jsx)(Pt.a,{}),onClick:function(){f(b.subtract(1,"month").clone())},children:"Prev Month"}),Object(it.jsxs)(y.a.Title,{level:3,children:[b.format("MMMM YYYY")," ",c&&Object(it.jsx)(O.a,{})]}),Object(it.jsxs)(Mt.a,{loading:c,disabled:b.clone().endOf("month").isSameOrAfter(m.end),type:"primary",onClick:function(){f(b.add(1,"month").clone())},children:["Next Month ",Object(it.jsx)(Dt.a,{})]})]}),Object(it.jsxs)(M.b,{my:2,justifyContent:"center",children:[Object(it.jsx)(nt.a,{color:"magenta",children:"Earning"}),Object(it.jsx)(nt.a,{color:"blue",children:"ED: Ex-Dividend"}),Object(it.jsx)(nt.a,{color:"green",children:"PD: Pay Dividend"}),Object(it.jsx)(nt.a,{color:"geekblue",children:"RD: Record Dividend"})]})]})}})]})}var Ft=n(100),Yt=n(198),Tt=n(48),Lt=n.n(Tt),Qt=n(155),zt=n.n(Qt),It=n(111),Bt=n(283);function Rt(t){var e=t.label,n=t.value,l=t.valueProps,a=Object(Bt.a)(t,["label","value","valueProps"]);return Object(it.jsxs)(M.b,Object(F.a)(Object(F.a)({justifyContent:"space-between",py:1,style:{borderBottom:"1px solid #f0f0f0"}},a),{},{children:[Object(it.jsx)(y.a.Text,{strong:!0,children:e}),Object(it.jsx)(y.a.Text,Object(F.a)(Object(F.a)({},l),{},{children:n}))]}))}function Nt(t){var e=t.positions.reduce((function(t,e){return t+e.market_value}),0),n=t.positions.find((function(e){return R(e.security)===t.symbol}));if(!n)return Object(it.jsx)(it.Fragment,{});var l=(t.accounts||[]).map((function(e){var n=e.positions.filter((function(e){return e.symbol===t.symbol}))[0];return n?{name:e.name,type:e.type,quantity:n.quantity}:void 0})).filter((function(t){return t})).sort((function(t,e){return e.quantity-t.quantity})),a=n.security.currency?n.security.currency.toUpperCase():n.security.currency;return Object(it.jsxs)(M.b,{flexDirection:"column",p:2,children:[Object(it.jsx)(Rt,{label:"Symbol",value:R(n.security)}),Object(it.jsx)(Rt,{label:"Value",value:"CAD ".concat(t.isPrivateMode?"-":B(n.market_value)," (").concat((n.market_value?n.market_value/e*100:0).toFixed(2),"%)")}),Object(it.jsx)(Rt,{label:"Proft/Loss",value:"CAD ".concat(t.isPrivateMode?"-":B(n.gain_amount)," (").concat((n.gain_percent?100*n.gain_percent:n.gain_percent).toFixed(2),"%)"),valueProps:{type:n.gain_percent>0?void 0:"danger"}}),Object(it.jsx)(Rt,{label:"Shares",value:"".concat(n.quantity)}),Object(it.jsx)(Rt,{label:"Currency",value:a}),Object(it.jsx)(Rt,{label:"Buy Price",value:B(n.investments.reduce((function(t,e){return t+e.book_value}),0)/n.quantity)}),Object(it.jsx)(Rt,{label:"Last Price",value:B(n.security.last_price)}),Object(it.jsx)(Rt,{label:"Account",value:"Shares",valueProps:{strong:!0},pt:2,style:{borderBottom:"2px solid #7b7b7b"}}),l.map((function(t){return t&&Object(it.jsx)(Rt,{label:"".concat(t.name," ").concat(t.type),value:"".concat(t.quantity)},"".concat(t.name," ").concat(t.type))}))]})}var qt=function(t){Object(h.a)(n,t);var e=Object(b.a)(n);function n(t){var l;return Object(d.a)(this,n),(l=e.call(this,t))._mounted=void 0,l.getFlags=function(t,e){var n=["buy","sell"].includes(t);return{name:P.a.startCase(t),shape:"squarepin",type:"flags",onSeries:e?void 0:"dataseries",width:25,tooltip:{pointFormat:"<b>{point.text}</b>",valueDecimals:2,split:!0},data:l.props.position.transactions.filter((function(e){return e.type===t})).sort((function(t,e){return t.date.valueOf()-e.date.valueOf()})).reduce((function(t,e){var n=t.pop();return n&&n.date.valueOf()===e.date.valueOf()?t.push(Object(F.a)(Object(F.a)({},n),{},{shares:e.shares&&n.shares?n.shares+e.shares:n.shares,amount:e.amount+n.amount,price:e.price&&n.price?(Number(e.price)+Number(n.price))/2:n.price})):(n&&t.push(n),t.push(e)),t}),[]).map((function(e){return{transaction:e,x:e.date.valueOf(),title:n?Math.round(e.shares):t.charAt(0).toUpperCase(),text:n?"".concat(P.a.startCase(t),": ").concat(e.shares,"@").concat(e.price):"".concat(P.a.startCase(t),": $").concat(U(e.amount,2))}})),color:L[t],fillColor:L[t],style:{color:"white"}}},l.state={loading:!0},l._mounted=!1,l}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this._mounted=!0,this.fetchData()}},{key:"componentDidUpdate",value:function(t){this.props.symbol!==t.symbol&&this.fetchData()}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"parseSecuritiesResponse",value:function(t){if(this._mounted){var e,n=z(t.to),l=[];t.data.filter((function(t){return t})).reverse().forEach((function(t){e||(e=t),100*Math.abs((t-e)/t)>200&&(t=e),n.isoWeekday()<=5&&l.push({timestamp:n.clone(),closePrice:t}),n.subtract(1,"days"),e=t}));var a=l.sort((function(t,e){return t.timestamp.valueOf()-e.timestamp.valueOf()}));this.setState({loading:!1,data:a})}}},{key:"fetchData",value:function(){var t=this;if(this._mounted){this.setState({loading:!0}),E("stock-timeline");var e=D.a.min((this.props.position.transactions&&this.props.position.transactions.length?this.props.position.transactions[0].date:D()()).clone().subtract(1,"months"),D()().subtract(6,"months"));if(this.props.addon)this.props.addon.request({query:{},method:"GET",endpoint:"securities/".concat(this.props.position.security.id,"/history?from=").concat(e.format("YYYY-MM-DD"))}).then((function(e){t.parseSecuritiesResponse(e)})).catch((function(t){return console.log(t)}));else{var n="https://app.wealthica.com/api/securities/".concat(this.props.position.security.id,"/history?from=").concat(e.format("YYYY-MM-DD"));console.debug("Fetching stock data..",n),fetch(V(n),{cache:"force-cache",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){t.parseSecuritiesResponse(e)})).catch((function(t){return console.log(t)}))}}}},{key:"fetchDataUsingYahoo",value:function(){var t=this;if(this._mounted){this.setState({loading:!0});var e=(this.props.position.transactions&&this.props.position.transactions.length?this.props.position.transactions[0].date:D()()).clone().subtract(1,"months"),n=D()().unix(),l="https://query1.finance.yahoo.com/v7/finance/chart/".concat(this.props.symbol,"?period1=").concat(e.unix(),"&period2=").concat(n,"&interval=1d&events=history");console.debug("Fetching stock data..",l),fetch(V(l),{cache:"force-cache",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){t._mounted&&t.setState({loading:!1,data:e})})).catch((function(t){return console.log(t)}))}}},{key:"getSeries",value:function(){if(!this.state.data)return[{}];var t,e,n,l,a=[];return this.state.data.forEach((function(o,i){var r=o.timestamp.valueOf(),u=o.closePrice;a.push({x:r,y:u}),0===i&&(e=t=u,n=l=r),u<t&&(t=u,n=r),u>e&&(e=u,l=r)})),[{id:"dataseries",name:this.props.symbol,data:a,type:"line",tooltip:{valueDecimals:2}},{name:"High/Low",shape:"circlepin",type:"flags",tooltip:{pointFormat:"<b>{point.text}</b>",valueDecimals:2,split:!0},data:[{x:n,title:"L",text:"Low Price: $".concat(U(t,2))},{x:l,title:"H",text:"High Price: $".concat(U(e,2))}].sort((function(t,e){return t.x-e.x})),color:"#7cb5ec",fillColor:"#7cb5ec",style:{color:"white"}},this.getFlags("buy"),this.getFlags("sell"),this.getFlags("income",!0),this.getFlags("dividend",!0),this.getFlags("distribution",!0),this.getFlags("tax",!0),this.getFlags("fee",!0)]}},{key:"getOptions",value:function(){var t=this.props.position.transactions.filter((function(t){return"dividend"===t.type})).reduce((function(t,e){return t+e.amount}),0);return{title:{text:"".concat(this.props.symbol),style:{color:"#1F2A33",textDecoration:"underline",fontWeight:"bold"}},subtitle:{text:this.props.isPrivateMode?"Shares: -, Market Value: -, Profit: -":"Shares: ".concat(this.props.position.quantity,"@").concat(B(this.props.position.investments.reduce((function(t,e){return t+e.book_value}),0)/this.props.position.quantity),", Market Value: CAD ").concat(U(this.props.position.market_value,2),", P/L: CAD ").concat(U(this.props.position.gain_amount,2)).concat(t?", Dividends: CAD ".concat(U(t,2)):""),style:{color:"#1F2A33",fontWeight:"bold"}},rangeSelector:{selected:1,enabled:!0,inputEnabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},yAxis:[{crosshair:{dashStyle:"Dash"},title:{text:"Price ($)"},opposite:!1}],tooltip:{pointFormat:"{series.name}: <b>${point.y}",valueDecimals:2,split:!0},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{chart:{height:300},subtitle:{text:void 0},navigator:{enabled:!1}}}]},series:this.getSeries(),legend:{enabled:!0}}}},{key:"render",value:function(){return this.state.loading?Object(it.jsx)("div",{style:{textAlign:"center",margin:"12px"},children:Object(it.jsx)(O.a,{size:"large"})}):Object(it.jsx)(vt,{constructorType:"stockChart",options:this.getOptions()})}}]),n}(l.Component),Ut={pointFormatter:function(){var t=this.options;return"Cash"!==t.name?'<table width="100%">\n      <tr><td>Weightage</td><td align="right" class="position-tooltip-value">'.concat(this.percentage.toFixed(1),'%</td></tr>\n      <tr><td>Value</td><td align="right" class="position-tooltip-value">CAD ').concat(t.value,'</td></tr>\n      <tr><td>Unrealized P/L %</td><td align="right" class="position-tooltip-value" style="color: ').concat(t.pnlColor,';">').concat(t.gain?t.gain.toFixed(1):"n/a",'%</td></tr>\n      <tr><td>Unrealized P/L $</td><td align="right" class="position-tooltip-value" style="color: ').concat(t.pnlColor,';">CAD ').concat(t.profit,'</td></tr>\n      <tr><td>Shares</td><td align="right">').concat(t.shares,'</td></tr>\n      <tr><td>Currency</td><td align="right">').concat(t.currency,'</td></tr>\n      <tr><td>Buy Price</td><td align="right">').concat(t.buyPrice,'</td></tr>\n      <tr><td>Last Price</td><td align="right">').concat(t.lastPrice,'</td></tr>\n      <tr><td colspan="2"><hr /></td></tr>\n      <tr style="font-weight: 600"><td>Account</td><td align="right">Shares</td></tr>\n      ').concat(t.accountsTable,"\n    </table>"):'\n      <table width="100%">\n        <tr><td>Weightage</td><td align="right" class="position-tooltip-value">'.concat(this.percentage.toFixed(1),'%</td></tr>\n        <tr><td>Value</td><td align="right" class="position-tooltip-value">CAD ').concat(t.value,'</td></tr>\n        <tr><td colspan="2"><hr /></td></tr>\n        <tr style="font-weight: 600"><td>Account</td><td align="right">Cash</td></tr>\n        ').concat(t.accountsTable,"\n      </table>")},headerFormat:"<b>{point.key}</b><hr />"};function Vt(t){var e=Object(l.useState)(),n=Object(s.a)(e,2),a=n[0],o=n[1],i=Object(l.useState)("currency"),r=Object(s.a)(i,2),u=r[0],c=r[1],d=Object(l.useState)(!0),p=Object(s.a)(d,2),h=p[0],b=p[1],f=Object.keys(t.currencyCache),m=f[f.length-1],g=It.getOptions().colors;function v(t){return g?g[t%(null===g||void 0===g?void 0:g.length)]:void 0}function j(t,e){switch(t){case"currency":return e.currency.toUpperCase();case"type":return e.type;case"institution":return e.name;default:return"".concat(e.name," ").concat(e.type)}}var x=function(e,n){var l=t.accounts.reduce((function(t,n){var l=j(e,n),a=t[l];return a||(a={name:l,value:0,positions:{},accounts:[]},t[l]=a),a.value+=n.positions.reduce((function(t,e){return t+e.value}),0),n.positions.forEach((function(t){var e=R(t.security),n=a.positions[e];if(n){var l=n.value+t.value,o=n.gain_amount+t.gain_amount;a.positions[e]=Object(F.a)(Object(F.a)({},n),{},{value:l,book_value:n.book_value+t.book_value,market_value:n.market_value+t.market_value,quantity:n.quantity+t.quantity,gain_currency_amount:n.gain_currency_amount+t.gain_currency_amount,gain_amount:o,gain_percent:o/(l-o)})}else a.positions[e]=t})),a.accounts.push(n),t}),{}),a=function(e,a){var o=l[e],i=Object.values(o.positions),r=i.length,u=i.sort((function(t,e){return e.value-t.value})).map((function(e,n){var l=R(e.security),i=o.accounts.map((function(t){var e=t.positions.filter((function(t){return t.symbol===l}))[0];return e?{name:t.name,type:t.type,quantity:e.quantity}:void 0})).filter((function(t){return t})).sort((function(t,e){return e.quantity-t.quantity})).map((function(t){return"<tr><td>".concat(t.name," ").concat(t.type,'</td><td align="right">').concat(t.quantity,"</td></tr>")})).join(""),u=.2-n/r/5,s=v(a);return{color:s&&h?It.color(s).brighten(u).get():void 0,name:l,y:e.value,displayValue:t.isPrivateMode?"-":U(e.value,1),value:t.isPrivateMode?"-":B(e.value),gain:e.gain_percent?100*e.gain_percent:e.gain_percent,profit:t.isPrivateMode?"-":B(e.gain_amount),buyPrice:B(e.book_value/e.quantity),shares:e.quantity,lastPrice:B(e.security.last_price),currency:e.security.currency?e.security.currency.toUpperCase():e.security.currency,pnlColor:e.gain_amount>=0?"green":"red",accountsTable:i}}));return n?{type:"pie",id:e,name:e,data:u,tooltip:Ut,dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:"black"}}}:u};return n?{activeAxisLabelStyle:{textDecoration:"none"},activeDataLabelStyle:{textDecoration:"none"},series:Object.keys(l).map((function(t,e){return a(t,e)}))}:{type:"pie",id:"holdings",name:"Holdings",size:"80%",innerSize:"60%",dataLabels:{formatter:function(){var t=this.point;return this.percentage&&this.percentage>2.5?"".concat(t.name,": ").concat(this.percentage.toFixed(1),"%"):null}},data:Object.keys(l).sort((function(t,e){return l[e].value-l[t].value})).reduce((function(t,e,n){return t.push.apply(t,Object(Ft.a)(a(e,n))),t}),[]),tooltip:Ut}};function O(e){var n=function(e){var n=t.accounts.reduce((function(t,e){return t+e.value}),0),l=Object.values(t.accounts.reduce((function(t,n){var l=j(e,n),a=t[l];a||(a={name:l,value:0,gainAmount:0,accounts:{}},t[l]=a),a.value+=n.positions.reduce((function(t,e){return t+e.value||0}),0),a.gainAmount+=n.positions.reduce((function(t,e){return t+e.gain_amount}),0);var o="".concat(n.name," ").concat(n.type),i=a.accounts[o];i||(i={name:o,cad:0,usd:0,value:0},a.accounts[o]=i);var r=n.cash?Number(n.cash.toFixed(2)):0;return i.cad=i.cad+("cad"===n.currency?r:0),i.usd=i.usd+("usd"===n.currency?r:0),t}),{})),a={type:"pie",id:"accounts",name:"Accounts",size:h?"60%":"100%",data:l.filter((function(t){return t.value})).sort((function(t,e){return e.value-t.value})).map((function(e,l){var a=Object.values(e.accounts),o=a.reduce((function(t,e){return t+e.cad}),0),i=a.reduce((function(t,e){return t+e.usd}),0),r=a.filter((function(t){return!!t.cad||!!t.usd})).sort((function(t,e){return e.usd+e.cad-(t.usd+t.cad)})).map((function(t){return'<tr>\n                <td style="vertical-align: top">'.concat(t.name,'</td>\n                <td align="right">\n                ').concat(t.cad?'<div style="color:'.concat(t.cad<0?"red":"",'">C$ ').concat(B(t.cad),"</div>"):"","\n                ").concat(t.usd?'<span style="color:'.concat(t.usd<0?"red":"",'">U$ ').concat(B(t.usd),"</span>"):"","\n                </td>\n              </tr>")})).join("");return{color:v(l),name:e.name,drilldown:h?void 0:e.name,y:e.value,displayValue:t.isPrivateMode?"-":e.value?B(e.value):e.value,totalValue:t.isPrivateMode?"-":B(n),gain:t.isPrivateMode?"-":"CAD ".concat(B(e.gainAmount)),gainRatio:"".concat((e.gainAmount/(e.value-e.gainAmount)*100).toFixed(2),"%"),pnlColor:e.gainAmount>=0?"green":"red",cash:o+(i?I(m,i,t.currencyCache):0),cad:o,usd:i,cashTable:r}})),dataLabels:{formatter:function(){return this.percentage&&this.percentage>(h?2:0)?"".concat(this.point.name,": ").concat(this.percentage.toFixed(1),"%"):null},style:h?{color:"purple",fontSize:"12px",fontWeight:"600"}:{},distance:h?150:50},tooltip:{headerFormat:"<b>{point.key}<br />{point.percentage:.1f}%</b><hr />",pointFormatter:function(){var e=this.options;return'<table>\n          <tr><td>Value</td><td align="right" class="position-tooltip-value">CAD '.concat(e.displayValue,'</td></tr>\n          <tr><td>Total Value</td><td align="right" class="position-tooltip-value">CAD ').concat(e.totalValue,'</td></tr>\n          <tr><td>Unrealized P/L ($) </td><td align="right" style="color:').concat(e.pnlColor,';" class="position-tooltip-value">').concat(e.gain,'</td></tr>\n          <tr><td>Unrealized P/L (%)</td><td align="right" style="color:').concat(e.pnlColor,';" class="position-tooltip-value">').concat(e.gainRatio,"</td></tr>\n          ").concat(e.cashTable?'<tr><td colspan="2"><hr /></td></tr>\n              <tr><td style="font-weight: 600">Account</td><td align="right" style="font-weight: 600">Cash</td></tr>'.concat(e.cashTable):"",'\n          <tr><td colspan="2"><hr /></td></tr>\n          ').concat(e.cash&&!t.isPrivateMode?'<tr><td>Total Cash</td><td align="right" class="position-tooltip-cash" style="color:'.concat(e.cash<0?"red":"",';">CAD ').concat(B(e.cash),"</td></tr>"):"","\n          ").concat(e.cad&&!t.isPrivateMode?'<tr><td>CAD Cash</td><td align="right" class="position-tooltip-cash" style="color:'.concat(e.cad<0?"red":"",';">CAD ').concat(B(e.cad),"</td></tr>"):"","\n          ").concat(e.usd&&!t.isPrivateMode?'<tr><td>USD Cash</td><td align="right" class="position-tooltip-cash" style="color:'.concat(e.usd<0?"red":"",';">USD ').concat(B(e.usd),"</td></tr>"):"","\n        </table>")}}};return h?[a,x(e,!1)]:[a]}(e),l=h?void 0:x(e,!0),a="currency"===e?"USD vs CAD":"type"===e?"Account Type":"".concat(P.a.startCase(e));return{series:n,drilldown:l,title:"".concat(a," Composition")}}var A=function(e){var n=e.title,l=e.yAxisTitle,a=e.subtitle,o=e.series,i=e.drilldown;return{series:o,drilldown:i||{},tooltip:{outside:!0,useHTML:!0,backgroundColor:"#FFF",style:{color:"#1F2A33"}},title:{text:n},subtitle:{text:a,style:{color:"#1F2A33"}},xAxis:{type:"category",labels:{rotation:-45,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}},yAxis:{labels:{enabled:!t.isPrivateMode},title:{text:l}}}},k=Object(l.useMemo)((function(){return function(){var e=t.positions.reduce((function(t,e){return t+e.market_value}),0),n=t.positions.sort((function(t,e){return e.value-t.value})).map((function(n){var l=R(n.security),a=(t.accounts||[]).map((function(t){var e=t.positions.filter((function(t){return t.symbol===l}))[0];return e?{name:t.name,type:t.type,quantity:e.quantity}:void 0})).filter((function(t){return t})).sort((function(t,e){return e.quantity-t.quantity})).map((function(t){return"<tr><td>".concat(t.name," ").concat(t.type,'</td><td align="right">').concat(t.quantity,"</td></tr>")})).join("");return{name:R(n.security),y:n.value,displayValue:t.isPrivateMode?"-":U(n.value,1),value:t.isPrivateMode?"-":B(n.value),gain:n.gain_percent?100*n.gain_percent:n.gain_percent,profit:t.isPrivateMode?"-":B(n.gain_amount),percentage:n.market_value/e*100,buyPrice:B(n.investments.reduce((function(t,e){return t+e.book_value}),0)/n.quantity),shares:n.quantity,lastPrice:B(n.security.last_price),currency:n.security.currency?n.security.currency.toUpperCase():n.security.currency,accountsTable:a,pnlColor:n.gain_amount>0?"green":"red"}})),l={click:function(t){t.point.name&&a!==t.point.name&&o(t.point.name)}};return{column:{type:"column",name:"Holdings",colorByPoint:!0,data:n,events:l,tooltip:Ut,dataLabels:{enabled:!t.isPrivateMode,format:"{point.displayValue}"},showInLegend:!1},pie:{type:"pie",name:"Holdings",data:n.map((function(t){return Object(F.a)(Object(F.a)({},t),{},{drilldown:void 0})})),events:l,allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:"black"}},tooltip:Ut}}}()}),[t.accounts,t.positions,t.isPrivateMode]),w=k.column,C=k.pie,D=Object(l.useMemo)((function(){return A({title:"Your Holdings",yAxisTitle:"Market Value ($)",subtitle:"(click on a stock to view transactions)",series:[w]})}),[w]),_=Object(l.useMemo)((function(){return A({subtitle:"(click on a stock to view timeline and transactions)",series:[C]})}),[C]),S=Object(l.useMemo)((function(){var t=O(u),e=t.series,n=t.drilldown,l=t.title;return A({title:l,subtitle:h?void 0:"(click on the category name to drill into the holdings.)",series:e,drilldown:n})}),[t.isPrivateMode,t.accounts,t.positions,C,u,h]);return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(vt,{options:D}),Object(it.jsxs)(M.b,{width:1,flexWrap:"wrap",alignItems:"stretch",children:[Object(it.jsx)(M.b,{width:[1,1,2/3],height:"100%",justifyContent:"center",children:Object(it.jsx)(vt,{options:_})}),Object(it.jsx)(M.b,{width:[1,1,1/3],pr:4,height:"100%",justifyContent:"center",children:function(){var e=t.positions.map((function(t){return R(t.security)})).sort().map((function(t,e){return Object(it.jsx)(Yt.a.Option,{value:t,children:t},e)}));return Object(it.jsxs)(M.b,{p:3,pt:3,width:1,flexDirection:"column",children:[Object(it.jsx)(y.a.Title,{style:{textAlign:"center"},level:4,children:"Search for a stock in your protofolio:"}),Object(it.jsx)(Yt.a,{showSearch:!0,value:a,placeholder:"Enter a stock, e.g: FB, SHOP.TO",showArrow:!0,style:{width:"100%"},onChange:function(t){return o(t)},filterOption:function(t,e){return-1!==e.props.value.toUpperCase().indexOf(t.toUpperCase())},children:e}),a&&Object(it.jsx)(Nt,{symbol:a,positions:t.positions,accounts:t.accounts,isPrivateMode:t.isPrivateMode})]})}()})]}),function(){if(!a)return Object(it.jsx)(it.Fragment,{});var e=t.positions.filter((function(t){return R(t.security)===a}))[0];return e?Object(it.jsx)(qt,{isPrivateMode:t.isPrivateMode,symbol:a,position:e,addon:t.addon}):Object(it.jsx)(it.Fragment,{})}(),Object(it.jsxs)(Ot,{title:"Holdings Composition",children:[Object(it.jsx)(vt,{options:S},u),Object(it.jsxs)(M.b,{width:1,flexDirection:"column",alignItems:"center",py:2,mb:2,children:[Object(it.jsx)(y.a.Title,{level:4,children:"Group By"}),Object(it.jsx)(Lt.a.Group,{optionType:"button",buttonStyle:"solid",defaultValue:u,onChange:function(t){c(t.target.value),E("holdings-composition-chart",{group:t.target.value})},options:[{label:"USD vs CAD",value:"currency"},{label:"Institution",value:"institution"},{label:"Account",value:"accounts"},{label:"Account Type",value:"type"}]})]}),Object(it.jsxs)(M.b,{mt:3,mb:2,width:1,justifyContent:"center",alignItems:"center",alignContent:"center",children:[Object(it.jsx)(zt.a,{checked:h,onChange:function(t){b(t),E("composition-group-show-holdings",{checked:t})}}),Object(it.jsx)(M.a,{px:1}),Object(it.jsx)(y.a.Text,{strong:!0,style:{fontSize:16},children:"Show Holdings (Donut Chart)"})]})]})]})}var Ht=n(156),Jt=n.n(Ht),Gt=n(5),Wt=n.n(Gt),Kt=n(37);function Zt(t){var e=t.columns,n=void 0===e?[]:e,a=t.scroll,o=Object(l.useState)(0),i=Object(s.a)(o,2),r=i[0],u=i[1],c=n.map((function(t){return t.width?t:Object(F.a)(Object(F.a)({},t),{},{width:Math.floor(r/n.length)})})),d=Object(l.useRef)(),p=Object(l.useState)((function(){var t={};return Object.defineProperty(t,"scrollLeft",{get:function(){return null},set:function(t){d.current&&d.current.scrollTo({scrollLeft:t})}}),t})),h=Object(s.a)(p,1)[0],b=function(){d&&d.current&&d.current.resetAfterIndices({columnIndex:0,shouldForceUpdate:!1})};Object(l.useEffect)((function(){return b}),[r]);return Object(it.jsx)(Kt.default,{onResize:function(t){var e=t.width;return u(e)},children:Object(it.jsx)(Jt.a,Object(F.a)(Object(F.a)({},t),{},{className:"virtual-table",columns:c,pagination:!1,components:{body:function(t,e){var l=e.scrollbarSize,o=e.ref,i=e.onScroll;o.current=h;var u=54*t.length;return Object(it.jsx)(ot.a,{ref:d,className:"virtual-grid",columnCount:n.length,columnWidth:function(t){var e=c[t].width;return u>a.y&&t===n.length-1?e-l-1:e},height:a.y,rowCount:t.length,rowHeight:function(){return 64},width:r,onScroll:function(t){var e=t.scrollLeft;i({scrollLeft:e})},children:function(e){var l=e.columnIndex,a=e.rowIndex,o=e.style,i=t[a],r=n[l],u=r.dataIndex?i[r.dataIndex]:void 0;return Object(it.jsx)("div",{className:Wt()("virtual-table-cell ant-table-cell",{"virtual-table-cell-last":l===n.length-1}),style:Object(F.a)(Object(F.a)({},o),{},{textAlign:r.align}),children:r.render?r.render(u,i):u})}})}}}))})}function Xt(t){var e=t.positions.reduce((function(t,e){return t+e.market_value}),0);return Object(it.jsx)("div",{className:"zero-padding",children:Object(it.jsx)(Ot,{title:"Holdings Table",children:Object(it.jsx)(Zt,{scroll:{y:600},dataSource:t.positions,columns:[{key:"symbol",title:"Symbol",dataIndex:"security.name",render:function(t,e){return Object(it.jsx)(y.a.Link,{rel:"noreferrer noopener",href:"https://finance.yahoo.com/quote/".concat(R(e.security)),target:"_blank",children:R(e.security)})},width:200,sorter:function(t,e){return R(t.security).localeCompare(R(e.security))}},{key:"country",title:"Country",dataIndex:"security.currency",render:function(t,e){return"usd"===e.security.currency?"US":"CA"},sorter:function(t,e){return t.security.currency.localeCompare(e.security.currency)},width:120},{key:"lastPrice",title:"Last Price",align:"right",dataIndex:"security.last_price",render:function(t,e){return Object(it.jsxs)(it.Fragment,{children:[B(e.security.last_price),Object(it.jsx)("div",{style:{fontSize:11},children:e.security.currency.toUpperCase()})]})},sorter:function(t,e){return t.security.last_price-e.security.last_price}},{key:"shares",title:"Shares",dataIndex:"quantity",render:function(t){return Object(it.jsx)(y.a.Text,{strong:!0,children:B(t,0)})},align:"right",sorter:function(t,e){return t.quantity-e.quantity}},{key:"buyPrice",title:"Avg Cost / Share",dataIndex:"quantity",render:function(t,e){return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsxs)(y.a.Text,{strong:!0,children:[B(e.investments.reduce((function(t,e){return t+e.book_value}),0)/e.quantity)," "]}),Object(it.jsx)("div",{style:{fontSize:11},children:e.security.currency.toUpperCase()})]})},align:"right"},{key:"gainPercent",title:Object(it.jsxs)(it.Fragment,{children:["Profit / Loss %",Object(it.jsx)("div",{style:{fontSize:12},children:"CAD"})]}),dataIndex:"gain_percent",render:function(t,e){return Object(it.jsxs)(M.a,{style:{color:e.gain_percent<0?"red":"green"},children:[Object(it.jsxs)(y.a.Text,{strong:!0,style:{color:"inherit",fontSize:14},children:[B(100*e.gain_percent),"%"]}),Object(it.jsx)(M.a,{}),Object(it.jsx)(y.a.Text,{style:{color:"inherit",fontSize:13},children:B(e.gain_amount)})]})},align:"right",sorter:function(t,e){return t.gain_percent-e.gain_percent}},{key:"marketValue",title:Object(it.jsxs)(it.Fragment,{children:["Market Value",Object(it.jsx)("div",{style:{fontSize:12},children:"CAD"})]}),dataIndex:"market_value",render:function(n){return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(y.a.Text,{strong:!0,children:t.isPrivateMode?"-":B(n)}),Object(it.jsxs)("div",{style:{fontSize:13},children:[n?B(n/e*100,1):0,"%"]})]})},align:"right",sorter:function(t,e){return t.market_value-e.market_value}}]})})})}var $t=a.a.memo(Xt),te=n(157),ee=n.n(te),ne=n(158),le=n.n(ne),ae=n(74);function oe(){return Object(it.jsx)("span",{style:{fontSize:16},children:" \u2022 "})}function ie(t){var e=t.news;return Object(it.jsxs)(M.a,{pb:2,children:[Object(it.jsxs)(M.b,{alignItems:"center",children:[Object(it.jsx)("div",{style:{fontSize:15,fontWeight:500,paddingBottom:4,paddingRight:4},children:Object(it.jsx)(y.a.Link,{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.title})}),"positive"===e.sentiment?Object(it.jsx)(le.a,{style:{color:"green",fontSize:25}}):"neutral"!==e.sentiment?Object(it.jsx)(ee.a,{style:{color:"red",fontSize:25}}):void 0]}),Object(it.jsxs)("div",{style:{fontSize:13,color:"#8c8c8c"},children:[e.source,Object(it.jsx)(oe,{}),D()(e.timestamp).format("MMM DD, YYYY"),Object(it.jsx)(oe,{}),e.name," ",Object(it.jsx)(oe,{}),e.symbol]}),Object(it.jsx)("hr",{})]},e.title)}function re(t){var e=t.positions,n=Object(l.useState)([]),a=Object(s.a)(n,2),o=a[0],i=a[1],r=Object(l.useState)(!1),u=Object(s.a)(r,2),c=u[0],d=u[1],p=Object(l.useState)([]),h=Object(s.a)(p,2),b=h[0],f=h[1],m=Object(l.useState)("All"),y=Object(s.a)(m,2),g=y[0],v=y[1],j=Object(l.useState)("all"),x=Object(s.a)(j,2),A=x[0],k=x[1];Object(l.useEffect)((function(){var t=e.filter((function(t){var e=t.security.symbol||t.security.name;return!(e.includes("-")||e.includes("."))})).map((function(t){return t.security.symbol})).join(",");if(t.length){var n=V("https://portfolio.nasdaq.com/api/portfolio/getPortfolioNews/?tickers=".concat(t,"&sentiment=yes"));d(!0),fetch(n,{cache:"force-cache",method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){if(t){var e=new Set;i(t.map((function(t){return e.add(t.ticker),{timestamp:D()(t.articleTimestamp||t.addedOn),name:t.companyName,symbol:t.ticker,sentiment:t.sentiment,title:t.title,url:t.url,source:t.siteName}}))),f(Array.from(e).sort((function(t,e){return t.localeCompare(e)})))}})).catch((function(t){return console.info("Failed to load news articles.",t)})).finally((function(){return d(!1)}))}}),[e]);var w=Object(l.useRef)(),P=Object(l.useRef)(),C=o.filter((function(t){return("all"===A||t.sentiment===A)&&("All"===g||t.symbol===g)}));return Object(it.jsxs)(M.b,{flexDirection:"column",mb:3,alignItems:"center",children:[Object(it.jsx)(M.b,{width:1,justifyContent:"center",mb:3,children:Object(it.jsxs)(Lt.a.Group,{defaultValue:A,onChange:function(t){return k(t.target.value)},buttonStyle:"solid",children:[Object(it.jsx)(Lt.a.Button,{value:"all",children:"All"}),Object(it.jsxs)(Lt.a.Button,{value:"positive",children:[Object(it.jsx)(le.a,{style:{color:"green"}})," Bullish"]}),Object(it.jsxs)(Lt.a.Button,{value:"negative",children:[Object(it.jsx)(ee.a,{style:{color:"red"}})," Bearish"]})]})}),o.length?Object(it.jsxs)(M.b,{width:1,children:[Object(it.jsx)(M.b,{flexDirection:"column",alignItems:"flex-end",px:2,width:1/4,children:Object(it.jsx)(M.a,{width:1,ref:w,children:Object(it.jsx)(Lt.a.Group,{style:{width:"100%"},onChange:function(t){v(t.target.value),window.scroll({top:0,left:0,behavior:"smooth"}),(null===P||void 0===P?void 0:P.current)&&P.current.scrollTo({top:0,left:0,behavior:"smooth"})},value:g,buttonStyle:"solid",optionType:"button",children:["All"].concat(Object(Ft.a)(b)).map((function(t){return Object(it.jsx)(Lt.a.Button,{style:{width:"100%",display:"flex",height:"50px",justifyContent:"center",alignItems:"center",lineHeight:"30px"},value:t,children:t})}))})})}),C.length?Object(it.jsx)(M.a,{ref:P,width:3/4,px:2,height:(null===w||void 0===w?void 0:w.current)&&w.current.clientHeight,style:{overflow:"scroll"},children:C.map((function(t,e){return Object(it.jsx)(ie,{news:t},"".concat(g,"-").concat(e))}))}):Object(it.jsx)(M.b,{justifyContent:"center",width:3/4,py:3,children:Object(it.jsx)(ae.a,{description:"No News Articles Found!"})})]}):c?Object(it.jsx)(O.a,{size:"large"}):Object(it.jsx)(ae.a,{description:"No News Articles Found!"})]})}var ue=a.a.memo(re),se=n(117),ce=n.n(se),de=n(116),pe=n.n(de),he=n(160),be=n.n(he),fe=n(159),me=n.n(fe);function ye(t){return Object(it.jsx)(M.a,{p:1,children:Object(it.jsx)(me.a,Object(F.a)({},t))})}function ge(t){var e=t.portfolios,n=t.privateMode,l=t.positions,a=e[e.length-1],o=l.reduce((function(t,e){return t+e.market_value}),0),i=l.reduce((function(t,e){return t+e.book_value}),0),r=0===l.length,u=o-i,s=u?u/i*100:0;return Object(it.jsx)(be.a,{bodyStyle:{backgroundColor:"#f9f0ff"},style:{borderRadius:6,borderColor:"#efdbff"},children:Object(it.jsxs)(M.b,{width:1,justifyContent:"space-between",flexWrap:"wrap",children:[Object(it.jsx)(ye,{title:"Portfolio Value",value:n?"--":a.value,precision:2,prefix:"$"}),Object(it.jsx)(ye,{title:"Deposits",value:n?"--":a.deposits,precision:2,prefix:"$"}),Object(it.jsx)(ye,{title:"Overall P&L %",valueStyle:{color:a.value>=a.deposits?"green":"red"},value:(a.value-a.deposits)/a.deposits*100,precision:2,suffix:"%",prefix:a.value>=a.deposits?Object(it.jsx)(pe.a,{}):Object(it.jsx)(ce.a,{})}),Object(it.jsx)(ye,{title:"Overall P&L Value",valueStyle:{color:a.value>=a.deposits?"green":"red"},value:n?"--":a.value-a.deposits,precision:n?void 0:2,prefix:"$"}),Object(it.jsx)(ye,{title:"Unrealized P&L Value",valueStyle:{color:r?"grey":u>=0?"green":"red"},value:n?"--":r?"N/A":u,precision:n?void 0:2,prefix:r?void 0:"$"}),Object(it.jsx)(ye,{title:"Unrealized P&L %",valueStyle:{color:r?"grey":s>=0?"green":"red"},value:n?"--":r?"N/A":s,precision:n?void 0:2,suffix:r?void 0:"%",prefix:r?void 0:s>=0?Object(it.jsx)(pe.a,{}):Object(it.jsx)(ce.a,{})})]})})}var ve=a.a.memo(ge),je=function(t){var e=t.href,n=t.title;return Object(it.jsx)(M.a,{width:275,children:Object(it.jsx)(y.a.Link,{href:e,target:"_blank",rel:"noopener noreferrer",children:n})})};function xe(t){var e=t.positions;return Object(it.jsx)(Ot,{title:"Portoflio Visualizer Tools",children:Object(it.jsxs)(M.b,{width:1,children:[Object(it.jsx)(je,{href:function(){var t,n=e.reduce((function(t,e){return t+e.market_value}),0),l=100,a=(t=e.reduce((function(t,a,o){var i=Number((a.market_value/n*100).toFixed(1));return l-=i,l=Number(l.toFixed(1)),o+1===e.length&&(i+=l),t["symbol".concat(o+1)]=R(a.security),t["allocation".concat(o+1,"_1")]=i,t}),{}),Object.keys(t).map((function(e){return e+"="+t[e]})).join("&"));return"https://www.portfoliovisualizer.com/backtest-portfolio?s=y&timePeriod=4&initialAmount=10000&annualOperation=0&annualAdjustment=0&inflationAdjusted=true&annualPercentage=0.0&frequency=4&rebalanceType=1&showYield=false&reinvestDividends=true&".concat(a,"#analysisResults")}(),title:"Backtest Portfolio Asset Allocation"}),Object(it.jsx)(je,{href:function(){var t=e.filter((function(t){var e=t.security.symbol||t.security.name;return!(e.includes("-")||e.includes("."))})).sort((function(t,e){return"usd"===t.security.currency&&"usd"===e.security.currency||e.market_value>t.market_value?1:-1})).slice(0,20).map((function(t){return R(t.security)})).sort((function(t,e){return t.localeCompare(e)})).join(",");return"".concat("https://www.portfoliovisualizer.com/factor-analysis?s=y&regressionType=1&sharedTimePeriod=true&factorDataSet=0&marketArea=0&factorModel=3&useHMLDevFactor=false&includeQualityFactor=false&includeLowBetaFactor=false&fixedIncomeFactorModel=0&__checkbox_ffmkt=true&__checkbox_ffsmb=true&__checkbox_ffsmb5=true&__checkbox_ffhml=true&__checkbox_ffmom=true&__checkbox_ffrmw=true&__checkbox_ffcma=true&__checkbox_ffstrev=true&__checkbox_ffltrev=true&__checkbox_aqrmkt=true&__checkbox_aqrsmb=true&__checkbox_aqrhml=true&__checkbox_aqrhmldev=true&__checkbox_aqrmom=true&__checkbox_aqrqmj=true&__checkbox_aqrbab=true&__checkbox_aamkt=true&__checkbox_aasmb=true&__checkbox_aahml=true&__checkbox_aamom=true&__checkbox_aaqmj=true&__checkbox_qmkt=true&__checkbox_qme=true&__checkbox_qia=true&__checkbox_qroe=true&__checkbox_qeg=true&__checkbox_trm=true&__checkbox_cdt=true&timePeriod=2&rollPeriod=36&marketAssetType=1&robustRegression=false&symbols=").concat(t)}(),title:"Factor Regression (US Stocks)"})]})})}var Oe=a.a.memo(xe);function Ae(t){function e(){var e=t.portfolios.map((function(e){return{x:D()(e.date).valueOf(),y:(e.value-e.deposits)/e.deposits*100,pnlValue:t.isPrivateMode?"-":U(e.value-e.deposits,2).toLocaleString()}}));return[{id:"dataseries",name:"P&L %",data:e,tooltip:{valueDecimals:2},type:"spline"},{type:"flags",name:"Max Gain/Loss",data:[Object(F.a)(Object(F.a)({},N(e,"y")),{},{title:"L",text:"Max Loss"}),Object(F.a)(Object(F.a)({},q(e,"y")),{},{title:"G",text:"Max Gain"})].sort((function(t,e){return t.x-e.x})),onSeries:"dataseries",shape:"squarepin",width:16}]}return Object(it.jsx)(Ot,{title:"P&L Ratio Timeline",children:Object(it.jsx)(vt,{constructorType:"stockChart",options:{title:{text:"Profit/Loss (%)"},subtitle:{text:"Your P&L ratio.",style:{color:"#1F2A33"}},rangeSelector:{selected:1,enabled:!1,inputEnabled:!1},navigator:{enabled:!0},scrollbar:{enabled:!1},plotOptions:{spline:{zones:[{value:-1e-8,color:"#FF897C"},{color:"#84C341"}]}},yAxis:[{crosshair:{dashStyle:"Dash"},labels:{format:"{value}%"},opposite:!1}],tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}% (${point.pnlValue})</b><br/>',valueDecimals:2,split:!0},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{chart:{height:300},yAxis:[{labels:{enabled:!1}},{labels:{enabled:!1}}],subtitle:{text:void 0},navigator:{enabled:!1}}}]},series:e()}})})}var ke=a.a.memo(Ae);function we(t){return Object(it.jsx)(Ot,{title:"P&L Value Timeline",children:Object(it.jsx)(vt,{constructorType:"stockChart",options:{title:{text:"Profit/Loss ($)"},subtitle:{text:"Your P&L in dollars.",style:{color:"#1F2A33"}},rangeSelector:{selected:1,enabled:!1,inputEnabled:!1},navigator:{enabled:!0},scrollbar:{enabled:!1},plotOptions:{column:{zones:[{value:-1e-8,color:"#FF897C"},{color:"#84C341"}]}},yAxis:[{crosshair:{dashStyle:"Dash"},labels:{enabled:!t.isPrivateMode},opposite:!1}],tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.displayValue} ({point.pnlRatio:.2f}%)</b><br/>',valueDecimals:2,split:!0},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{chart:{height:300},yAxis:[{labels:{enabled:!1}},{labels:{enabled:!1}}],subtitle:{text:void 0},navigator:{enabled:!1}}}]},series:[{name:"P&L",data:t.portfolios.map((function(e){return{x:D()(e.date).valueOf(),y:e.value-e.deposits,pnlRatio:(e.value-e.deposits)/e.deposits*100,displayValue:t.isPrivateMode?"-":Number((e.value-e.deposits).toFixed(2)).toLocaleString()}})),type:"column"}]}})})}var Pe=a.a.memo(we),Ce=n(278),De=n.n(Ce),Me=n(104),_e=(n(564),"MMM DD, YYYY");function Se(t){var e=t.currencyCache,n=t.transactions,a=t.accounts,o=t.isPrivateMode,i=t.fromDate,r=Object(l.useState)("month"),u=Object(s.a)(r,2),c=u[0],d=u[1];function p(t){var e=a.find((function(e){return t===e.id}));return e?"".concat(e.name," ").concat(e.type):"N/A"}function h(t,n){var l=Math.min(Math.abs(t.shares),Math.abs(n.shares)),a="buy"===n.type?n:t,o="sell"===n.type?n:t,i=l*a.price,r=l*o.price-i,u=r/i*100,s={date:n.date,account:p(n.account),symbol:n.symbol,currency:n.currency,shares:l,buyDate:a.date,buyPrice:a.price,sellDate:o.date,sellPrice:o.price,pnl:"usd"===n.currency?I(n.date,r,e):r,pnlRatio:u},c=t.shares+n.shares;return t.shares=c,c>0?(t.price=a.price,t.date=a.date):c<0?(t.price=o.price,t.date=o.date):t.price=0,s}function b(t,e){var n=t.shares+e.shares;t.price=(t.price*t.shares+e.price*e.shares)/n,t.shares=n,t.date=e.date}var f=function(t){var e=D()(t);switch(c){case"month":return e.format("MMM YY");case"week":return"".concat(e.format("MMM DD")," - ").concat(D()(t).endOf(c).format("MMM DD"),", ").concat(e.format("YY"));case"year":return e.format("YYYY");case"day":return e.format("MMM DD, YYYY")}},m=function(t){var e=t.reduce((function(t,e){var n=e.date.clone().startOf(c).format(Y);return t[n]=t[n]?t[n]+e.pnl:e.pnl,t}),{}),n=Object.keys(e).map((function(t){return{date:t,label:f(t),pnl:e[t]}})).filter((function(t){return t.pnl})).sort((function(t,e){return D()(t.date).valueOf()-D()(e.date).valueOf()})).map((function(t){return{date:t.date,label:t.label,pnl:t.pnl,startDate:D()(t.date).startOf(c).format(_e),endDate:D()(t.date).endOf(c).format(_e),color:t.pnl>=0?"green":"red"}}));return console.debug("Realized Gains data -- ",n),[{name:"Realized P&L",type:"column",data:n.map((function(t){return{key:t.label,name:t.label,label:t.label,y:t.pnl,pnl:o?"-":B(t.pnl),pnlHuman:o?"-":U(t.pnl,2),startDate:t.startDate,endDate:t.endDate}})),tooltip:{headerFormat:"",pointFormat:'<span style="font-size: 12px;font-weight: 500;">{point.startDate} - {point.endDate}</span>\n          <br />\n          <b style="color: {point.color};font-size: 14px; font-weight: 700">{point.pnl} CAD</b><br />'},dataLabels:{enabled:!0,format:"{point.pnlHuman}"},showInLegend:!1}]},g=Object(l.useMemo)((function(){return function(){var t=[],e={};n.forEach((function(n){var l="".concat(n.account,"-").concat(n.symbol),a=e[l];a||(a={shares:0,price:0,date:n.date},e[l]=a),"buy"===n.type?a.shares<0?t.push(h(a,n)):b(a,n):"sell"===n.type&&(a.shares>0?t.push(h(a,n)):b(a,n))}));var l=D()(i);return t.filter((function(t){return t.date.isSameOrAfter(l)})).reverse()}()}),[n,a,i]),v=Object(l.useMemo)((function(){return g.reduce((function(t,e){return t+e.pnl}),0)}),[g]),x=Object(l.useMemo)((function(){return function(t){var e=t.series;return t.closedPnL,{series:e,tooltip:{outside:!0,useHTML:!0,backgroundColor:"#FFF",style:{color:"#1F2A33"}},title:{text:void 0},xAxis:{type:"category",labels:{style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}},yAxis:{labels:{enabled:!o},title:{text:"P&L $ (CAD)"}},plotOptions:{column:{zones:[{value:-1e-8,color:"#FF897C"},{color:"#84C341"}]}}}}({series:m(g),closedPnL:v})}),[g,c,v]);return g.length?Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(M.b,{mt:2,mb:3,justifyContent:"center",children:Object(it.jsx)(me.a,{value:o?"--":v,precision:2,suffix:"CAD",valueStyle:{color:v>=0?"green":"red"},prefix:v>=0?Object(it.jsx)(pe.a,{}):Object(it.jsx)(ce.a,{})})}),Object(it.jsx)(gt,{options:x},c),Object(it.jsx)(M.b,{width:1,justifyContent:"center",py:2,mb:4,children:Object(it.jsx)(Lt.a.Group,{defaultValue:c,size:"large",buttonStyle:"solid",onChange:function(t){E("realized-pnl-chart",{timeline:t.target.value}),d(t.target.value)},options:[{label:"Day",value:"day"},{label:"Week",value:"week"},{label:"Month",value:"month"},{label:"Year",value:"year"}],optionType:"button"})}),Object(it.jsx)(be.a,{title:"Realized P&L History",headStyle:{paddingLeft:16,fontSize:18,fontWeight:"bold"},style:{marginTop:16,marginBottom:16},bodyStyle:{padding:0},children:Object(it.jsx)(Jt.a,{dataSource:g,columns:[{key:"date",title:"Date",dataIndex:"date",render:function(t){return t.format("YYYY-MM-DD")},sorter:function(t,e){return t.date.valueOf()-e.date.valueOf()},width:150},{key:"account",title:"Account",dataIndex:"account",width:150,sorter:function(t,e){return t.account.localeCompare(e.account)}},{key:"symbol",title:"Symbol",dataIndex:"symbol",render:function(t,e){return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(y.a.Link,{rel:"noreferrer noopener",href:"https://finance.yahoo.com/quote/".concat(t),target:"_blank",children:t}),Object(it.jsx)("div",{style:{fontSize:10},children:"usd"===e.currency?"USD":"CAD"})]})},width:125,filters:Array.from(new Set(g.map((function(t){return t.symbol})))).map((function(t){return{text:t,value:t}})).sort((function(t,e){return t.value.localeCompare(e.value)})),onFilter:function(t,e){return 0===e.symbol.indexOf(t)},sorter:function(t,e){return t.symbol.localeCompare(e.symbol)}},{key:"shares",title:"Shares",dataIndex:"shares",align:"right",render:function(t){return o?"-":B(t,0)},width:75},{key:"price",title:Object(it.jsxs)(it.Fragment,{children:["Buy Price / Sell Price"," ",Object(it.jsx)(Me.a,{title:"This is the Adjusted Cost Base (ACB) which includes the buy/sell transaction fees.",children:Object(it.jsx)(De.a,{twoToneColor:"#bfbfbf"})})]}),align:"right",render:function(t,e){return Object(it.jsxs)(it.Fragment,{children:[B(e.buyPrice)," / ",B(e.sellPrice)]})}},{key:"gain",title:Object(it.jsxs)(it.Fragment,{children:["P&L $%",Object(it.jsx)("div",{style:{fontSize:12},children:"(CAD)"})]}),render:function(t,e){return Object(it.jsxs)(M.a,{style:{color:e.pnl<0?"red":"green"},children:[Object(it.jsx)(y.a.Text,{strong:!0,style:{color:"inherit",fontSize:14},children:o?"-":B(e.pnl)}),Object(it.jsx)(M.a,{}),Object(it.jsxs)(y.a.Text,{style:{color:"inherit",fontSize:13},children:[B(e.pnlRatio),"%"]})]})},align:"right",sorter:function(t,e){return t.pnlRatio-e.pnlRatio}},{key:"openDate",title:"Open Date",render:function(t,e){return(e.buyDate.isAfter(e.sellDate)?e.sellDate:e.buyDate).format("YYYY-MM-DD")}},{key:"holding-period",title:"Holding Period",render:function(t,e){return e.buyDate.diff(e.sellDate)?D.a.duration(e.buyDate.diff(e.sellDate)).humanize():"Same Day"}}]})})]}):Object(it.jsx)(j.a,{description:"No realized gains for the selected time period."})}var Ee="P/L (%): <b>{point.pnlRatio:.2f}%</b> <br />P/L ($): <b>{point.pnlValue} {point.currency}</b><br />Price: {point.stockPrice} {point.currency}";function Fe(t){var e=t.isPrivateMode,n=t.symbol,a=t.position,o=t.addon,i=t.showValueChart,r=Object(l.useState)(!1),u=Object(s.a)(r,2),c=u[0],d=u[1],p=Object(l.useState)([]),h=Object(s.a)(p,2),b=h[0],f=h[1],m=Object(l.useRef)(!1);function y(t){if(m.current){var e,n=z(t.to),l=[];t.data.filter((function(t){return t})).reverse().forEach((function(t){e||(e=t),100*Math.abs((t-e)/t)>100&&(t=e),n.isoWeekday()<=5&&l.push({timestamp:n.clone(),closePrice:t}),n.subtract(1,"days"),e=t}));var a=l.sort((function(t,e){return t.timestamp.valueOf()-e.timestamp.valueOf()}));f(a)}else f([])}function g(){var t,l={};a.transactions.filter((function(t){return["buy","sell"].includes(t.type)})).forEach((function(e){var n=function(t){var e=D()(t),n=e.day(),l=6===n?2:0===n?1:0;return(l?e.add(l,"days"):e).format("YYYY-MM-DD")}(e.date.clone()),a=l[n];if(t)if(a){var o=a.shares+e.shares;a={price:o?(a.price*a.shares+e.price*e.shares)/o:e.price,shares:o}}else{var i=t.shares+e.shares;a={price:i?(t.price*t.shares+e.price*e.shares)/i:e.price,shares:i}}else a={shares:e.shares,price:e.price};l[n]=a,t=a.shares?a:void 0}));var o,r=[];return b.forEach((function(t){var n=l[t.timestamp.format("YYYY-MM-DD")];if(o=n||o)if(0===o.shares)r=[];else{var u=o.price*o.shares,s=t.closePrice*o.shares,c=(t.closePrice-o.price)/o.price*100;r.push({x:t.timestamp.valueOf(),y:i?s-u:c,d:t.timestamp.format("YYYY-MM-DD"),pnlRatio:c,pnlValue:e?"-":B(s-u),currency:a.security.currency.toUpperCase(),stockPrice:B(t.closePrice)})}})),[{id:"dataseries",name:n,data:r,type:"spline",tooltip:{pointFormat:Ee,split:!0}},{type:"flags",name:"Max Gain/Loss",tooltip:{pointFormat:"<b>{point.text}</b><br />".concat(Ee)},data:[Object(F.a)(Object(F.a)({},N(r,"y")),{},{title:"L",text:"Max Loss"}),Object(F.a)(Object(F.a)({},q(r,"y")),{},{title:"G",text:"Max Gain"})].sort((function(t,e){return t.x-e.x})),onSeries:"dataseries",shape:"squarepin",width:16}].concat(Object(Ft.a)(["buy","sell","income","dividend","distribution","tax","fee"].map((function(t){return function(t){var e=["buy","sell"].includes(t);return{name:P.a.startCase(t),shape:"squarepin",type:"flags",width:25,tooltip:{pointFormat:"<b>{point.text}</b>"},data:a.transactions.filter((function(e){return e.type===t})).sort((function(t,e){return t.date.valueOf()-e.date.valueOf()})).reduce((function(t,e){var n=t.pop();return n&&n.date.valueOf()===e.date.valueOf()?t.push(Object(F.a)(Object(F.a)({},n),{},{shares:e.shares&&n.shares?n.shares+e.shares:n.shares,amount:e.amount+n.amount,price:e.price&&n.price?(Number(e.price)+Number(n.price))/2:n.price})):(n&&t.push(n),t.push(e)),t}),[]).map((function(n){return{transaction:n,x:n.date.valueOf(),title:e?Math.round(n.shares):t.charAt(0).toUpperCase(),text:e?"".concat(P.a.startCase(t),": ").concat(n.shares,"@").concat(B(n.price)):"".concat(P.a.startCase(t),": $").concat(U(n.amount,2))}})),color:L[t],fillColor:L[t],style:{color:"white"}}}(t)}))))}Object(l.useEffect)((function(){return m.current=!0,function(){m.current=!1}}),[]),Object(l.useEffect)((function(){if(n&&m.current){d(!0),E("stock-pnl-timeline");var t=a.transactions&&a.transactions.length?a.transactions[0].date:D()();if(o)o.request({query:{},method:"GET",endpoint:"securities/".concat(a.security.id,"/history?from=").concat(t.format("YYYY-MM-DD"))}).then((function(t){return y(t)})).catch((function(t){console.log("Failed to load stock prices.",t),f([])})).finally((function(){return d(!1)}));else{var e="https://app.wealthica.com/api/securities/".concat(a.security.id,"/history?from=").concat(t.format("YYYY-MM-DD"));fetch(V(e),{cache:"force-cache",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){return y(t)})).catch((function(t){console.log("Failed to load stock prices.",t),f([])})).finally((function(){return d(!1)}))}}}),[n,o,a]);var v=Object(l.useMemo)((function(){return function(t){var l=a.transactions.filter((function(t){return"dividend"===t.type})).reduce((function(t,e){return t+e.amount}),0);return{title:{text:"P/L (".concat(i?"$":"%",") Timeline for ").concat(n),style:{color:"#1F2A33",textDecoration:"underline",fontWeight:"bold"}},subtitle:{text:e?"Shares: -, Value: -, P/L: -":"Shares: ".concat(a.quantity,"@").concat(B(a.investments.reduce((function(t,e){return t+e.book_value}),0)/a.quantity),", Market Value: CAD ").concat(U(a.market_value,2),", P/L: CAD ").concat(U(a.gain_amount,2)).concat(l?", Dividends: CAD ".concat(U(l,2)):""),style:{color:"#1F2A33",fontWeight:"bold"}},rangeSelector:{selected:1,enabled:!0,inputEnabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},plotOptions:{spline:{gapSize:15,zones:[{value:-1e-8,color:"#FF897C"},{color:"#84C341"}]}},yAxis:[{crosshair:{dashStyle:"Dash"},labels:{formatter:function(){return i?U(this.value,2):"".concat(B(this.value,0),"%")}},title:{text:void 0},opposite:!1}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{chart:{height:300},subtitle:{text:void 0}}}]},series:t,legend:{enabled:!0}}}(g())}),[n,a,b,i]);return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)("hr",{}),c?Object(it.jsx)(M.b,{justifyContent:"center",height:300,alignItems:"center",children:Object(it.jsx)(O.a,{size:"large"})}):b&&b.length?Object(it.jsx)(vt,{constructorType:"stockChart",options:v}):Object(it.jsx)(j.a,{description:"Can't load stock price for ".concat(n)}),Object(it.jsx)("hr",{})]})}var Ye=a.a.memo(Fe);function Te(t){var e=Object(l.useState)(!1),n=Object(s.a)(e,2),a=n[0],o=n[1],i=Object(l.useState)(),r=Object(s.a)(i,2),u=r[0],c=r[1];function d(e){return[{name:e?"Top Gainers":"Top Losers",type:"column",events:{click:function(t){t.point.name&&u!==t.point.name&&setTimeout((function(){c(t.point.name)}),50)}},colorByPoint:!0,data:t.positions.filter((function(t){return e?t.gain_percent>0:t.gain_percent<=0})).sort((function(t,e){return a?t.gain_amount-e.gain_amount:t.gain_percent-e.gain_percent})).map((function(e){return{name:R(e.security),y:a?e.gain_amount:100*e.gain_percent,gainRatio:100*e.gain_percent,gain:t.isPrivateMode?"-":B(e.gain_amount),gainDisplay:t.isPrivateMode?"-":U(e.gain_amount,1)}})),tooltip:{headerFormat:"",pointFormat:'<table>\n            <tr><th colspan="2" style="text-align:center">{point.name}</th></tr>\n            <tr>\n              <td>P&L %</td>\n              <td align="right"><b>{point.gainRatio:.1f}%</b></td>\n            </tr>\n            <tr>\n              <td>P&L $</td>\n              <td align="right" style="padding-left: 16px;"><b>{point.gain} CAD</b></td>\n            </tr>\n          </table>'},dataLabels:{enabled:!0,format:a?"{point.gainDisplay}":"{point.y:.1f}%"},showInLegend:!1}]}function p(e){var n=e.title,l=e.yAxisTitle,o=e.subtitle;return{series:e.series,tooltip:{outside:!0,useHTML:!0,backgroundColor:"#FFF",style:{color:"#1F2A33"}},title:{text:n},subtitle:{text:o,style:{color:"#1F2A33"}},xAxis:{type:"category",labels:{rotation:-45,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}},yAxis:{labels:{enabled:!!a||!t.isPrivateMode},title:{text:l}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:"black"}}}},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{chart:{height:300},yAxis:{labels:{enabled:!1}},subtitle:{text:void 0},navigator:{enabled:!1}}}]}}}var h=Object(l.useMemo)((function(){return{gainers:p({title:"Top Gainers",subtitle:"(click on a stock to view the P/L timeline)",yAxisTitle:"Gain (".concat(a?"$":"%",")"),series:d(!0)}),losers:p({title:"Top Losers",subtitle:"(click on a stock to view the P/L timeline)",yAxisTitle:"Loss (".concat(a?"$":"%",")"),series:d(!1)})}}),[a,t.isPrivateMode,t.positions]),b=h.gainers,f=h.losers;return t.positions.length?Object(it.jsxs)(it.Fragment,{children:[Object(it.jsxs)(M.b,{mb:3,mt:2,width:1,justifyContent:"center",alignContent:"center",justifyItems:"center",alignItems:"center",children:[Object(it.jsx)(zt.a,{checked:a,onChange:function(t){o(t),E("gainers-show-by-pnl-value",{checked:t})}}),Object(it.jsx)(M.a,{px:1}),Object(it.jsx)(y.a.Text,{strong:!0,mark:a,style:{fontSize:17},children:"Show By P&L Value ($)"})]}),!!(b.series&&b.series[0]&&b.series[0].data.length)&&Object(it.jsx)(vt,{options:b}),function(){if(!u)return Object(it.jsx)(it.Fragment,{});var e=t.positions.filter((function(t){return R(t.security)===u}))[0];return e?Object(it.jsx)(Ye,{isPrivateMode:t.isPrivateMode,symbol:u,position:e,addon:t.addon,showValueChart:a}):Object(it.jsx)(it.Fragment,{})}(),!!(f.series&&f.series[0]&&f.series[0].data.length)&&Object(it.jsx)(vt,{options:f})]}):Object(it.jsx)(j.a,{description:"No Holdings"})}var Le="MMM DD, YYYY";function Qe(t){var e=t.portfolios.reduce((function(t,e){return t[e.date]=e,t}),{}),n=function(t){return e[t]},a=function(){var l=t.portfolios[t.portfolios.length-1],a=D()().utc();if(a.format("YYYY-MM-DD")===l.date&&a.hour()<20&&t.portfolios.length>1&&(l=t.portfolios[t.portfolios.length-2]),D()(l.date).isoWeekday()>5){var o=H(l.date).format("YYYY-MM-DD");l=e[o]}var i=l.date,r=new Set,u=[];[{id:"1D",label:"1 Day",date:H(i)},{id:"1W",label:"1 Week",date:D()(i).subtract(1,"weeks")},{id:"1M",label:"1 Month",date:D()(i).subtract(1,"months").add(1,"days")},{id:"3M",label:"3 Months",date:D()(i).subtract(3,"months").add(1,"days")},{id:"6M",label:"6 Months",date:D()(i).subtract(6,"months").add(1,"days")},{id:"1Y",label:"1 Year",date:D()(i).subtract(1,"years").add(1,"days")},{id:"2Y",label:"2 Years",date:D()(i).subtract(2,"years").add(1,"days")},{id:"3Y",label:"3 Years",date:D()(i).subtract(3,"years").add(1,"days")},{id:"5Y",label:"5 Years",date:D()(i).subtract(5,"years").add(1,"days")},{id:"MTD",label:"Month To Date",date:D()(i).startOf("month")},{id:"WTD",label:"Week To Date",date:D()(i).startOf("week")},{id:"YTD",label:"Year To Date",date:D()(i).startOf("year")}].map((function(t){var e=n(t.date.format("YYYY-MM-DD"));if(e){var a="".concat(e.date,"-").concat(l.date);r.has(a)||(u.push({id:t.id,label:t.label,date:t.date,startPortfolio:e,endPortfolio:l}),r.add(a))}return null})),[1,2,3,4].forEach((function(t){var e=D()(i).subtract(t,"years").year(),l=D()().year(e).month("Jan").startOf("month"),a=n(l.format("YYYY-MM-DD")),o=n(D()().year(e).month("Dec").endOf("month").format("YYYY-MM-DD"));if(a&&o){var s="".concat(a.date,"-").concat(o.date);r.has(s)||(u.push({id:"FY ".concat(e),label:"Jan - Dec ".concat(e),date:l,startPortfolio:a,endPortfolio:o}),r.add(s))}}));var s=u.filter((function(t){return t.endPortfolio.date!==t.startPortfolio.date})).sort((function(t,e){return t.date.valueOf()>e.date.valueOf()?1:-1})).map((function(t){var e=t.startPortfolio.value-t.startPortfolio.deposits,n=t.endPortfolio.value-t.endPortfolio.deposits,l=e/t.startPortfolio.deposits*100,a=n/t.endPortfolio.deposits*100,o=n-e,i=a-l;return{id:t.id,label:t.label,date:t.date.format(Le),startDate:D()(t.startPortfolio.date).format(Le),endDate:D()(t.endPortfolio.date).format(Le),startPnl:e,startRatio:l,endPnl:n,endRatio:a,changeRatio:i,changeValue:o,color:i>=0?"green":"red"}}));return console.debug("PnL change data -- ",s),[{name:"PnL Change %",type:"column",data:s.map((function(e){return{key:e.id,name:e.id,label:e.label,y:e.changeRatio,startDate:e.startDate,startPnl:t.isPrivateMode?"-":U(e.startPnl,2),startRatio:e.startRatio,endDate:e.endDate,endPnl:t.isPrivateMode?"-":U(e.endPnl,2),endRatio:e.endRatio,changeValue:t.isPrivateMode?"-":"$".concat(U(e.changeValue,1))}})),point:{events:{mouseOver:function(t){E("mouse-over-point",{chart:"pnl-change-over-periods",name:t&&t.target?t.target.key:null})}}},tooltip:{headerFormat:"",pointFormat:'<b style="font-size: 13px;">{point.label} ({point.key})</b><br /><b style="color: {point.color};font-size: 14px;">{point.y:.1f}% ({point.changeValue})</b><br /><hr />\n            {point.startDate}: <b>{point.startRatio:.2f}%</b> (${point.startPnl})<br />\n            {point.endDate}: <b>{point.endRatio:.2f}%</b> (${point.endPnl})<br />'},dataLabels:{enabled:!0,format:"{point.y:.1f}% ({point.changeValue})"},showInLegend:!1}]},o=Object(l.useMemo)((function(){return{series:{series:a()}.series,tooltip:{outside:!0,useHTML:!0,backgroundColor:"#FFF",style:{color:"#1F2A33"}},title:{text:"P&L % Change Over Multiple Time Periods"},subtitle:{text:"This chart shows how your portfolio had performed in multiple time slices. This chart is inspired based on YoY growth. You might want to see the change in your P&L in the last few days, weeks, months, years etc.,",style:{color:"#1F2A33"}},xAxis:{type:"category",labels:{style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}},yAxis:{labels:{enabled:!t.isPrivateMode,format:"{value}%"},title:{text:"P&L Change (%)"}},plotOptions:{column:{zones:[{value:-1e-8,color:"#FF897C"},{color:"#84C341"}]}},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{chart:{height:300},yAxis:{labels:{enabled:!1}},subtitle:{text:void 0},navigator:{enabled:!1}}}]}}}),[t.isPrivateMode,t.portfolios]);return Object(it.jsx)(Ot,{title:"P&L % Change Over Multiple Time Periods",children:Object(it.jsx)(vt,{options:o})})}var ze=a.a.memo(Qe),Ie={from:"2004-01-02T00:00:00.000Z",to:"2021-04-05T00:00:00.000Z",high:{date:"2007-11-07T00:00:00.000Z",value:1.0905},low:{date:"2016-01-20T00:00:00.000Z",value:.6854},first:{date:"2007-01-02T00:00:00.000Z",value:.8584},last:{date:"2021-04-04T00:00:00.000Z",value:.79586152},difference:-.06253848000000006,change:-.0729,data:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.8584,.8548,.8498,.8507,.8507,.8507,.8491,.8486,.8495,.8502,.8546,.8546,.8546,.8561,.8514,.852,.8509,.8532,.8532,.8532,.8504,.8463,.8457,.8487,.8476,.8476,.8476,.8463,.8465,.848,.8507,.8447,.8447,.8447,.8462,.846,.8437,.8437,.8519,.8519,.8519,.8514,.8557,.8576,.8592,.8593,.8593,.8593,.8592,.8548,.8612,.8609,.8632,.8632,.8632,.8621,.8592,.8547,.8538,.8508,.8508,.8508,.8467,.8503,.8485,.8474,.8538,.8538,.8538,.8553,.8557,.8508,.8505,.8518,.8518,.8518,.8509,.8592,.8637,.8639,.8621,.8621,.8621,.8601,.8633,.8636,.8637,.8674,.8674,.8674,.865,.8641,.8633,.8689,.8689,.8689,.8689,.8679,.8711,.8734,.88,.8787,.8787,.8787,.8842,.8854,.8859,.8861,.8907,.8907,.8907,.8907,.8906,.8973,.8927,.8966,.8966,.8966,.9036,.9018,.902,.9033,.9034,.9034,.9034,.9071,.9051,.9038,.9031,.8981,.8981,.8981,.9034,.911,.9067,.911,.9188,.9188,.9188,.9188,.9212,.9244,.9224,.9263,.9263,.9263,.9258,.9329,.9299,.9347,.943,.943,.943,.9452,.9429,.9446,.9422,.9414,.9414,.9414,.9422,.9403,.9375,.936,.9364,.9364,.9364,.9327,.9399,.9393,.932,.9367,.9367,.9367,.9334,.9352,.9332,.941,.9404,.9404,.9404,.9404,.9438,.9461,.9464,.9542,.9542,.9542,.9543,.9505,.9471,.9552,.9545,.9545,.9545,.9588,.9582,.9581,.9591,.9579,.9579,.9579,.9568,.9641,.9592,.9519,.9443,.9443,.9443,.9358,.9384,.9462,.9499,.9498,.9498,.9498,.9498,.9476,.9525,.9465,.9491,.9491,.9491,.9516,.9402,.9306,.9298,.9403,.9403,.9403,.945,.9433,.9415,.9463,.9501,.9501,.9501,.9509,.9421,.9441,.9463,.9466,.9466,.9466,.9466,.9527,.9517,.9494,.9482,.9482,.9482,.9494,.9587,.9642,.9684,.9715,.9715,.9715,.9701,.9769,.9855,.9984,.9991,.9991,.9991,.9988,.999,.9952,.9969,1.0037,1.0037,1.0037,1.0069,.9996,1.0039,1.0017,1.0192,1.0192,1.0192,1.0192,1.0156,1.019,1.0264,1.0268,1.0268,1.0268,1.0248,1.0226,1.027,1.0273,1.0376,1.0376,1.0376,1.0193,1.0337,1.0297,1.0337,1.0396,1.0396,1.0396,1.0473,1.0488,1.0527,1.0527,1.0685,1.0685,1.0685,1.0708,1.0817,1.0905,1.0746,1.0648,1.0648,1.0648,1.0648,1.037,1.0409,1.0196,1.0279,1.0279,1.0279,1.0166,1.0152,1.0106,1.0156,1.0117,1.0117,1.0117,1.0125,1.0035,1.0093,1.0072,.9992,.9992,.9992,.9995,.9897,.9871,.9878,.9947,.9947,.9947,.9898,.9893,.9894,.9788,.9865,.9865,.9865,.9928,.9896,.9944,1.0017,1.0056,1.0056,1.0056,1.0131,1.0131,1.0131,1.0193,1.022,1.022,1.022,1.012,1.012,1.0074,1.0096,1.0009,1.0009,1.0009,.9949,1.0014,.9916,.9863,.9805,.9805,.9805,.9793,.9834,.9767,.9715,.9713,.9713,.9713,.9686,.9753,.9722,.9929,.9956,.9956,.9956,.9956,1.0023,1.0063,.9978,1.0057,1.0057,1.0057,1.0069,.9957,.9974,.9886,1.0009,1.0009,1.0009,.9983,1.0037,1.0005,1.003,.9984,.9984,.9984,.993,.9843,.9814,.9914,.9846,.9846,.9846,1.002,1.0143,1.0227,1.0289,1.0206,1.0206,1.0206,1.0132,1.0044,1.0103,1.0154,1.0086,1.0086,1.0086,1.0024,1.0047,1.0104,1.0161,1.0132,1.0132,1.0132,1.0022,1.0062,.9972,.9738,.9738,.9738,.9738,.9801,.9826,.9823,.9855,.9822,.9822,.9822,.9729,.9737,.9826,.9919,.991,.991,.991,.9891,.9852,.981,.9824,.979,.979,.979,.9796,.9822,.9975,.9888,.9917,.9917,.9917,.9934,.9967,.9809,.987,.9839,.9839,.9839,.9843,.9871,.9906,.9815,.982,.982,.982,.9877,.9965,.9979,.9853,.9939,.9939,.9939,.9961,.9995,.998,1.0002,1.0032,1.0032,1.0032,1.0032,1.007,1.0158,1.0141,1.0118,1.0118,1.0118,1.0105,1.0068,1.0086,1.013,1.0058,1.0058,1.0058,.9987,.9949,.9857,.9806,.9816,.9816,.9816,.978,.9763,.9829,.9773,.9726,.9726,.9726,.9793,.9805,.9817,.987,.9831,.9831,.9831,.984,.9866,.9867,.988,.9878,.9878,.9878,.9817,.9817,.9873,.9798,.9847,.9847,.9847,.983,.9797,.9893,.9899,.9909,.9909,.9909,.9939,.998,.9983,.9984,.9947,.9947,.9947,.9979,.9916,.9913,.9887,.9839,.9839,.9839,.9783,.9746,.9764,.9749,.9753,.9753,.9753,.9753,.9591,.9551,.9514,.9365,.9365,.9365,.9367,.9398,.9384,.9416,.9426,.9426,.9426,.943,.9428,.9409,.9564,.9562,.9562,.9562,.9557,.9539,.9537,.95,.9411,.9411,.9411,.9411,.9345,.9428,.9397,.9398,.9398,.9398,.9349,.9364,.9313,.9263,.9426,.9426,.9426,.9366,.9316,.9274,.9345,.9551,.9551,.9551,.9632,.9657,.9661,.9673,.9663,.9663,.9663,.9621,.9435,.9426,.9286,.9249,.9249,.9249,.9069,.9043,.889,.8706,.8398,.8398,.8398,.8398,.8619,.8473,.8367,.8458,.8458,.8458,.835,.8195,.8001,.7954,.7854,.7854,.7854,.7734,.7726,.8125,.8183,.822,.822,.822,.8421,.8696,.8624,.8462,.845,.845,.845,.8374,.8374,.8133,.812,.8165,.8165,.8165,.8189,.8171,.8084,.7779,.778,.778,.778,.8163,.8191,.8102,.8111,.8083,.8083,.8083,.808,.8051,.7954,.7974,.7711,.7711,.7711,.7954,.7935,.7964,.8208,.8031,.8031,.8031,.8096,.8171,.8293,.8358,.8147,.8147,.8147,.8205,.822,.8247,.8247,.8247,.8247,.8247,.8219,.8185,.8166,.8166,.826,.826,.826,.8393,.8458,.8437,.8412,.8387,.8387,.8387,.828,.8159,.8076,.7921,.7973,.7973,.7973,.7987,.7933,.7849,.7918,.8013,.8013,.8013,.8193,.8131,.8266,.8205,.8088,.8088,.8088,.8062,.8106,.8153,.8128,.8072,.8072,.8072,.8202,.8109,.8049,.8015,.8043,.8043,.8043,.8041,.7936,.7939,.794,.7974,.7974,.7974,.7992,.8019,.7964,.8028,.787,.787,.787,.7758,.7729,.7834,.7766,.7774,.7774,.7774,.7692,.7814,.7808,.7749,.7844,.7844,.7844,.7859,.7863,.7862,.8114,.8083,.8083,.8083,.8115,.8155,.8167,.811,.807,.807,.807,.7943,.7935,.791,.8075,.8106,.8106,.8106,.8046,.8103,.8095,.8147,.8147,.8147,.8147,.8189,.827,.8307,.829,.8233,.8233,.8233,.8102,.8092,.8091,.8137,.8269,.8269,.8269,.826,.8171,.8328,.8375,.8423,.8423,.8423,.8488,.8503,.8524,.8537,.8635,.8635,.8635,.8627,.8565,.8559,.8527,.8506,.8506,.8506,.8506,.8644,.8746,.8761,.8902,.8902,.8902,.8883,.8929,.8993,.899,.9123,.9123,.9123,.9198,.9236,.9111,.9092,.8972,.8972,.8972,.8905,.9057,.9008,.9106,.8947,.8947,.8947,.8818,.8828,.8794,.8871,.886,.886,.886,.866,.8651,.8725,.8636,.8672,.8672,.8672,.8633,.8602,.8602,.8618,.8605,.8605,.8605,.8612,.8598,.858,.8604,.8584,.8584,.8584,.8666,.8797,.8933,.8952,.8954,.8954,.8954,.9036,.9027,.9107,.9202,.9223,.9223,.9223,.9229,.9191,.9184,.9246,.9268,.9268,.9268,.9268,.9358,.9328,.9295,.9228,.9228,.9228,.9218,.9101,.9195,.9215,.9115,.9115,.9115,.9026,.9061,.9117,.9173,.926,.926,.926,.9309,.9275,.9098,.9124,.9192,.9192,.9192,.9118,.9065,.9038,.9063,.9184,.9184,.9184,.9184,.929,.927,.9249,.9306,.9306,.9306,.9211,.9291,.9378,.9422,.9325,.9325,.9325,.9279,.9361,.9325,.92,.9162,.9162,.9162,.9207,.9199,.9327,.9282,.9221,.9221,.9221,.9296,.946,.9417,.9492,.9593,.9593,.9593,.9593,.9711,.9716,.9706,.9626,.9626,.9626,.9701,.9524,.9604,.9537,.9517,.9517,.9517,.942,.9391,.9297,.9341,.9282,.9282,.9282,.9308,.9342,.9392,.9389,.9328,.9328,.9328,.9464,.9508,.9508,.9507,.9517,.9517,.9517,.956,.9441,.9524,.94,.9349,.9349,.9349,.9478,.9427,.9523,.9438,.9413,.9413,.9413,.9457,.9586,.9553,.9486,.9508,.9508,.9508,.9514,.943,.9477,.9507,.9447,.9447,.9447,.944,.9416,.9452,.9334,.9365,.9365,.9365,.9439,.9473,.9546,.9535,.9535,.9535,.9535,.9535,.9611,.9501,.9555,.9555,.9555,.9555,.9636,.9641,.9677,.9661,.9667,.9667,.9667,.9693,.9639,.9688,.9746,.9721,.9721,.9721,.9755,.9682,.9544,.9536,.9466,.9466,.9466,.945,.9429,.9384,.9396,.939,.939,.939,.9387,.9428,.9426,.9316,.9324,.9324,.9324,.9353,.9355,.9371,.9503,.9496,.9496,.9496,.9542,.9591,.9565,.9568,.9597,.9597,.9597,.959,.9508,.9479,.9368,.95,.95,.95,.9596,.9684,.9721,.97,.9722,.9722,.9722,.9722,.9755,.9763,.9742,.9816,.9816,.9816,.9788,.9854,.9888,.9863,.9847,.9847,.9847,.9811,.9825,.974,.9815,.9723,.9723,.9723,.9801,.9815,.9846,.9926,.9926,.9926,.9926,.9975,.9999,.997,.998,.9945,.9945,.9945,.9985,.9972,1.0039,.9986,.9854,.9854,.9854,.9803,1.0014,1.0016,.9987,.9973,.9973,.9973,.9991,.983,.9874,.9946,.9885,.9885,.9885,.9868,.9789,.9741,.9581,.9587,.9587,.9587,.976,.9809,.9803,.9853,.9667,.9667,.9667,.9611,.9681,.951,.9382,.9461,.9461,.9461,.9461,.9278,.9389,.9527,.9525,.9525,.9525,.9558,.9543,.9612,.9601,.9509,.9509,.9509,.9488,.9508,.962,.9674,.9678,.9678,.9678,.9753,.972,.9769,.9724,.9768,.9768,.9768,.9805,.9803,.9584,.9586,.9643,.9643,.9643,.9674,.9498,.9429,.9429,.9391,.9391,.9391,.9381,.9526,.9499,.9573,.9682,.9682,.9682,.9635,.9724,.9703,.9613,.949,.949,.949,.9471,.95,.959,.9638,.964,.964,.964,.9697,.9655,.9655,.9643,.9718,.9718,.9718,.9718,.978,.9818,.9844,.9734,.9734,.9734,.9741,.9664,.9564,.9584,.9614,.9614,.9614,.9586,.9697,.9719,.9616,.9524,.9524,.9524,.9511,.9467,.9397,.9482,.9482,.9482,.9482,.9468,.9399,.9527,.9506,.9605,.9605,.9605,.9605,.959,.9653,.9682,.9654,.9654,.9654,.9729,.9783,.9726,.9733,.968,.968,.968,.9727,.9695,.9683,.9699,.9744,.9744,.9744,.9747,.9703,.9709,.9711,.979,.979,.979,.9771,.9835,.9928,.9837,.9866,.9866,.9866,.9866,.9891,.997,.9964,.9893,.9893,.9893,.9853,.9711,.9761,.9772,.9744,.9744,.9744,.9806,.9782,.969,.9802,.9815,.9815,.9815,.9866,.9902,.9909,.9976,.9985,.9985,.9985,.9978,.9987,.9983,.9983,.9921,.9921,.9921,.9935,.9774,.9797,.9829,.9796,.9796,.9796,.9816,.9761,.9893,.9918,.9813,.9813,.9813,.9778,.9743,.9843,.9954,.994,.994,.994,.9942,.9908,.9902,.9903,.9908,.9908,.9908,.9954,.9959,.9965,.9944,.9878,.9878,.9878,.9825,.9828,.9854,.9906,.9936,.9936,.9936,.9936,.9936,.9997,.9991,1.0054,1.0054,1.0054,1.0054,1.0014,1.0053,1.0046,1.0066,1.0066,1.0066,1.0076,1.0098,1.0138,1.0134,1.0097,1.0097,1.0097,1.014,1.009,1.0061,.9999,1.0055,1.0055,1.0055,1.0066,1.0014,1.0047,1.0059,1.001,1.001,1.001,.9978,1.0079,1.0118,1.01,1.01,1.01,1.01,1.0115,1.0095,1.0053,1.0045,1.0098,1.0098,1.0098,1.0116,1.0114,1.0147,1.0164,1.0173,1.0173,1.0173,1.0165,1.0143,1.0077,1.0161,1.0195,1.0195,1.0195,1.0268,1.0264,1.0273,1.026,1.0294,1.0294,1.0294,1.0269,1.0295,1.0324,1.0276,1.0273,1.0273,1.0273,1.0247,1.0173,1.0083,1.0116,1.0158,1.0158,1.0158,1.0231,1.0238,1.0182,1.0259,1.0227,1.0227,1.0227,1.0248,1.0245,1.0294,1.029,1.0385,1.0385,1.0385,1.0332,1.0378,1.043,1.0424,1.0454,1.0454,1.0454,1.0474,1.039,1.0373,1.0389,1.04,1.04,1.04,1.0319,1.0448,1.05,1.0505,1.0505,1.0505,1.0505,1.0481,1.0519,1.0472,1.0514,1.0542,1.0542,1.0542,1.0535,1.0537,1.0438,1.0342,1.0398,1.0398,1.0398,1.0351,1.0406,1.0436,1.0354,1.03,1.03,1.03,1.0306,1.0232,1.0285,1.0308,1.0272,1.0272,1.0272,1.0272,1.0231,1.0241,1.0195,1.0234,1.0234,1.0234,1.0241,1.0322,1.0294,1.0211,1.0235,1.0235,1.0235,1.022,1.0262,1.0225,1.0275,1.0238,1.0238,1.0238,1.0226,1.0324,1.0225,1.016,1.0207,1.0207,1.0207,1.022,1.0284,1.0282,1.0205,1.0153,1.0153,1.0153,1.0141,1.0182,1.0304,1.037,1.037,1.037,1.037,1.0419,1.0408,1.0355,1.0432,1.0387,1.0387,1.0387,1.0346,1.0343,1.0436,1.0433,1.0487,1.0487,1.0487,1.04,1.052,1.055,1.0581,1.0524,1.0524,1.0524,1.0583,1.0583,1.0555,1.0544,1.0484,1.0484,1.0484,1.0484,1.0438,1.038,1.0239,1.016,1.016,1.016,1.0111,1.0108,1.0091,1.0109,1.0122,1.0122,1.0122,1.0165,1.0186,1.0183,1.01,1.0153,1.0153,1.0153,1.01,1.0125,1.0121,1.016,1.0149,1.0149,1.0149,1.0225,1.0211,1.0221,1.0254,1.0188,1.0188,1.0188,1.0188,1.0091,1.0118,1.0143,1.0029,1.0029,1.0029,1.0043,1.0099,1.0088,1.0133,1.019,1.019,1.019,1.0103,1.0077,1.0014,.9681,.9726,.9726,.9726,.9672,.9813,.978,.9673,.9626,.9626,.9626,.9579,.943,.957,.9588,.9682,.9682,.9682,.9682,.9721,.9839,.9768,.9855,.9855,.9855,.985,.984,.9866,.9787,.991,.991,.991,.9961,.9858,.99,1.0058,1.0043,1.0043,1.0043,1.0065,.9806,.9876,.9875,.9823,.9823,.9823,.9831,.9862,.983,.9814,.9814,.9814,.9814,.9825,.977,.9798,.9779,.9745,.9745,.9745,.9629,.9645,.9542,.9552,.9536,.9536,.9536,.9683,.9713,.9807,.9829,.9838,.9838,.9838,.9861,.9884,.9896,.9811,.9803,.9803,.9803,.9732,.9724,.961,.9674,.9626,.9626,.9626,.9649,.9723,.9722,.979,.9796,.9796,.9796,.9796,.9796,.9771,.9794,.9833,.9833,.9833,.9833,.9911,.9867,.9807,.9773,.9773,.9773,.9735,.9839,.9812,.9806,.9761,.9761,.9761,.9833,.987,.9862,.9906,.9859,.9859,.9859,.9921,.9904,.9881,1.0014,.9987,.9987,.9987,.9968,.9948,1.0029,1.0015,1.0055,1.0055,1.0055,1.0046,1.0052,1.003,1.0059,.9984,.9984,.9984,1.0004,1.0009,1.0035,1.0038,1.003,1.003,1.003,1.0077,1.0045,1,1.0015,1.0012,1.0012,1.0012,1.0017,1.0044,1.0136,1.0153,1.0113,1.0113,1.0113,1.0064,.9985,1.0007,1.008,1.0106,1.0106,1.0106,1.0065,1.0096,1.0086,1.0072,1.0087,1.0087,1.0087,1.0121,1.0067,1.0069,.9997,1.0018,1.0018,1.0018,1.0079,1.0073,1.0016,1.0001,1.0009,1.0009,1.0009,1.0084,1.0091,1.0038,1.0073,1.0073,1.0073,1.0073,1.0028,.9972,.9961,1.005,1.0021,1.0021,1.0021,.9976,1.0124,1.0099,1.0074,1.009,1.009,1.009,1.0064,1.0118,1.0154,1.0162,1.0197,1.0197,1.0197,1.0117,1.0164,1.011,1.0134,1.0044,1.0044,1.0044,1.0065,1.0003,.9985,.9983,1.0032,1.0032,1.0032,.9981,.9971,.9899,.9839,.9794,.9794,.9794,.9794,.9813,.9732,.9732,.9723,.9723,.9723,.9765,.9753,.9722,.9663,.9634,.9634,.9634,.9599,.9602,.9712,.9762,.9679,.9679,.9679,.9725,.9739,.9737,.9759,.9762,.9762,.9762,.9741,.9825,.981,.9755,.9747,.9747,.9747,.9706,.9742,.9749,.9678,.9813,.9813,.9813,.9813,.9878,.9874,.9871,.9805,.9805,.9805,.9792,.9801,.9809,.979,.9851,.9851,.9851,.9845,.9861,.9889,.9924,.9887,.9887,.9887,.9831,.9796,.9822,.99,.994,.994,.994,.9967,.9986,.9983,.9938,1.0014,1.0014,1.0014,1.0014,1.0036,1.0053,1.0077,1.0085,1.0085,1.0085,1.0067,1.0087,1.011,1.012,1.0116,1.0116,1.0116,1.0111,1.0138,1.0072,1.0073,1.0081,1.0081,1.0081,1.0109,1.0138,1.0127,1.0075,1.0139,1.0139,1.0139,1.0139,1.0139,1.0099,1.0178,1.0227,1.0227,1.0227,1.0244,1.0284,1.0249,1.0253,1.0299,1.0299,1.0299,1.0285,1.0265,1.0262,1.0231,1.0252,1.0252,1.0252,1.0203,1.0235,1.0161,1.019,1.0166,1.0166,1.0166,1.0176,1.0174,1.0132,1.0181,1.0243,1.0243,1.0243,1.0243,1.0217,1.0218,1.0223,1.0205,1.0205,1.0205,1.0221,1.0148,1.0208,1.0196,1.0068,1.0068,1.0068,1.0062,1.0066,1.0054,1.0058,1.001,1.001,1.001,.9996,1.0006,1.0004,1.0027,1.0036,1.0036,1.0036,1.0035,1.0064,1.0028,1.0014,.9994,.9994,.9994,.9994,.9984,.9982,.9975,.9972,.9972,.9972,1.0036,1.003,1.002,1.0026,1.0074,1.0074,1.0074,1.0051,1.0064,1.0072,1.007,1.0068,1.0068,1.0068,1.0073,1.0074,1.0089,1.0091,1.0111,1.0111,1.0111,1.013,1.0135,1.0148,1.0155,1.0142,1.0142,1.0142,1.0162,1.0148,1.0134,1.0118,1.0058,1.0058,1.0058,1.0088,1.0088,1.0088,1.0051,1.0048,1.0048,1.0048,1.0051,1.0051,1.0143,1.0149,1.0146,1.0146,1.0146,1.0142,1.0129,1.0134,1.0142,1.0162,1.0162,1.0162,1.0163,1.0164,1.0152,1.0149,1.0063,1.0063,1.0063,1.0067,1.0066,1.0014,.9974,.9923,.9923,.9923,.9931,.9971,.9967,1.0008,1.0013,1.0013,1.0013,1.0023,1.0028,1.004,1.0007,.998,.998,.998,.9935,.9971,.998,.9992,.993,.993,.993,.993,.9883,.984,.9818,.9781,.9781,.9781,.9742,.9728,.9756,.9723,.9723,.9723,.9723,.9711,.9718,.9696,.9707,.9734,.9734,.9734,.9739,.9752,.9734,.9746,.9811,.9811,.9811,.9788,.9733,.9739,.9765,.978,.978,.978,.9787,.9837,.9833,.9846,.9846,.9846,.9846,.9836,.9854,.9868,.9863,.9813,.9813,.9813,.9806,.9841,.9852,.9894,.9868,.9868,.9868,.9798,.9775,.9745,.9751,.9743,.9743,.9743,.9744,.9748,.9737,.981,.9833,.9833,.9833,.9864,.9929,.9917,.9918,.9922,.9922,.9922,.9926,.9948,.9977,.9973,.9878,.9878,.9878,.9893,.9854,.983,.984,.9738,.9738,.9738,.9738,.973,.9678,.9699,.9687,.9687,.9687,.9681,.9642,.9643,.97,.9672,.9672,.9672,.9717,.9664,.9667,.9768,.9794,.9794,.9794,.9816,.9814,.9802,.9833,.9826,.9826,.9826,.9827,.9795,.9816,.9627,.9551,.9551,.9551,.9495,.9512,.9552,.9542,.9513,.9513,.9513,.9513,.9497,.9503,.9512,.9463,.9463,.9463,.9455,.9497,.9514,.9626,.9623,.9623,.9623,.9603,.9626,.9592,.9619,.965,.965,.965,.9674,.9705,.9711,.9725,.9717,.9717,.9717,.9746,.9715,.9721,.9673,.9632,.9632,.9632,.9632,.9635,.9601,.9664,.9706,.9706,.9706,.9712,.9667,.9688,.9671,.9667,.9667,.9667,.9677,.9638,.9576,.9513,.951,.951,.951,.9511,.9521,.9533,.95,.9476,.9476,.9476,.9476,.9494,.954,.9524,.9625,.9625,.9625,.9647,.9655,.9674,.969,.967,.967,.967,.9694,.9717,.9697,.9768,.9721,.9721,.9721,.9725,.9713,.9713,.9689,.9709,.9709,.9709,.9723,.9678,.9679,.9687,.9703,.9703,.9703,.9703,.968,.9618,.9631,.9629,.9629,.9629,.9629,.9642,.9667,.9723,.9721,.9721,.9721,.9712,.9724,.9629,.9595,.9569,.9569,.9569,.9574,.9574,.9564,.9589,.9576,.9576,.9576,.9602,.9571,.9598,.9577,.9536,.9536,.9536,.9536,.9522,.9553,.9527,.9562,.9562,.9562,.959,.9555,.9574,.9518,.9492,.9492,.9492,.9475,.9481,.9438,.944,.9435,.9435,.9435,.9404,.9379,.9349,.94,.9378,.9378,.9378,.9398,.9414,.9428,.9398,.9438,.9438,.9438,.9454,.9425,.9394,.9367,.9363,.9363,.9363,.9431,.9417,.9417,.9417,.9348,.9348,.9348,.9398,.9402,.9402,.9405,.9422,.9422,.9422,.9382,.9309,.9256,.9216,.916,.916,.916,.92,.9146,.9147,.9152,.9123,.9123,.9123,.9122,.9114,.9034,.8985,.904,.904,.904,.9011,.897,.897,.8952,.8994,.8994,.8994,.9029,.9046,.9008,.9037,.9076,.9076,.9076,.9051,.907,.9097,.9107,.9107,.9107,.9107,.9107,.913,.9054,.9006,.8986,.8986,.8986,.9043,.9022,.8995,.8977,.9029,.9029,.9029,.9016,.8998,.9049,.9119,.9018,.9018,.9018,.9005,.9021,.8983,.9044,.902,.902,.902,.9048,.902,.8945,.8888,.8933,.8933,.8933,.8915,.8948,.8974,.9044,.9038,.9038,.9038,.9047,.9069,.9065,.9062,.9109,.9109,.9109,.9115,.9156,.9172,.9164,.9124,.9124,.9124,.9116,.9107,.9068,.9093,.9093,.9093,.9093,.9074,.9069,.9065,.9069,.9056,.9056,.9056,.9064,.9122,.9127,.912,.9113,.9113,.9113,.9128,.9183,.9178,.921,.9174,.9174,.9174,.9185,.9181,.9185,.9185,.9189,.9189,.9189,.9189,.9173,.9147,.9176,.92,.92,.92,.9213,.92,.9202,.9228,.9202,.9202,.9202,.9179,.9162,.9143,.9146,.9144,.9144,.9144,.9166,.9162,.9202,.9216,.9201,.9201,.9201,.9217,.9215,.92,.9235,.9289,.9289,.9289,.9319,.9311,.9327,.934,.9367,.9367,.9367,.9367,.9367,.9375,.9404,.9399,.9399,.9399,.9379,.9369,.939,.9383,.9328,.9328,.9328,.9327,.9289,.9302,.93,.9314,.9314,.9314,.9314,.9307,.931,.9309,.9247,.9247,.9247,.9258,.9216,.9167,.9183,.9158,.9158,.9158,.9158,.9116,.9152,.9156,.9106,.9106,.9106,.9145,.9137,.915,.9165,.9166,.9166,.9166,.9184,.915,.9137,.9134,.9132,.9132,.9132,.9107,.9132,.9182,.9211,.921,.921,.921,.921,.9153,.9197,.9206,.9183,.9183,.9183,.9147,.9081,.9128,.9065,.9029,.9029,.9029,.9049,.9099,.9131,.9136,.9117,.9117,.9117,.9084,.9042,.9017,.9004,.8957,.8957,.8957,.8973,.8922,.8952,.8968,.8884,.8884,.8884,.8949,.8943,.8943,.8969,.8947,.8947,.8947,.8947,.89,.8858,.8876,.889,.889,.889,.8868,.8913,.8913,.8899,.8918,.8918,.8918,.8891,.8946,.898,.8934,.8869,.8869,.8869,.8834,.8774,.879,.8754,.8803,.8803,.8803,.8814,.8814,.8862,.8811,.8854,.8854,.8854,.8843,.8846,.8811,.884,.8898,.8898,.8898,.8864,.888,.89,.8824,.8751,.8751,.8751,.8815,.8772,.8803,.8793,.8754,.8754,.8754,.8717,.8755,.8709,.8669,.8666,.8666,.8666,.8598,.8602,.8599,.8625,.8599,.8599,.8599,.8589,.8601,.8604,.8604,.8604,.8604,.8604,.8597,.8621,.862,.862,.8527,.8527,.8527,.8484,.8472,.8438,.8466,.8434,.8434,.8434,.8382,.837,.8363,.8381,.8343,.8343,.8343,.8357,.8275,.8081,.8083,.8063,.8063,.8063,.8057,.8062,.8031,.7909,.7863,.7863,.7863,.795,.8028,.7968,.805,.7985,.7985,.7985,.8033,.7982,.7915,.8024,.8033,.8033,.8033,.8033,.8063,.8029,.8009,.7996,.7996,.7996,.7949,.7935,.8052,.8006,.7995,.7995,.7995,.7978,.8031,.8039,.8012,.7926,.7926,.7926,.7938,.7916,.7835,.788,.7811,.7811,.7811,.7834,.7831,.783,.7847,.794,.794,.794,.799,.7993,.7992,.8019,.7949,.7949,.7949,.7881,.7885,.7929,.7946,.7946,.7946,.7946,.8031,.8008,.7995,.7949,.794,.794,.794,.7935,.8014,.8078,.8193,.8177,.8177,.8177,.8194,.8147,.8163,.8232,.822,.822,.822,.8261,.8319,.8365,.8252,.8202,.8202,.8202,.8257,.8306,.8327,.8238,.8273,.8273,.8273,.8261,.8342,.8368,.8339,.8326,.8326,.8326,.8326,.8189,.8189,.8196,.8138,.8138,.8138,.8127,.8045,.801,.8015,.8022,.8022,.8022,.7968,.805,.8041,.8015,.8007,.8007,.8007,.8042,.8119,.8152,.8121,.8127,.8127,.8127,.8115,.811,.8125,.8191,.8144,.8144,.8144,.8138,.8112,.8055,.8099,.8091,.8091,.8091,.8076,.8017,.8017,.7958,.7955,.7955,.7955,.792,.7849,.786,.7856,.7865,.7865,.7865,.7836,.7844,.773,.7729,.7693,.7693,.7693,.7703,.7715,.7677,.7675,.7657,.7657,.7657,.7687,.7732,.7756,.7677,.7665,.7665,.7665,.7665,.7619,.7586,.7603,.7621,.7621,.7621,.7659,.7606,.7708,.7646,.7646,.7646,.7646,.7639,.7649,.7596,.7645,.7605,.7605,.7605,.7568,.7521,.7517,.7577,.7536,.7536,.7536,.7563,.7588,.7513,.7576,.7534,.7534,.7534,.7534,.7579,.7563,.7565,.7532,.7532,.7532,.7536,.754,.7588,.7584,.7606,.7606,.7606,.7547,.7531,.751,.749,.7505,.7505,.7505,.7484,.7455,.7466,.7552,.7568,.7568,.7568,.7642,.7659,.7671,.7682,.7724,.7724,.7724,.7724,.7701,.7703,.775,.7732,.7732,.7732,.7693,.7708,.7624,.7641,.7592,.7592,.7592,.7614,.7552,.7606,.7593,.7644,.7644,.7644,.7637,.763,.7596,.7595,.7514,.7514,.7514,.7533,.7542,.7542,.7515,.7501,.7501,.7501,.7489,.7505,.7489,.7537,.7497,.7497,.7497,.7487,.7514,.7518,.7519,.7485,.7485,.7485,.75,.7478,.7485,.7466,.7482,.7482,.7482,.7403,.7357,.7356,.7353,.7301,.7301,.7301,.7282,.7284,.7244,.7158,.7204,.7204,.7204,.7148,.7179,.7215,.7223,.7223,.7223,.7223,.7223,.722,.7203,.7225,.7225,.7225,.7225,.7159,.7146,.71,.7112,.7067,.7067,.7067,.704,.6997,.6996,.6957,.6883,.6883,.6883,.6893,.689,.6854,.7021,.7067,.7067,.7067,.7017,.7111,.7121,.7106,.7102,.7102,.7102,.714,.7123,.7222,.7285,.7207,.7207,.7207,.7183,.7236,.7159,.7179,.7228,.7228,.7228,.7228,.7215,.7308,.7288,.7246,.7246,.7246,.7307,.7251,.7264,.7366,.7382,.7382,.7382,.7395,.7459,.7425,.7459,.7498,.7498,.7498,.7518,.7469,.7555,.7478,.7567,.7567,.7567,.7523,.7486,.7484,.7702,.7703,.7703,.7703,.7652,.7662,.7574,.7536,.7536,.7536,.7536,.7585,.7602,.7715,.771,.7665,.7665,.7665,.7671,.7593,.7647,.7597,.7695,.7695,.7695,.7744,.7813,.7817,.7791,.7777,.7777,.7777,.7803,.7901,.792,.7868,.789,.789,.789,.7886,.7928,.7915,.7972,.7969,.7969,.7969,.7969,.7883,.7762,.778,.7739,.7739,.7739,.7696,.7717,.7791,.7777,.7728,.7728,.7728,.776,.7761,.7735,.7624,.7613,.7613,.7613,.7613,.7623,.7623,.7623,.7623,.7623,.7623,.7623,.7634,.7639,.7645,.7723,.7723,.7723,.7778,.7819,.7877,.7855,.7852,.7852,.7852,.7817,.7791,.7744,.7668,.7765,.7765,.7765,.7808,.7802,.78,.7842,.7721,.7721,.7721,.7646,.7639,.7698,.7687,.7687,.7687,.7687,.7786,.7723,.7689,.7702,.7649,.7649,.7649,.7618,.7683,.7713,.7743,.7707,.7707,.7707,.7702,.7675,.7669,.7659,.7588,.7588,.7588,.7561,.7571,.7564,.7593,.7668,.7668,.7668,.7668,.764,.7645,.7678,.7587,.7587,.7587,.7596,.7624,.7657,.7688,.7725,.7725,.7725,.7739,.7775,.7761,.7828,.7765,.7765,.7765,.7727,.7751,.7728,.773,.7724,.7724,.7724,.7681,.7648,.762,.763,.7693,.7693,.7693,.7693,.7786,.7755,.7747,.7673,.7673,.7673,.7647,.7595,.7582,.7607,.7568,.7568,.7568,.7587,.756,.7584,.7669,.7596,.7596,.7596,.7577,.7548,.7552,.7633,.7624,.7624,.7624,.7612,.7593,.7588,.757,.7517,.7517,.7517,.7517,.7553,.7532,.7565,.7594,.7594,.7594,.7612,.7631,.763,.7577,.7505,.7505,.7505,.7469,.75,.7485,.747,.7471,.7471,.7471,.7461,.7474,.7468,.747,.7456,.7456,.7456,.7472,.7498,.7458,.7421,.7421,.7421,.7421,.7363,.7425,.7454,.7447,.7397,.7397,.7397,.7442,.7438,.7424,.7415,.74,.74,.74,.7462,.7443,.7448,.7501,.752,.752,.752,.7535,.753,.7546,.7564,.7596,.7596,.7596,.761,.7622,.762,.7464,.7497,.7497,.7497,.7464,.7475,.7462,.7425,.7388,.7388,.7388,.7388,.7388,.7377,.7414,.7448,.7448,.7448,.7448,.74432,.75103,.75506,.75677,.7567,.7567,.75529,.75683,.75472,.76301,.76098,.7613,.7613,.76034,.76587,.76342,.75171,.74873,.7497,.7497,.75239,.75907,.76406,.76318,.76202,.7629,.7629,.76254,.76746,.76488,.76829,.76829,.769,.769,.76342,.75947,.76005,.76179,.76429,.7649,.7649,.76441,.76511,.76406,.76599,.76324,.7624,.7624,.7624,.76057,.75867,.76278,.76365,.7631,.7631,.76231,.75477,.74974,.74699,.74599,.7452,.7452,.74605,.74532,.74212,.74003,.74272,.7424,.7424,.74366,.74162,.74471,.75081,.74979,.748,.748,.74862,.75092,.7485,.74985,.74772,.7478,.7478,.74778,.74772,.74828,.75165,.75131,.7506,.7506,.74716,.74488,.74577,.74527,.74655,.7464,.7464,.74912,.75008,.75188,.7533,.7539,.7539,.7539,.7525,.74755,.74294,.74173,.74041,.7406,.7406,.74118,.73573,.73567,.734,.73196,.7318,.7318,.73206,.72886,.72918,.72764,.72929,.7318,.7318,.72966,.72844,.73142,.72955,.72918,.7318,.7318,.73308,.73551,.73454,.7347,.73833,.7318,.7318,.7318,.74129,.74294,.74333,.74316,.7318,.7318,.74372,.74245,.74074,.74074,.74052,.7318,.7318,.74167,.74289,.74118,.74058,.74333,.7318,.7318,.74543,.7554,.75706,.75284,.75574,.75574,.75574,.75643,.75375,.75131,.75523,.75369,.75369,.75369,.7554,.75827,.7657,.76834,.77059,.77059,.77059,.77059,.77274,.7703,.77244,.77598,.77598,.77598,.77592,.77399,.78162,.78474,.78914,.78914,.78914,.78933,.79189,.79397,.7946,.79688,.79688,.79688,.79923,.79955,.79968,.79872,.80341,.80341,.80341,.80096,.79911,.79618,.79504,.79126,.79126,.79126,.79126,.78914,.78709,.78672,.78833,.78833,.78833,.78709,.78401,.78746,.7907,.79453,.79453,.79453,.79523,.79669,.79592,.79815,.80051,.80051,.80051,.80115,.79904,.79334,.7977,.8071,.8071,.8071,.8071,.80834,.81539,.82318,.82427,.82427,.82427,.82454,.82244,.82055,.81981,.82088,.82088,.82088,.81713,.81453,.8148,.81044,.81189,.81189,.81189,.81031,.80841,.80567,.80321,.80128,.80128,.80128,.79968,.8,.80135,.79694,.79688,.79688,.79688,.79688,.79994,.80013,.8018,.80083,.80083,.80083,.79815,.79694,.8009,.80141,.79359,.79359,.79359,.79089,.78952,.78302,.77936,.77676,.77676,.77676,.779,.77561,.7761,.77991,.78345,.78345,.78345,.78456,.78217,.78561,.7879,.78846,.78846,.78846,.78846,.78536,.7829,.78462,.78229,.78229,.78229,.78168,.7826,.78561,.78647,.78691,.78691,.78691,.78524,.78082,.77803,.77592,.78561,.78561,.78561,.78771,.78864,.78388,.77863,.7776,.7776,.7776,.77797,.77694,.77809,.78094,.77918,.77918,.77918,.7773,.77604,.77869,.7853,.78376,.78376,.78376,.78376,.78376,.79108,.79441,.79713,.79713,.79713,.79713,.79891,.79789,.79904,.80626,.80626,.80626,.80502,.80295,.80026,.79777,.79974,.79974,.79974,.80502,.80522,.80483,.80347,.80263,.80263,.80263,.8027,.80295,.81031,.81149,.81162,.81162,.81162,.8107,.81116,.81347,.8138,.80775,.80775,.80775,.80109,.79808,.79707,.7946,.79308,.79308,.79308,.79346,.79365,.79605,.79605,.79745,.79745,.79745,.79745,.79227,.7892,.78684,.78939,.78939,.78939,.78827,.78493,.7807,.77815,.77574,.77574,.77574,.77059,.77531,.77531,.77357,.77882,.77882,.77882,.77942,.77447,.77256,.76734,.76406,.76406,.76406,.76458,.7647,.77172,.77471,.77785,.77785,.77785,.77604,.77706,.77507,.77555,.77555,.77555,.77555,.77471,.78052,.7807,.78272,.78345,.78345,.78345,.78561,.79252,.79466,.7939,.79384,.79384,.79384,.79498,.79669,.79277,.79158,.78567,.78567,.78567,.77924,.77954,.77706,.77748,.77779,.77779,.77779,.77906,.77718,.77815,.77748,.77754,.77754,.77754,.77736,.77143,.77785,.78278,.78253,.78253,.78253,.78278,.77664,.7807,.78119,.7764,.7764,.7764,.7764,.78211,.77664,.77574,.77077,.77077,.77077,.76917,.76805,.77537,.77232,.77137,.77137,.77137,.77351,.76965,.77441,.77089,.77149,.77149,.77149,.76965,.76899,.76994,.76617,.7589,.7589,.7589,.7589,.75324,.75182,.75131,.75143,.75143,.75143,.75171,.75154,.75148,.75375,.75942,.75942,.75942,.75942,.76023,.76086,.76167,.76307,.76307,.76307,.76353,.7619,.7604,.75953,.75924,.75924,.75924,.76121,.75832,.75735,.75443,.76092,.76092,.76092,.76011,.76005,.76406,.7654,.76558,.76558,.76558,.76799,.76823,.76911,.7684,.77024,.77024,.77024,.77024,.76787,.76617,.76687,.7626,.7626,.7626,.76127,.76412,.76115,.76034,.76447,.76447,.76447,.7654,.76711,.76829,.76552,.76711,.76711,.76711,.77006,.77417,.77334,.77042,.76599,.76599,.76599,.76599,.75861,.75844,.75827,.75965,.75965,.75965,.75971,.76098,.7684,.76941,.76728,.76728,.76728,.76811,.7697,.77238,.77489,.77423,.77423,.77423,.7731,.77232,.77071,.76658,.7725,.7725,.7725,.78107,.78021,.7793,.77519,.77304,.77304,.77304,.77304,.77131,.7697,.76699,.7674,.7674,.7674,.76965,.77292,.76959,.76587,.76313,.76313,.76313,.76307,.76348,.76752,.76476,.76289,.76289,.76289,.76225,.76144,.76092,.76406,.76307,.76307,.76307,.76359,.76161,.76359,.76254,.75723,.75723,.75723,.75723,.75523,.75523,.75746,.76023,.76023,.76023,.75861,.7542,.75358,.75729,.75597,.75597,.75597,.75586,.7525,.75177,.7533,.75182,.75182,.75182,.75809,.75649,.7489,.74605,.75194,.75194,.75194,.74744,.74616,.74929,.74856,.74744,.74744,.74744,.74632,.74327,.74349,.74102,.73714,.73714,.73714,.73589,.73589,.73589,.73308,.73325,.73325,.73325,.73303,.73303,.73529,.74069,.74571,.74571,.74571,.75115,.75228,.75637,.75563,.75563,.7542,.7542,.75364,.75381,.75483,.75222,.75415,.75415,.75415,.75205,.74963,.74918,.74901,.75438,.75438,.75438,.75415,.75381,.75804,.7608,.76365,.76365,.76365,.76179,.76138,.75815,.75273,.75358,.75358,.75358,.75222,.75483,.75529,.75199,.75381,.75381,.75381,.75381,.7554,.75936,.75781,.75913,.75913,.75913,.75907,.75786,.76075,.75936,.75415,.75415,.75415,.75092,.74934,.74516,.74416,.74505,.74505,.74505,.74549,.7475,.75041,.75036,.74951,.74951,.74951,.74934,.75233,.75092,.74817,.74566,.74566,.74566,.74516,.74705,.74549,.74466,.74833,.74833,.74833,.74979,.7494,.75053,.74867,.74705,.74705,.74705,.75047,.75098,.75041,.7475,.75024,.75024,.75024,.74884,.74845,.75008,.74727,.74727,.74727,.74727,.7489,.7451,.74212,.74113,.74294,.74294,.74294,.74316,.74499,.74538,.74283,.74466,.74466,.74466,.74316,.74206,.74261,.74167,.74527,.74527,.74527,.74311,.74245,.74344,.7441,.7425,.7425,.7425,.7425,.74555,.74571,.74195,.74366,.74366,.74366,.74394,.742,.73997,.74069,.73926,.73926,.73926,.74239,.74239,.74621,.7475,.75284,.75284,.75284,.75375,.75313,.75171,.75053,.7471,.7471,.7471,.74588,.7466,.74946,.75809,.75689,.75689,.75689,.75792,.75907,.76161,.76272,.76412,.76412,.76412,.76412,.76254,.76494,.76576,.76342,.76342,.76342,.76447,.76179,.76383,.76505,.76699,.76699,.76699,.76693,.76617,.76611,.76517,.76505,.76505,.76505,.76318,.76092,.76121,.76069,.75861,.75861,.75861,.75994,.75942,.76057,.7566,.75614,.75614,.75614,.75614,.75455,.75064,.75432,.75637,.75637,.75637,.75563,.75552,.7513,.75047,.75267,.75267,.75267,.75199,.75058,.75313,.75228,.75131,.75131,.75131,.75307,.75375,.75182,.75211,.75216,.75216,.75216,.75216,.74946,.75398,.75597,.75907,.75907,.75907,.76017,.76028,.75867,.75729,.75432,.75432,.75432,.75483,.75432,.75352,.7542,.7533,.7533,.7533,.75358,.75477,.75358,.75415,.75477,.75477,.75477,.75512,.75506,.75222,.75019,.75092,.75092,.75092,.75154,.75058,.75053,.75222,.75769,.75769,.75769,.75769,.75694,.75752,.76086,.7615,.7615,.7615,.76359,.76371,.76418,.76482,.76546,.76546,.76546,.76593,.76482,.76034,.75988,.76005,.76005,.76005,.76057,.76028,.75878,.75896,.75626,.75626,.75626,.75626,.75597,.75477,.75426,.7558,.7558,.7558,.75677,.75546,.75165,.75273,.75262,.75262,.75262,.75148,.75256,.75313,.75273,.7525,.7525,.7525,.75205,.75177,.75626,.75907,.75443,.75443,.75443,.75557,.75569,.75752,.75861,.75855,.75855,.75855,.76092,.75988,.76225,.76208,.75965,.75965,.75965,.75988,.76005,.76005,.76005,.76464,.76464,.76464,.76576,.76994,.76994,.76994,.76994,.76994,.76994,.76994,.76994,.7677,.76458,.76622,.76622,.76622,.7664,.76558,.76628,.76658,.76558,.76558,.76558,.76611,.76529,.76243,.76086,.76104,.76104,.76104,.75861,.75878,.75781,.7566,.75569,.75569,.75569,.7533,.75313,.7525,.75245,.7516,.7516,.7516,.75081,.75233,.75449,.75438,.75477,.75477,.75477,.75477,.75426,.7558,.75449,.7562,.7562,.7562,.75307,.75296,.75148,.74845,.74466,.74466,.74466,.74873,.74833,.74671,.74543,.7451,.7451,.7451,.7354,.72828,.72754,.72359,.71937,.71937,.71937,.71613,.70547,.68985,.68989,.69774,.69774,.69774,.69051,.69008,.6992,.71038,.71144,.71144,.71144,.70641,.70487,.70338,.70527,.70711,.70711,.70711,.70786,.715,.71256,.71505,.71505,.71505,.71505,.71757,.71922,.70992,.70811,.7124,.7124,.7124,.70992,.70408,.70646,.71109,.70972,.70972,.70972,.71159,.71541,.71829,.71891,.71093,.71093,.71093,.70998,.71266,.70801,.71352,.71767,.71767,.71767,.71367,.71352,.71058,.70972,.70952,.70952,.70952,.70952,.71979,.71984,.71762,.71352,.71352,.71352,.7151,.72443,.72569,.72653,.72532,.72532,.72532,.73368,.73992,.74052,.7403,.74466,.74466,.74466,.74722,.74499,.74683,.73784,.73551,.73551,.73551,.73508,.73757,.73774,.73589,.736,.736,.736,.73828,.73986,.73578,.73287,.73121,.73121,.73121,.73089,.73378,.73378,.73605,.73719,.73719,.73719,.73839,.73621,.73866,.73774,.73562,.73562,.73562,.73708,.73443,.73888,.73839,.7367,.7367,.7367,.73839,.74372,.74516,.74671,.7451,.7451,.7451,.7475,.74778,.7485,.74449,.74605,.74605,.74605,.74605,.74783,.75403,.75233,.74755,.74755,.74755,.74884,.75239,.75449,.7566,.75472,.75472,.75472,.75717,.7593,.75924,.75786,.75729,.75729,.75729,.75717,.75792,.76017,.76167,.76353,.76353,.76353,.76675,.76599,.76529,.76202,.764,.764,.764,.764,.75809,.75913,.75976,.75838,.75838,.75838,.75901,.75896,.75942,.75758,.75838,.75838,.75838,.75228,.75131,.74862,.74772,.74649,.74649,.74649,.7475,.74677,.74968,.75233,.75131,.75131,.75131,.75364,.75347,.7533,.75643,.76127,.76127,.76127,.76127,.76144,.76109,.75586,.75804,.75804,.75804,.75959,.76115,.76208,.76092,.76104,.76104,.76104,.75752,.75965,.75177,.74912,.75086,.75086,.75086,.75432,.76075,.76115,.76622,.76693,.76693,.76693,.77101,.76823,.76823,.76202,.76063,.76063,.76063,.76423,.76371,.76552,.76435,.76505,.76505,.76505,.76441,.76728,.76905,.76846,.77012,.77012,.77012,.77131,.77208,.77316,.7764,.78119,.78119,.78119,.78119,.78076,.78107,.7853,.78315,.78315,.78315,.78388,.78604,.78413,.78629,.78277886,.78277886,.78277886,.77827068,.77471336,.77784692,.77911959,.77911959,.77911959,.77911959,.77911959,.78088396,.78314668,.78542256,.78542256,.78542256,.78542256,.78425222,.78696781,.78833268,.78696781,.7870917,.7870917,.7870917,.78198311,.78455986,.78678206,.79026395,.78573112,.78573112,.78573112,.78357624,.78523753,.79013906,.79195375,.78641082,.78641082,.78641082,.7850526,.78727759,.78277886,.78064012,.78247261,.78247261,.78247261,.7797879,.78015291,.78228898,.77954475,.78265634,.78265634,.78265634,.78412922,.78622533,.78808417,.78827053,.78672016,.78672016,.78672016,.78672016,.78839483,.78665828,.78764965,.79276994,.79276994,.79276994,.79283279,.79346187,.79693975,.7980846,.78833268,.78833268,.78833268,.78982703,.79201647,.79170295,.79132706,.78939059,.78939059,.78939059,.78988942,.79145231,.79132706,.79611496,.80044825,.80044825,.80044825,.80128205,.80289041,.80224629,.80269706,.79961618,.79961618,.79961618,.79916886,.79605158,.79605158,.79327304,.79491256,.79491256,.79491256,.7940289,.79170295,.79522863,.79586152,.79586152,.79586152,.79586152,.79586152]},Be=function(t){Object(h.a)(l,t);var e=Object(b.a)(l);function l(t){var n;return Object(d.a)(this,l),(n=e.call(this,t)).getAddon=function(){try{var t=new f.Addon({});return t.on("init",(function(t){console.debug("Addon initialization",t),n.load(t),S(t.authUser&&t.authUser.id)})),t.on("reload",(function(){console.debug("Reload invoked!")})),t.on("update",(function(t){console.debug("Addon update - options: ",t),n.setState({isLoadingOnUpdate:!0}),n.load(t),E("update")})),t}catch(e){console.warn("Falied to load the addon -- ",e)}return null},n.load=P.a.debounce((function(t){n.loadData(t)}),100,{leading:!0}),n.computePortfolios=function(t,e,l,a,o){var i=function(t,e){return t.filter((function(t){return!t.deleted&&t.type})).filter((function(t){return["sell","buy","income","dividend","distribution","tax","fee"].includes(t.type.toLowerCase())&&(t.security||t.symbol)})).map((function(t){var n=z(t.date),l=Number(t.currency_amount);return l=t.investment&&t.investment.includes(":usd")?I(n,l,e):l,{date:n,account:t.investment,symbol:t.security?R(t.security):t.symbol,price:t.currency_amount&&t.quantity?Number(Math.abs(t.currency_amount/t.quantity).toFixed(3)):0,type:t.type,amount:Math.abs(l),currency:t.security?t.security.currency:"USD",shares:t.quantity||0,fees:t.fee}}))}(l,o),r=i.reduce((function(t,e){return t[e.symbol]||(t[e.symbol]=[]),t[e.symbol].push(e),t}),{});t.forEach((function(t){t.transactions=r[R(t.security)]||[]}));var u=function(t,e,n){return t.filter((function(t){return!t.deleted})).reduce((function(t,l){var a=l.type;if(["sell","buy","unknown"].includes(a))return t;var o=z(l.date);if(["deposit","transfer","withdrawal"].includes(a)){var i=(n||[]).find((function(t){return t.institution===l.institution}));i&&i.created_at>o&&(o=i.created_at)}var r=o.format(Y),u=t[r]?t[r]:{deposit:0,withdrawal:0,interest:0,income:0},s=Number(l.currency_amount);return s=l.investment&&l.investment.includes(":usd")?I(o,s,e):s,["deposit"].includes(a)?u.deposit+=s:"transfer"===a?["FXT","BRW"].includes(l.origin_type)||l.symbol||(u.deposit+=s):["fee","interest","tax"].includes(a)?u.interest+=Math.abs(s):["income","dividend","distribution"].includes(a)?u.income+=s:"withdrawal"===a?u.withdrawal+=Math.abs(s):console.debug("Unhandled type",a),t[r]=u,t}),{})}(l,o,a),s=Object.keys(e).reduce((function(t,n){var l=u[n]||{};return t[n]={value:e[n],deposit:l.deposit||0,withdrawal:l.withdrawal||0,income:l.income||0,interest:l.interest||0},t}),{}),c=[],d=Object.keys(s).sort(),p=Object.keys(u).filter((function(t){return t<d[0]})).reduce((function(t,e){var n=u[e];return t+=n.deposit-n.withdrawal}),0);d.forEach((function(t){var e=s[t];p+=e.deposit-e.withdrawal,c.push({date:t,value:e.value,deposits:p})})),n.setState({positions:t,securityTransactions:i,allPortfolios:c,portfolios:c.filter((function(t){return D()(t.date).isoWeekday()<=5})),isLoaded:!0,isLoadingOnUpdate:!1,accounts:a,currencyCache:o})},n.state={addon:n.getAddon(),currencyCache:void 0,securityTransactions:[],portfolios:[],allPortfolios:[],positions:[],accounts:[],isLoaded:!1,privateMode:!1,fromDate:T},n}return Object(p.a)(l,[{key:"loadCurrenciesCache",value:function(){return this.state.currencyCache?null:(console.debug("Loading currencies data."),this.state.addon.request({method:"GET",endpoint:"currencies/usd/history",query:{base:"cad"}}).then((function(t){return J(t)})).catch((function(t){console.error("Failed to load currency data.",t)})))}},{key:"mergeOptions",value:function(t){this.state.options||this.setState({options:t});var e=this.state.options;return Object.keys(t).forEach((function(n){e[n]=t[n]})),this.setState({options:e}),e}},{key:"loadData",value:function(){var t=Object(c.a)(u.a.mark((function t(e){var n,l,a,o,i,r,c,d;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.mergeOptions(e),this.setState({privateMode:e.privateMode,fromDate:e.fromDate}),t.next=4,Promise.all([this.loadPositions(e),this.loadPortfolioData(e),this.loadTransactions(e),this.loadInstitutionsData(e),this.loadCurrenciesCache()]);case 4:n=t.sent,l=Object(s.a)(n,5),a=l[0],o=l[1],i=l[2],r=l[3],c=l[4],d=c||this.state.currencyCache,console.debug("Loaded data",{positions:a,portfolioByDate:o,transactions:i,accounts:r,currencyCache:d}),this.computePortfolios(a,o,i,r,d);case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"loadPortfolioData",value:function(t){console.debug("Loading portfolio data.");var e={from:t.fromDate,to:t.toDate,groups:t.groupsFilter,institutions:t.institutionsFilter,investments:"all"===t.investmentsFilter?null:t.investmentsFilter};return this.state.addon.request({query:e,method:"GET",endpoint:"portfolio"}).then((function(t){return W(t)})).catch((function(t){console.error("Failed to load portfolio data.",t)}))}},{key:"loadPositions",value:function(t){console.debug("Loading positions data.");var e={assets:!0,groups:t.groupsFilter,institutions:t.institutionsFilter,investments:"all"===t.investmentsFilter?null:t.investmentsFilter};return this.state.addon.request({query:e,method:"GET",endpoint:"positions"}).then((function(t){return K(t)})).catch((function(t){console.error("Failed to load position data.",t)}))}},{key:"loadInstitutionsData",value:function(t){console.debug("Loading institutions data..");var e={assets:!0,groups:t.groupsFilter,institutions:t.institutionsFilter,investments:"all"===t.investmentsFilter?null:t.investmentsFilter};return this.state.addon.request({query:e,method:"GET",endpoint:"institutions"}).then((function(e){return G(e,t.groupsFilter?t.groupsFilter.split(","):[],t.institutionsFilter?t.institutionsFilter.split(","):[])})).catch((function(t){console.error("Failed to load institutions data.",t)}))}},{key:"loadTransactions",value:function(t){console.debug("Loading transactions data.");var e=t.fromDate,n={from:e&&e<T?e:T,groups:t.groupsFilter,institutions:t.institutionsFilter,investments:"all"===t.investmentsFilter?null:t.investmentsFilter};return this.state.addon.request({query:n,method:"GET",endpoint:"transactions"}).then((function(t){return t})).catch((function(t){console.error("Failed to load transactions data.",t)}))}},{key:"loadStaticPortfolioData",value:function(){var t=Object(c.a)(u.a.mark((function t(){var e,l,a,o,i,r,c,d,p,h,b,f;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=11;break;case 3:i=t.sent,r=Object(s.a)(i,4),e=r[0],l=r[1],a=r[2],o=r[3],t.next=19;break;case 11:return t.next=13,Promise.all([n.e(4).then(n.bind(null,580)).then((function(t){return t.DATA})),n.e(6).then(n.bind(null,581)).then((function(t){return t.DATA})),n.e(8).then(n.bind(null,582)).then((function(t){return t.DATA})),n.e(10).then(n.bind(null,583)).then((function(t){return t.DATA}))]);case 13:c=t.sent,d=Object(s.a)(c,4),e=d[0],l=d[1],a=d[2],o=d[3];case 19:p=J(Ie),h=W(l),b=K(a),f=G(e),this.computePortfolios(b,h,o,f,p),console.debug("State:",this.state);case 25:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=this;this.state.addon||setTimeout((function(){return t.loadStaticPortfolioData()}),0),setTimeout((function(){return t.computeChangeLogCount()}),1e3)}},{key:"computeChangeLogCount",value:function(){var t=ct();t&&this.setState({newChangeLogsCount:t})}},{key:"render",value:function(){var t=this;return Object(it.jsx)(M.b,{width:1,justifyContent:"center",children:Object(it.jsxs)("div",{style:{padding:4,maxWidth:this.state.addon?"100%":1100},children:[this.state.isLoaded?Object(it.jsxs)(it.Fragment,{children:[!this.state.addon&&Object(it.jsx)(it.Fragment,{children:Object(it.jsxs)("p",{style:{fontWeight:"bolder",textAlign:"center",color:"#C00316",textDecoration:"underline"},children:[Object(it.jsx)("img",{src:"/wealthica-portfolio-addon/favicon.png",alt:"favicon",width:"50",height:"50",style:{backgroundColor:"#fff"}}),"!! This is sample data !!"]})}),this.state.isLoadingOnUpdate&&Object(it.jsx)(M.b,{width:1,justifyContent:"center",alignItems:"center",children:Object(it.jsx)(O.a,{size:"small"})}),Object(it.jsxs)(k.a,{defaultActiveKey:"pnl",onChange:function(e){"change-log"===e&&t.state.newChangeLogsCount&&(dt(),t.setState({newChangeLogsCount:void 0})),E("tab-change",{tab:e})},size:"large",children:[Object(it.jsxs)(k.a.TabPane,{destroyInactiveTabPane:!0,forceRender:!0,tab:"P&L Charts",children:[Object(it.jsx)(ve,{portfolios:this.state.portfolios,privateMode:this.state.privateMode,positions:this.state.positions}),Object(it.jsx)(kt,{portfolios:this.state.portfolios,isPrivateMode:this.state.privateMode}),Object(it.jsx)(ze,{portfolios:this.state.allPortfolios,isPrivateMode:this.state.privateMode}),Object(it.jsx)(ke,{portfolios:this.state.portfolios,isPrivateMode:this.state.privateMode}),Object(it.jsx)(Pe,{portfolios:this.state.portfolios,isPrivateMode:this.state.privateMode})]},"pnl"),Object(it.jsx)(k.a.TabPane,{forceRender:!0,tab:"Holdings Analyzer",children:this.state.positions.length?Object(it.jsxs)(it.Fragment,{children:[Object(it.jsx)(Vt,{currencyCache:this.state.currencyCache||{},positions:this.state.positions,accounts:this.state.accounts,isPrivateMode:this.state.privateMode,addon:this.state.addon}),Object(it.jsx)(Oe,{positions:this.state.positions}),Object(it.jsx)($t,{positions:this.state.positions,isPrivateMode:this.state.privateMode})]}):Object(it.jsx)(j.a,{description:"No Holdings"})},"holdings"),Object(it.jsx)(k.a.TabPane,{destroyInactiveTabPane:!0,tab:"Gainers/Losers",children:Object(it.jsx)(Te,{positions:this.state.positions,isPrivateMode:this.state.privateMode,addon:this.state.addon})},"gainers-losers"),Object(it.jsx)(k.a.TabPane,{destroyInactiveTabPane:!0,tab:"Realized P&L",children:Object(it.jsx)(Se,{currencyCache:this.state.currencyCache||{},fromDate:this.state.fromDate,transactions:this.state.securityTransactions,accounts:this.state.accounts,isPrivateMode:this.state.privateMode})},"realized-pnl"),Object(it.jsx)(k.a.TabPane,{destroyInactiveTabPane:!0,tab:"News",children:Object(it.jsx)(ue,{positions:this.state.positions})},"news"),Object(it.jsx)(k.a.TabPane,{destroyInactiveTabPane:!0,tab:"Events",children:Object(it.jsx)(Et,{positions:this.state.positions})},"events"),!(!this.state.options||!this.state.options.authUser||"k.elayamani@gmail.com"!==this.state.options.authUser.email)&&Object(it.jsx)(k.a.TabPane,{destroyInactiveTabPane:!0,tab:Object(it.jsx)(m.a,{count:this.state.newChangeLogsCount,overflowCount:9,offset:[15,2],children:"Change Log"}),children:Object(it.jsx)(st,{})},"change-log")]})]}):Object(it.jsx)(M.b,{justifyContent:"center",width:1,children:Object(it.jsx)(O.a,{size:"large"})}),Object(it.jsx)("br",{}),Object(it.jsx)("hr",{}),Object(it.jsx)(y.a.Title,{level:4,type:"secondary",children:"Disclaimer"}),Object(it.jsxs)(g.a,{type:"secondary",children:["This tool is simply a calculator of profit and loss using the deposits/withdrawals and daily portfolio values. Results provided by this tool do not constitute investment advice. The makers of this tool are not responsible for the consequences of any decisions or actions taken in reliance upon or as a result of the information provided by this tool. The information on the add-on may contain errors or inaccuracies. The use of the add-on is at your own risk and is provided without any warranty.",Object(it.jsx)("br",{}),Object(it.jsx)("br",{}),"Please trade responsibly. For any issues or feedback, contact the developer at"," ",Object(it.jsx)("a",{href:"mailto:k.elayamani@gmail.com",children:"k.elayamani@gmail.com"})," or create a github issue"," ",Object(it.jsx)("a",{href:"https://github.com/mani-coder/wealthica-portfolio-addon/issues/new?assignees=&labels=&template=custom.md&title=",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]}),Object(it.jsx)("br",{}),Object(it.jsx)("hr",{})]})})}}]),l}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(it.jsx)(Be,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[568,1,2]]]);
//# sourceMappingURL=main.4411d6ad.chunk.js.map